{
  "title": "Velero - Overview",
  "description": "# About\nThis dashboard provides observability for your Velero backup and restore operations in Kubernetes.\n\nGet insights into backup success rates, volume snapshots, restore operations, and resource utilization.",
  "widgets": [
    {
      "id": 1,
      "definition": {
        "title": "About",
        "banner_img": "/static/images/logos/velero_large.svg",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2,
            "definition": {
              "type": "note",
              "content": "# Velero\nThis dashboard provides observability for your Velero backup and restore operations in Kubernetes.\n\nGet insights into backup success rates, volume snapshots, restore operations, and resource utilization.",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 3,
            "definition": {
              "type": "note",
              "content": "# Useful Links\n\n[Velero Integration](https://docs.datadoghq.com/integrations/velero)\n\n[Velero Documentation](https://velero.io/docs)",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 2,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 4,
        "height": 6
      }
    },
    {
      "id": 4,
      "definition": {
        "title": "Overview",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 5,
            "definition": {
              "type": "note",
              "content": "This overview provides a quick look into the general state of your Velero deployment.",
              "background_color": "blue",
              "font_size": "16",
              "text_align": "center",
              "vertical_align": "center",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 8,
              "height": 1
            }
          },
          {
            "id": 2793342627178326,
            "definition": {
              "title": "Last backup status",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "min:velero.backup.last_status{$cluster-location,$cluster-name,$cluster-uid,$host}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": "=",
                      "value": 1,
                      "palette": "white_on_green"
                    },
                    {
                      "comparator": "=",
                      "value": 0,
                      "palette": "white_on_red"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "area"
              }
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 4357467914844208,
            "definition": {
              "title": "Number of backups",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.backup.amount{$cluster-location,$cluster-name,$cluster-uid,$host}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": "<",
                      "value": 1,
                      "palette": "white_on_red"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "type": "bars"
              }
            },
            "layout": {
              "x": 2,
              "y": 1,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 6,
            "definition": {
              "title": "Monitors",
              "type": "manage_status",
              "display_format": "countsAndList",
              "color_preference": "text",
              "hide_zero_counts": true,
              "show_status": true,
              "last_triggered_format": "relative",
              "query": "tag:(integration:velero) ",
              "sort": "status,asc",
              "count": 50,
              "start": 0,
              "summary_type": "monitors",
              "show_priority": false,
              "show_last_triggered": false
            },
            "layout": {
              "x": 4,
              "y": 1,
              "width": 4,
              "height": 4
            }
          },
          {
            "id": 3826606931701378,
            "definition": {
              "title": "Backup errors encountered",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "error"
                        }
                      },
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:velero.backup.items.errors{$cluster-location,$cluster-name,$cluster-uid,$host}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "white_on_red"
                    },
                    {
                      "comparator": "=",
                      "value": 0,
                      "palette": "white_on_green"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 4809795242658240,
            "definition": {
              "title": "Items backed up",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "item"
                        }
                      },
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.backup.items{$cluster-location,$cluster-name,$cluster-uid,$host}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar"
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 2,
              "y": 3,
              "width": 2,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 4,
        "y": 0,
        "width": 8,
        "height": 6
      }
    },
    {
      "id": 9,
      "definition": {
        "title": "Backup Operations",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 10,
            "definition": {
              "type": "note",
              "content": "Monitor backup operations, including success rates, sizes, and durations. This helps ensure your backup strategy is working effectively and identify any issues.",
              "background_color": "blue",
              "font_size": "16",
              "text_align": "center",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 11,
            "definition": {
              "title": "Creation success/failure",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Success",
                      "style": {
                        "palette": "green"
                      },
                      "formula": "query1"
                    },
                    {
                      "alias": "Failure",
                      "style": {
                        "palette": "red"
                      },
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.backup.success.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:velero.backup.failure.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 7,
              "height": 4
            }
          },
          {
            "id": 7813834185296242,
            "definition": {
              "title": "Deletion success/failure",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Success",
                      "style": {
                        "palette": "green"
                      },
                      "formula": "query1"
                    },
                    {
                      "alias": "Failure",
                      "style": {
                        "palette": "red"
                      },
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.backup.deletion.success.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:velero.backup.deletion.failure.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 7,
              "y": 1,
              "width": 5,
              "height": 4
            }
          },
          {
            "id": 13,
            "definition": {
              "title": "Duration",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "second"
                        }
                      },
                      "style": {
                        "palette": "dog_classic"
                      },
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:velero.backup.duration.seconds.sum{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 5,
              "width": 7,
              "height": 4
            }
          },
          {
            "id": 12,
            "definition": {
              "title": "Size",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte"
                        }
                      },
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.backup.tarball_size_bytes{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ]
            },
            "layout": {
              "x": 7,
              "y": 5,
              "width": 5,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 6,
        "width": 12,
        "height": 10
      }
    },
    {
      "id": 14,
      "definition": {
        "title": "Restore Operations",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 15,
            "definition": {
              "type": "note",
              "content": "Track restore operations to ensure successful recovery of your Kubernetes resources. Monitor success rates and durations to maintain confidence in your disaster recovery capabilities.",
              "background_color": "blue",
              "font_size": "16",
              "text_align": "center",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 8,
            "definition": {
              "title": "Success count",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.restore.success.count{$cluster-location,$cluster-name,$cluster-uid,$host}.as_count()",
                      "aggregator": "sum"
                    }
                  ],
                  "response_format": "scalar"
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "type": "bars",
                "yaxis": {}
              }
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 16,
            "definition": {
              "title": "Success/Failure",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Success",
                      "style": {
                        "palette": "green"
                      },
                      "formula": "query1"
                    },
                    {
                      "alias": "Failure",
                      "style": {
                        "palette": "red"
                      },
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.restore.success.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:velero.restore.failed.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 2,
              "y": 1,
              "width": 10,
              "height": 4
            }
          },
          {
            "id": 4401861482509386,
            "definition": {
              "title": "Number of restores",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:velero.restore.amount{$cluster-location,$cluster-name,$cluster-uid,$host}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar"
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 2,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 16,
        "width": 12,
        "height": 6,
        "is_column_break": true
      }
    },
    {
      "id": 18,
      "definition": {
        "title": "Volume Snapshots",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 19,
            "definition": {
              "type": "note",
              "content": "Monitor volume snapshot operations to ensure successful backup of persistent volumes. Track success rates and identify any issues with specific volumes or storage providers.",
              "background_color": "blue",
              "font_size": "16",
              "text_align": "center",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 20,
            "definition": {
              "title": "Volume snapshot success/failure",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Success",
                      "style": {
                        "palette": "green"
                      },
                      "formula": "query1"
                    },
                    {
                      "alias": "Failure",
                      "style": {
                        "palette": "red"
                      },
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.volume_snapshot.success.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:velero.volume_snapshot.failure.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 6,
              "height": 4
            }
          },
          {
            "id": 3515972958192314,
            "definition": {
              "title": "CSI snapshot success/failure",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Success",
                      "style": {
                        "palette": "green"
                      },
                      "formula": "query1"
                    },
                    {
                      "alias": "Failure",
                      "style": {
                        "palette": "red"
                      },
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.csi_snapshot.success.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:velero.csi_snapshot.failure.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 1,
              "width": 6,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 22,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 6954549226662166,
      "definition": {
        "title": "Pod Volume Snapshots",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2112940802060752,
            "definition": {
              "type": "note",
              "content": "Monitor pod volume backup and restore operations using Restic or Kopia. Track the success, failure, and cancellation of file-level data transfers to ensure reliable protection and recovery of in-pod data.",
              "background_color": "blue",
              "font_size": "16",
              "text_align": "center",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 726101722788002,
            "definition": {
              "title": "Pod volume uploads",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Success",
                      "style": {
                        "palette": "green"
                      },
                      "formula": "query1"
                    },
                    {
                      "alias": "Failure",
                      "style": {
                        "palette": "red"
                      },
                      "formula": "query2"
                    },
                    {
                      "alias": "Cancel",
                      "style": {
                        "palette": "orange"
                      },
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.pod_volume.data.upload.success.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:velero.pod_volume.data.upload.failure.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:velero.pod_volume.data.upload.cancel.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 6,
              "height": 4
            }
          },
          {
            "id": 1196773852991038,
            "definition": {
              "title": "Pod volume downloads",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Success",
                      "style": {
                        "palette": "green"
                      },
                      "formula": "query1"
                    },
                    {
                      "alias": "Failure",
                      "style": {
                        "palette": "red"
                      },
                      "formula": "query2"
                    },
                    {
                      "alias": "Cancel",
                      "style": {
                        "palette": "orange"
                      },
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:velero.pod_volume.data.download.success.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:velero.pod_volume.data.download.failure.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:velero.pod_volume.data.download.cancel.count{$cluster-location,$cluster-name,$cluster-uid,$host} by {cluster-location,cluster-name,cluster-uid,host}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "order_by": "values",
                    "color_order": "shuffled",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 1,
              "width": 6,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 28,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 21,
      "definition": {
        "title": "Logs",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 22,
            "definition": {
              "type": "note",
              "content": "When investigating logs, you can refer to the timeseries data to see the ratio of a certain log status to other expected statuses. If you notice an increase in the ratio of error logs, you can refer to the log stream, which is configured to filter erroneous logs.",
              "background_color": "blue",
              "font_size": "16",
              "text_align": "center",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 23,
            "definition": {
              "title": "Error log count",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "a"
                    }
                  ],
                  "queries": [
                    {
                      "name": "a",
                      "data_source": "logs",
                      "search": {
                        "query": "source:velero status:error $cluster-location $cluster-name $cluster-uid $host"
                      },
                      "indexes": [
                        "*"
                      ],
                      "group_by": [],
                      "compute": {
                        "aggregation": "count",
                        "metric": "count"
                      },
                      "storage": "flex_tier"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "semantic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 8,
              "height": 4
            }
          },
          {
            "id": 24,
            "definition": {
              "title": "Velero logs",
              "title_size": "16",
              "title_align": "left",
              "requests": [
                {
                  "response_format": "event_list",
                  "columns": [
                    {
                      "field": "status_line",
                      "width": "auto"
                    },
                    {
                      "field": "timestamp",
                      "width": "auto"
                    },
                    {
                      "field": "host",
                      "width": "auto"
                    },
                    {
                      "field": "service",
                      "width": "auto"
                    },
                    {
                      "field": "content",
                      "width": "compact"
                    }
                  ],
                  "query": {
                    "data_source": "logs_stream",
                    "query_string": "source:velero $cluster-location $cluster-name $cluster-uid $host",
                    "indexes": [],
                    "storage": "hot"
                  }
                }
              ],
              "type": "list_stream"
            },
            "layout": {
              "x": 8,
              "y": 1,
              "width": 4,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 34,
        "width": 12,
        "height": 6
      }
    }
  ],
  "template_variables": [
    {
      "name": "cluster-location",
      "prefix": "cluster-location",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "cluster-name",
      "prefix": "cluster-name",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "cluster-uid",
      "prefix": "cluster-uid",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "host",
      "prefix": "host",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}
