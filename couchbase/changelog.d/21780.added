Add support for Prometheus-based metrics collection