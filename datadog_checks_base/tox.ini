[tox]
minversion = 2.0
skip_missing_interpreters = true
envlist =
    py38

[testenv]
dd_check_style = true
usedevelop = true
deps =
    -e../datadog_checks_tests_helper
    -rrequirements-dev.txt
passenv =
    ALLUSERSPROFILE
    APPDATA
    COBERTURA_HOME
    CODECOV_TOKEN
    COMMONPROGRAMFILES
    COMMONPROGRAMFILES(X86)
    COMMONPROGRAMW6432
    COMMON_TESTRESULTSDIRECTORY
    COMPUTERNAME
    COMSPEC
    CONDA
    DDEV_COLOR
    DDEV_COV_MISSING
    DOCKER_USERNAME
    DRIVERDATA
    GCM_INTERACTIVE
    GECKOWEBDRIVER
    GIT_TERMINAL_PROMPT
    HOMEDRIVE
    HOMEPATH
    IEWEBDRIVER
    IMAGEVERSION
    LOCALAPPDATA
    LOGONSERVER
    M2
    M2_HOME
    M2_REPO
    MAVEN_OPTS
    MONAGENTCLIENTLOCATION
    MSDEPLOY_HTTP_USER_AGENT
    NUMBER_OF_PROCESSORS
    ORACLE_DOCKER_USERNAME
    OS
    PATH
    PATHEXT
    PIPELINE_WORKSPACE
    PROCESSOR_ARCHITECTURE
    PROCESSOR_IDENTIFIER
    PROCESSOR_LEVEL
    PROCESSOR_REVISION
    PROGRAMDATA
    PROGRAMFILES
    PROGRAMFILES(X86)
    PROGRAMW6432
    PROMPT
    PSEXECUTIONPOLICYPREFERENCE
    PSMODULEPATH
    PUBLIC
    PYTEST_ADDOPTS
    PYTHONHASHSEED
    PYTHON_HOME
    PY_COLORS
    RUNNER_TOOLSDIRECTORY
    SBT_HOME
    SELENIUM_JAR_PATH
    SYSTEM
    SYSTEMDRIVE
    SYSTEMROOT
    TASK_DISPLAYNAME
    TEMP
    TMP
    USEPYTHONVERSION1_PYTHONLOCATION
    USEPYTHONVERSION2_PYTHONLOCATION
    USERDOMAIN
    USERDOMAIN_ROAMINGPROFILE
    USERNAME
    USERPROFILE
    WINDIR
commands =
    pip install -r requirements.in
    pytest -v {posargs}
