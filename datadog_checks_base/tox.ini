[tox]
minversion = 2.0
skip_missing_interpreters = true
envlist =
    py38

[testenv]
dd_check_style = true
usedevelop = true
deps =
    -e../datadog_checks_tests_helper
    -rrequirements-dev.txt
passenv =
    ALLUSERSPROFILE
    ANDROID_HOME
    ANDROID_NDK_HOME
    ANDROID_NDK_PATH
    ANT_HOME
    APPDATA
    AZURE_EXTENSION_DIR
    AZURE_HTTP_USER_AGENT
    BOOST_ROOT
    BOOST_ROOT_1_69_0
    CHOCOLATEYINSTALL
    CHROMEWEBDRIVER
    COBERTURA_HOME
    CODECOV_TOKEN
    COMMONPROGRAMFILES
    COMMONPROGRAMFILES(X86)
    COMMONPROGRAMW6432
    COMMON_TESTRESULTSDIRECTORY
    COMPUTERNAME
    COMSPEC
    CONDA
    DDEV_COLOR
    DDEV_COV_MISSING
    DOCKER_USERNAME
    DRIVERDATA
    GCM_INTERACTIVE
    GECKOWEBDRIVER
    GIT_TERMINAL_PROMPT
    GOROOT
    GOROOT_1_10_X64
    GOROOT_1_11_X64
    GOROOT_1_12_X64
    GOROOT_1_13_X64
    GRADLE_HOME
    HOMEDRIVE
    HOMEPATH
    IEWEBDRIVER
    IMAGEVERSION
    JAVA_HOME
    JAVA_HOME_11_X64
    JAVA_HOME_7_X64
    JAVA_HOME_8_X64
    LOCALAPPDATA
    LOGONSERVER
    M2
    M2_HOME
    M2_REPO
    MAVEN_OPTS
    MONAGENTCLIENTLOCATION
    MSDEPLOY_HTTP_USER_AGENT
    NPM_CONFIG_CACHE
    NPM_CONFIG_PREFIX
    NUMBER_OF_PROCESSORS
    ORACLE_DOCKER_USERNAME
    OS
    PATH
    PATHEXT
    PHPROOT
    PIPELINE_WORKSPACE
    PROCESSOR_ARCHITECTURE
    PROCESSOR_IDENTIFIER
    PROCESSOR_LEVEL
    PROCESSOR_REVISION
    PROGRAMDATA
    PROGRAMFILES
    PROGRAMFILES(X86)
    PROGRAMW6432
    PROMPT
    PSEXECUTIONPOLICYPREFERENCE
    PSMODULEPATH
    PUBLIC
    PYTEST_ADDOPTS
    PYTHONHASHSEED
    PYTHON_HOME
    PY_COLORS
    RUNNER_TOOLSDIRECTORY
    SBT_HOME
    SELENIUM_JAR_PATH
    SYSTEM
    SYSTEMDRIVE
    SYSTEMROOT
    TASK_DISPLAYNAME
    TEMP
    TF_BUILD
    TMP
    TOX_ENV_DIR
    TOX_ENV_NAME
    TOX_PACKAGE
    TOX_TESTENV_PASSENV
    TOX_WORK_DIR
    USEPYTHONVERSION1_PYTHONLOCATION
    USEPYTHONVERSION2_PYTHONLOCATION
    USERDOMAIN
    USERDOMAIN_ROAMINGPROFILE
    USERNAME
    USERPROFILE
    VCPKG_INSTALLATION_ROOT
    VIRTUAL_ENV
    VS140COMNTOOLS
    VSTS_AGENT_PERFLOG
    VSTS_PROCESS_LOOKUP_ID
    WINDIR
    WIX
commands =
    pip install -r requirements.in
    pytest -v {posargs}
