{
  "version": 2,
  "created_at": "2026-02-03",
  "last_updated_at": "2026-02-03",
  "title": "Worker Heartbeat Stale (No Recent Activity)",
  "tags": [
    "integration:n8n"
  ],
  "description": "This monitor tracks n8n worker heartbeat by monitoring the last activity timestamp. A stale heartbeat indicates the worker may be frozen, disconnected, or requires manual intervention.",
  "definition": {
    "name": "[n8n] Worker Heartbeat Stale (No Recent Activity)",
    "type": "query alert",
    "query": "avg(last_5m):avg:n8n.last.activity{*} by {host} > 300",
    "message": "{{#is_alert}}Worker on {{host.name}} has not reported activity for {{value}} seconds (threshold: {{threshold}}s). Worker may be frozen or disconnected.{{/is_alert}}{{#is_warning}}Worker on {{host.name}} heartbeat delayed. Last activity {{value}} seconds ago.{{/is_warning}}{{#is_recovery}}Worker on {{host.name}} is reporting activity again.{{/is_recovery}}",
    "tags": [
      "integration:n8n",
      "service:n8n",
      "category:worker-health",
      "category:heartbeat"
    ],
    "options": {
      "thresholds": {
        "critical": 300,
        "warning": 120
      },
      "notify_audit": false,
      "require_full_window": false,
      "notify_no_data": true,
      "no_data_timeframe": 10,
      "renotify_interval": 15,
      "include_tags": true,
      "evaluation_delay": 60,
      "new_group_delay": 120,
      "escalation_message": "Worker heartbeat still stale. May need manual restart.",
      "renotify_statuses": ["alert", "no data"]
    },
    "priority": 1,
    "restricted_roles": null
  }
}
