[env.collectors.datadog-checks]

[envs.default]
dependencies = [
  "datadog_checks_tests_helper @ {root:uri}/../datadog_checks_tests_helper",
]
e2e-env = false

[envs.default.env-vars]
ZK_VERSION = "3.6.4"
LEGACY_CLIENT = "false"
AUTHENTICATION = "noauth"

[[envs.default.matrix]]
python = ["3.8"]
version = ["1.1", "2.3", "3.3"]
impl = ["legacy"]

[[envs.default.matrix]]
python = ["3.8"]
version = ["1.1", "2.3", "3.3"]

[[envs.default.matrix]]
python = ["3.8"]
version = ["3.3"]
auth = ["kerberos"]

[envs.default.overrides]
matrix.version.e2e-env = { value = true, if = ["3.3"] }
matrix.version.env-vars = [
  { key = "KAFKA_VERSION", value = "1.1.1", if = ["1.1"] },
  { key = "KAFKA_VERSION", value = "2.3.1", if = ["2.3"] },
  { key = "KAFKA_VERSION", value = "3.3.2", if = ["3.3"] },
]
matrix.impl.env-vars = [
  { key = "LEGACY_CLIENT", value = "true", if = ["legacy"] },
]
matrix.auth.env-vars = "AUTHENTICATION"

[envs.latest.env-vars]
KAFKA_VERSION = "latest"
ZK_VERSION = "3.6.4"
LEGACY_CLIENT = "false"
