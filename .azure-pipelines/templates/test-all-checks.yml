parameters:
  ispr: false
  pip_cache_config: null
  run_py2_tests: true
  run_py3_tests: true
  force_base_package: false
  test: true
  test_e2e: true
  benchmark: true
  latest: false
  ddtrace_flag: ''
jobs:
- template: ./test-all.yml
  parameters:
    ispr: ${{ parameters.ispr }}
    pip_cache_config: ${{ parameters.pip_cache_config }}
    run_py2_tests: ${{ parameters.run_py2_tests }}
    run_py3_tests: ${{ parameters.run_py3_tests }}
    force_base_package: ${{ parameters.force_base_package }}
    test: ${{ parameters.test }}
    test_e2e: ${{ parameters.test_e2e }}
    benchmark: ${{ parameters.benchmark }}
    latest: ${{ parameters.latest }}
    ddtrace_flag: ${{ parameters.ddtrace_flag }}
    checks:
    - checkName: datadog_checks_base
      displayName: Datadog Checks Base (Linux)
      os: linux
    - checkName: datadog_checks_base
      displayName: Datadog Checks Base (Windows)
      os: windows
    - checkName: datadog_checks_dev
      displayName: Datadog Checks Dev (Linux)
      os: linux
    - checkName: datadog_checks_dev
      displayName: Datadog Checks Dev (Windows)
      os: windows
    - checkName: datadog_checks_downloader
      displayName: Datadog Checks Downloader
      os: linux
    - checkName: active_directory
      displayName: Active Directory
      os: windows
    - checkName: activemq
      displayName: ActiveMQ
      os: linux
    - checkName: activemq_xml
      displayName: ActiveMQ XML
      os: linux
    - checkName: aerospike
      displayName: Aerospike
      os: linux
    - checkName: airflow
      displayName: Airflow
      os: linux
    - checkName: amazon_msk
      displayName: Amazon Kafka
      os: linux
    - checkName: ambari
      displayName: Ambari
      os: linux
    - checkName: datadog_cluster_agent
      displayName: Datadog Cluster Agent
      os: linux
    - checkName: directory
      displayName: Directory
      os: linux
    - checkName: disk
      displayName: Disk (Linux)
      os: linux
    - checkName: disk
      displayName: Disk (Windows)
      os: windows
    - checkName: dns_check
      displayName: DNS (Linux)
      os: linux
    - checkName: dns_check
      displayName: DNS (Windows)
      os: windows
