trigger:
  branches:
    include:
    - master

pr:
  branches:
    include:
    - master
  paths:
    include:
    - datadog_checks_base/datadog_checks/*

variables:
  DDEV_COLOR: 1

jobs:
- template: './templates/test-all.yml'
  parameters:
    checks:
    - checkName: datadog_checks_base
      os: linux
    - checkName: datadog_checks_dev
      os: linux
    - checkName: datadog_checks_downloader
      os: linux
    - checkName: active_directory
      os: windows
    - checkName: activemq_xml
      os: linux
    - checkName: aerospike
      os: linux
    - checkName: ambari
      os: linux
    - checkName: apache
      os: linux
    - checkName: aspdotnet
      os: windows
    - checkName: btrfs
      os: linux
    - checkName: cacti
      os: linux
    - checkName: cassandra_nodetool
      os: linux
    - checkName: ceph
      os: linux
    - checkName: cisco_aci
      os: linux
    - checkName: cockroachdb
      os: linux
    - checkName: consul
      os: linux
    - checkName: coredns
      os: linux
    - checkName: couch
      os: linux
    - checkName: couchbase
      os: linux
    - checkName: crio
      os: linux
    - checkName: directory
      os: linux
    - checkName: disk
      os: linux
    - checkName: disk
      os: windows
    - checkName: dns_check
      os: linux
    - checkName: dotnetclr
      os: windows
    - checkName: ecs_fargate
      os: linux
    - checkName: elastic
      os: linux
    - checkName: envoy
      os: linux
    - checkName: etcd
      os: linux
    - checkName: exchange_server
      os: windows
    - checkName: fluentd
      os: linux
    - checkName: gearmand
      os: linux
    - checkName: gitlab
      os: linux
    - checkName: gitlab_runner
      os: linux
    - checkName: go_expvar
      os: linux
    - checkName: gunicorn
      os: linux
    - checkName: haproxy
      os: linux
    - checkName: harbor
      os: linux
    - checkName: hdfs_datanode
      os: linux
    - checkName: hdfs_namenode
      os: linux
    - checkName: http_check
      os: linux
    - checkName: ibm_db2
      os: linux
    - checkName: ibm_mq
      os: linux
    - checkName: ibm_was
      os: linux
    - checkName: iis
      os: windows
    - checkName: istio
      os: linux
    - checkName: kafka_consumer
      os: linux
    - checkName: kong
      os: linux
    - checkName: kube_apiserver_metrics
      os: linux
    - checkName: kube_controller_manager
      os: linux
    - checkName: kube_dns
      os: linux
    - checkName: kube_metrics_server
      os: linux
    - checkName: kube_proxy
      os: linux
    - checkName: kube_scheduler
      os: linux
    - checkName: kubelet
      os: linux
    - checkName: kubernetes_state
      os: linux
    - checkName: kyototycoon
      os: linux
    - checkName: lighttpd
      os: linux
    - checkName: linkerd
      os: linux
    - checkName: linux_proc_extras
      os: linux
    - checkName: mapreduce
      os: linux
    - checkName: marathon
      os: linux
    - checkName: mcache
      os: linux
    - checkName: mesos_master
      os: linux
    - checkName: mesos_slave
      os: linux
    - checkName: mongo
      os: linux
    - checkName: mysql
      os: linux
    - checkName: nagios
      os: linux
    - checkName: network
      os: linux
    - checkName: nfsstat
      os: linux
    - checkName: nginx
      os: linux
    - checkName: nginx_ingress_controller
      os: linux
    - checkName: openldap
      os: linux
    - checkName: openmetrics
      os: linux
    - checkName: openstack
      os: linux
    - checkName: openstack_controller
      os: linux
    - checkName: oracle
      os: linux
    - checkName: pdh_check
      os: windows
    - checkName: pgbouncer
      os: linux
    - checkName: php_fpm
      os: linux
    - checkName: postfix
      os: linux
    - checkName: postgres
      os: linux
    - checkName: powerdns_recursor
      os: linux
    - checkName: process
      os: linux
    - checkName: prometheus
      os: linux
    - checkName: rabbitmq
      os: linux
    - checkName: redisdb
      os: linux
    - checkName: riak
      os: linux
    - checkName: riakcs
      os: linux
    - checkName: snmp
      os: linux
    - checkName: spark
      os: linux
    - checkName: sqlserver
      os: linux
    - checkName: sqlserver
      os: windows
    - checkName: squid
      os: linux
    - checkName: ssh_check
      os: linux
    - checkName: statsd
      os: linux
    - checkName: supervisord
      os: linux
    - checkName: system_core
      os: linux
    - checkName: system_swap
      os: linux
    - checkName: tcp_check
      os: linux
    - checkName: teamcity
      os: linux
    - checkName: tls
      os: linux
    - checkName: tokumx
      os: linux
    - checkName: twemproxy
      os: linux
    - checkName: twistlock
      os: linux
    - checkName: varnish
      os: linux
    - checkName: vault
      os: linux
    - checkName: vertica
      os: linux
    - checkName: vsphere
      os: linux
    - checkName: win32_event_log
      os: windows
    - checkName: windows_service
      os: windows
    - checkName: wmi_check
      os: windows
    - checkName: yarn
      os: linux
    - checkName: zk
      os: linux

