trigger:
  branches:
    include:
    - master

pr:
  branches:
    include:
    - master
  paths:
    include:
    - datadog_checks_base/datadog_checks/*
    - .azure-pipelines/*

variables:
  DDEV_COLOR: 1

jobs:
- template: './templates/test-all.yml'
  parameters:
    checks:
    - checkName: datadog_checks_base
      displayName: Datadog Checks Base (Linux)
      os: linux
    - checkName: datadog_checks_base
      displayName: Datadog Checks Base (Windows)
      os: windows
    - checkName: datadog_checks_dev
      displayName: Datadog Checks Dev (Linux)
      os: linux
    - checkName: datadog_checks_dev
      displayName: Datadog Checks Dev (Windows)
      os: windows
    - checkName: apache
      displayName: Apache
      os: linux
    - checkName: aspdotnet
      displayName: ASP.NET
      os: windows
    - checkName: btrfs
      displayName: Btrfs
      os: linux