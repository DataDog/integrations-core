{
  "title": "Impala - Overview",
  "description": "## Impala\n\nThis is a high-level overview of your Impala processes, so you can track health status, search and indexing performance, and resource utilization metrics from all your services and be better prepared to address potential issues.\n\n##### [**Datadog Impala integration docs&nbsp;↗**](https://docs.datadoghq.com/integrations/impala/)\n\nWe also provide dedicated dashboards for each Impala service:\n\n- [**Impala daemon&nbsp;↗**](/dash/integration/Impala%20-%20Daemon%20-%20Overview)\n- [**Impala catalog&nbsp;↗**](/dash/integration/Impala%20-%20Catalog%20-%20Overview)\n- [**Impala statestore&nbsp;↗**](/dash/integration/Impala%20-%20Statestore%20-%20Overview)\n\nClone this template dashboard to make changes and add your own graph widgets.",
  "widgets": [
    {
      "id": 1171210667439246,
      "definition": {
        "title": "About Impala",
        "title_align": "center",
        "type": "group",
        "banner_img": "/static/images/logos/impala_large.svg",
        "show_title": false,
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 7840582060409836,
            "definition": {
              "type": "note",
              "content": "This is a high-level overview of your Impala processes, so you can track health status, search and indexing performance, and resource utilization metrics from all your services and be better prepared to address potential issues.\n\n##### [**Datadog Impala integration docs&nbsp;↗**](https://docs.datadoghq.com/integrations/impala/)\n\nWe also provide dedicated dashboards for each Impala service:\n\n- [**Impala daemon&nbsp;↗**](/dash/integration/Impala%20-%20Daemon%20-%20Overview)\n- [**Impala catalog&nbsp;↗**](/dash/integration/Impala%20-%20Catalog%20-%20Overview)\n- [**Impala statestore&nbsp;↗**](/dash/integration/Impala%20-%20Statestore%20-%20Overview)",
              "background_color": "transparent",
              "font_size": "12",
              "text_align": "left",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          }
        ],
        "template_variables": []
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 5
      }
    },
    {
      "id": 11147134331060,
      "definition": {
        "title": "Global overview",
        "title_align": "left",
        "type": "group",
        "background_color": "blue",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 989322666373960,
            "definition": {
              "title": "Healthy Impala daemons",
              "title_size": "16",
              "title_align": "left",
              "type": "check_status",
              "check": "impala.daemon.openmetrics.health",
              "grouping": "cluster",
              "group_by": [],
              "tags": []
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 2540826770958510,
            "definition": {
              "type": "note",
              "content": "The statestore and the catalog are not critical to the normal operation of an Impala cluster because problems with those daemons do not result in data loss. ",
              "background_color": "blue",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": true,
              "tick_pos": "50%",
              "tick_edge": "right",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 5876378249165432,
            "definition": {
              "title": "Healthy Catalog",
              "title_size": "16",
              "title_align": "left",
              "type": "check_status",
              "check": "impala.catalog.openmetrics.health",
              "grouping": "cluster",
              "group_by": [],
              "tags": []
            },
            "layout": {
              "x": 2,
              "y": 2,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 3676681959370320,
            "definition": {
              "title": "Healthy Statestore",
              "title_size": "16",
              "title_align": "left",
              "type": "check_status",
              "check": "impala.statestore.openmetrics.health",
              "grouping": "cluster",
              "group_by": [],
              "tags": []
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 2,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 5
      }
    },
    {
      "id": 6758856788196454,
      "definition": {
        "title": "Daemon overview",
        "title_align": "left",
        "type": "group",
        "background_color": "green",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 4433082769966226,
            "definition": {
              "type": "note",
              "content": "This section provides you a global overview of all your Impala daemons. This includes memory usage, information about the thread, the number of queries that are currently running. For a more detailed view of your Impala daemons, you can use [the dedicated dashboard ↗](/dash/integration/Impala%20-%20Daemon%20-%20Overview).",
              "background_color": "green",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 3209890994599400,
            "definition": {
              "title": "Memory",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "In use",
                      "formula": "query1"
                    },
                    {
                      "formula": "query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.daemon.jvm.total_current_usage{$service,$host} by {service}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "avg:impala.daemon.memory.mapped{$service,$host} by {service}",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": false
              }
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 5721927471643510,
            "definition": {
              "title": "Threads",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Running",
                      "formula": "query1"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.daemon.thread_manager.running_threads{$service,$host} by {service}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 1,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 963818421035340,
            "definition": {
              "title": "IO manager queue read latency",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Latency",
                      "formula": "query1 / query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:impala.daemon.io_mgr_queue.read_latency.sum{$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:impala.daemon.io_mgr_queue.read_latency.count{$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 5590314670501122,
            "definition": {
              "title": "IO manager queue write latency",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Latency",
                      "formula": "query1 / query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:impala.daemon.io_mgr_queue.write_latency.sum{$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:impala.daemon.io_mgr_queue.write_latency.count{$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 3,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 2693405574631454,
            "definition": {
              "title": "Running queries",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Running",
                      "formula": "query4"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:impala.daemon.num_queries_executing{$service,$host}",
                      "data_source": "metrics",
                      "name": "query4"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 5,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 4376196942070456,
            "definition": {
              "title": "Catalog cache",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Hit",
                      "formula": "query1"
                    },
                    {
                      "alias": "Miss",
                      "formula": "query2"
                    },
                    {
                      "alias": "Eviction",
                      "formula": "query3"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:impala.daemon.catalog_cache.hit.count{$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:impala.daemon.catalog_cache.miss.count{$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query2"
                    },
                    {
                      "query": "sum:impala.daemon.catalog_cache.eviction.count{$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query3"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": false,
                "scale": "sqrt"
              }
            },
            "layout": {
              "x": 6,
              "y": 5,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 5,
        "width": 12,
        "height": 9
      }
    },
    {
      "id": 1430042616427440,
      "definition": {
        "title": "Catalog overview",
        "title_align": "left",
        "type": "group",
        "background_color": "purple",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 4807286595564662,
            "definition": {
              "type": "note",
              "content": "This section provides you a global overview of your Impala catalog. This includes memory usage, information about the threads. For a more detailed view of your Impala catalog, you can use [the dedicated dashboard ↗](/dash/integration/Impala%20-%20Catalog%20-%20Overview).",
              "background_color": "purple",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 5583198793163616,
            "definition": {
              "title": "Memory",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "In use",
                      "formula": "query1"
                    },
                    {
                      "alias": "Allocated",
                      "formula": "query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.catalog.jvm.total_current_usage{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "avg:impala.catalog.memory.mapped{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": false
              }
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 147812058366598,
            "definition": {
              "title": "Threads created",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:impala.catalog.thread_manager.total_threads_created{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "area",
                "yaxis": {
                  "include_zero": true
                }
              }
            },
            "layout": {
              "x": 6,
              "y": 1,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 1634177713596272,
            "definition": {
              "title": "Running threads",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Running",
                      "formula": "query1"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.catalog.thread_manager.running_threads{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 1,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 7635690035740462,
            "definition": {
              "title": "Statestore clients",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Active",
                      "formula": "query1"
                    },
                    {
                      "alias": "Total",
                      "formula": "query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.catalog.statestore_subscriber.statestore_client_cache.clients_in_use{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "avg:impala.catalog.statestore_subscriber.statestore_client_cache.total_clients{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 1102090543647108,
            "definition": {
              "title": "Thrift server connections",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Waiting",
                      "formula": "query1"
                    },
                    {
                      "alias": "In use",
                      "formula": "query2"
                    },
                    {
                      "alias": "Timeout",
                      "formula": "query3"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.catalog.thrift_server.connection.setup_queue_size{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "avg:impala.catalog.thrift_server.connections.in_use{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query2"
                    },
                    {
                      "query": "avg:impala.catalog.thrift_server.timedout_cnxn_requests{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query3"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 3,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 6535754233166704,
            "definition": {
              "title": "Metastore events",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Received",
                      "formula": "query1"
                    },
                    {
                      "alias": "Skipped",
                      "formula": "query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:impala.catalog.events_processor.events_received.count{service:impala-catalog,$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:impala.catalog.events_processor.events_skipped.count{service:impala-catalog,$service,$host}.as_count()",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "label": "",
                "min": "auto",
                "max": "auto"
              }
            },
            "layout": {
              "x": 0,
              "y": 5,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 4522350708231326,
            "definition": {
              "title": "Metastore events process average duration",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Average",
                      "formula": "query1"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.catalog.events_processor.avg_events_process_duration{service:impala-catalog,$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 5,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 14,
        "width": 12,
        "height": 8
      }
    },
    {
      "id": 322209730527470,
      "definition": {
        "title": "Statestore overview",
        "title_align": "left",
        "type": "group",
        "background_color": "pink",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1254744207641548,
            "definition": {
              "type": "note",
              "content": "This section provides you a global overview of your Impala statestore. This includes memory usage, information about the threads. For a more detailed view of your Impala statestore, you can use [the dedicated dashboard ↗](/dash/integration/Impala%20-%20Statestore%20-%20Overview).",
              "background_color": "pink",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 4775089802701448,
            "definition": {
              "title": "Memory",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "In use",
                      "formula": "query1"
                    },
                    {
                      "alias": "Reserved",
                      "formula": "query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.statestore.tcmalloc.in_use{$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "avg:impala.statestore.tcmalloc.total_reserved{$service,$host}",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 4578440559721906,
            "definition": {
              "title": "Memory used",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1 / query2 * 100"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:impala.statestore.tcmalloc.in_use{$service,$host}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    },
                    {
                      "query": "avg:impala.statestore.tcmalloc.total_reserved{$service,$host}",
                      "data_source": "metrics",
                      "name": "query2",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_unit": "%",
              "precision": 1,
              "timeseries_background": {
                "type": "area",
                "yaxis": {}
              }
            },
            "layout": {
              "x": 4,
              "y": 1,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 4027111089680880,
            "definition": {
              "title": "Running threads",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Running",
                      "formula": "query1"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.statestore.thread_manager.running_threads{$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 1,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 3489922465487096,
            "definition": {
              "title": "Threads created",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:impala.statestore.thread_manager.total_threads_created{$service,$host}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "area",
                "yaxis": {
                  "include_zero": true
                }
              }
            },
            "layout": {
              "x": 10,
              "y": 1,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 2539244567271906,
            "definition": {
              "title": "Topic update duration",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Priority",
                      "formula": "query3"
                    },
                    {
                      "alias": "Non-Priority",
                      "formula": "query1"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.statestore.last_priority_topic_update_durations{$service,$host}",
                      "data_source": "metrics",
                      "name": "query3"
                    },
                    {
                      "query": "avg:impala.statestore.last_topic_update_durations{$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 4902112127403664,
            "definition": {
              "title": "Thrift server connections",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Waiting",
                      "formula": "query1"
                    },
                    {
                      "alias": "In use",
                      "formula": "query2"
                    },
                    {
                      "alias": "Timeout",
                      "formula": "query3"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:impala.statestore.thrift_server.connection_setup_queue_size{$service,$host}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "avg:impala.statestore.thrift_server.connections_in_use{$service,$host}",
                      "data_source": "metrics",
                      "name": "query2"
                    },
                    {
                      "query": "avg:impala.statestore.thrift_server.timedout_cnxn_requests{$service,$host}",
                      "data_source": "metrics",
                      "name": "query3"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 3,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 22,
        "width": 12,
        "height": 6,
        "is_column_break": true
      }
    },
    {
      "id": 7324653080962316,
      "definition": {
        "title": "Logs",
        "title_align": "left",
        "type": "group",
        "background_color": "gray",
        "show_title": true,
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2025331041265156,
            "definition": {
              "title": "Activity by host",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logs",
                      "cell_display_mode": "bar",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      },
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "source:impala $service $host"
                      },
                      "data_source": "logs",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "storage": "hot",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "host",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 10
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 1143230180540964,
            "definition": {
              "title": "Activity by service",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Logs",
                      "cell_display_mode": "bar",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      },
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "source:impala $service $host"
                      },
                      "data_source": "logs",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "storage": "hot",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "service",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 10
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 4266059947868682,
            "definition": {
              "type": "note",
              "content": "This view allow you to have a global overview of all the logs generated by your Impala services, grouped by host or service. ",
              "background_color": "gray",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": true,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 10,
              "y": 0,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 2970777497678730,
            "definition": {
              "type": "note",
              "content": "You can also group all the logs by status.",
              "background_color": "gray",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": true,
              "tick_pos": "50%",
              "tick_edge": "right",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 1853632325736432,
            "definition": {
              "title": "Volume by status",
              "title_size": "16",
              "title_align": "left",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "limit": {
                        "order": "desc"
                      }
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "source:impala $service $host"
                      },
                      "data_source": "logs",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "storage": "hot",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "status",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 10
                        }
                      ]
                    }
                  ]
                }
              ],
              "type": "sunburst",
              "hide_total": false,
              "legend": {
                "hide_percent": false,
                "type": "inline"
              }
            },
            "layout": {
              "x": 2,
              "y": 3,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 7533087145196814,
            "definition": {
              "title": "Volume by status",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query2"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "search": {
                        "query": "source:impala $service $host"
                      },
                      "data_source": "logs",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query2",
                      "storage": "hot",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "status",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 10
                        }
                      ]
                    }
                  ],
                  "style": {
                    "palette": "semantic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "label": "",
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 4,
              "y": 3,
              "width": 8,
              "height": 3
            }
          },
          {
            "id": 2361961562462178,
            "definition": {
              "title": "Errors",
              "title_size": "16",
              "requests": [
                {
                  "query": {
                    "query_string": "status:(error OR critical) source:impala $service $host",
                    "sort": {
                      "column": "timestamp",
                      "order": "desc"
                    },
                    "data_source": "logs_stream",
                    "storage": "hot",
                    "indexes": []
                  },
                  "columns": [
                    {
                      "field": "status_line",
                      "width": "auto"
                    },
                    {
                      "field": "timestamp",
                      "width": "auto"
                    },
                    {
                      "field": "host",
                      "width": "auto"
                    },
                    {
                      "field": "service_type",
                      "width": "auto"
                    },
                    {
                      "field": "content",
                      "width": "auto"
                    }
                  ],
                  "response_format": "event_list"
                }
              ],
              "type": "list_stream"
            },
            "layout": {
              "x": 0,
              "y": 6,
              "width": 12,
              "height": 3
            }
          },
          {
            "id": 953987969076302,
            "definition": {
              "title": "All Logs",
              "title_size": "16",
              "requests": [
                {
                  "query": {
                    "query_string": "source:impala $service $host",
                    "sort": {
                      "column": "timestamp",
                      "order": "desc"
                    },
                    "data_source": "logs_stream",
                    "storage": "hot",
                    "indexes": []
                  },
                  "columns": [
                    {
                      "field": "status_line",
                      "width": "auto"
                    },
                    {
                      "field": "timestamp",
                      "width": "auto"
                    },
                    {
                      "field": "host",
                      "width": "auto"
                    },
                    {
                      "field": "service_type",
                      "width": "auto"
                    },
                    {
                      "field": "content",
                      "width": "auto"
                    }
                  ],
                  "response_format": "event_list"
                }
              ],
              "type": "list_stream"
            },
            "layout": {
              "x": 0,
              "y": 9,
              "width": 12,
              "height": 5
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 28,
        "width": 12,
        "height": 15
      }
    }
  ],
  "template_variables": [
    {
      "name": "service",
      "prefix": "service",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "host",
      "prefix": "host",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "is_read_only": false,
  "notify_list": [],
  "reflow_type": "fixed"
}
