id: "metabase"
tests:
 -
  sample: |-
    {
          "entity_qualified_id" : "dashboard_11",
          "entity_type" : "dashboard",
          "user_id" : 1,
          "topic" : "dashboard-add-cards",
          "details" : {
            "dashcards" : [ {
              "name" : "Client, Filtered by Client ID is abc",
              "id" : 118,
              "card_id" : 120
            } ],
            "name" : "Views",
            "id" : 11
          },
          "id" : "178",
          "entity_id" : 11,
          "timestamp" : "2024-09-30T11:47:26.247269+05:30"
          "vendor" : {
            "endpoint" : "activity-events"
            }
        }
  result:
    custom: {}
    message: |-
      {
            "entity_qualified_id" : "dashboard_11",
            "entity_type" : "dashboard",
            "user_id" : 1,
            "topic" : "dashboard-add-cards",
            "details" : {
              "dashcards" : [ {
                "name" : "Client, Filtered by Client ID is abc",
                "id" : 118,
                "card_id" : 120
              } ],
              "name" : "Views",
              "id" : 11
            },
            "id" : "178",
            "entity_id" : 11,
            "timestamp" : "2024-09-30T11:47:26.247269+05:30"
            "vendor" : {
              "endpoint" : "activity-events"
              }
          }
    tags:
     - "source:LOGS_SOURCE"
 -
  sample: |-
    {
          "entity_type" : "setting",
          "user_id" : 1,
          "topic" : "setting-update",
          "details" : {
            "previous-value" : "UCT",
            "key" : "report-timezone",
            "new-value" : "UTC"
          },
          "id" : "188",
          "timestamp" : "2024-09-30T12:37:04.133904+05:30"
          "vendor" : {
            "endpoint" : "activity-events"
            }
        }
  result:
    custom: {}
    message: |-
      {
            "entity_type" : "setting",
            "user_id" : 1,
            "topic" : "setting-update",
            "details" : {
              "previous-value" : "UCT",
              "key" : "report-timezone",
              "new-value" : "UTC"
            },
            "id" : "188",
            "timestamp" : "2024-09-30T12:37:04.133904+05:30"
            "vendor" : {
              "endpoint" : "activity-events"
              }
          }
    tags:
     - "source:LOGS_SOURCE"
 -
  sample: |-
    {
          "entity_qualified_id" : "dashboard_1",
          "user_email" : "abc.xyz@something.com",
          "database_name" : "Sample Database",
          "table_description" : "Information on customer accounts registered with Piespace. Each account represents a new organization signing up for on-demand pies.",
          "entity_id" : 1,
          "table_name" : "ACCOUNTS",
          "entity_type" : "table",
          "user_type" : "personal",
          "user_id" : 1,
          "database_description" : "Some example data for you to play around with.",
          "user_full_name" : "Abc Xyz",
          "table_display_name" : "Accounts",
          "id" : "12",
          "timestamp" : "2024-09-05T11:59:10.181879Z"
          "vendor" : {
            "endpoint" : "view-logs"
            }
        }
  result:
    custom: {}
    message: |-
      {
            "entity_qualified_id" : "dashboard_1",
            "user_email" : "abc.xyz@something.com",
            "database_name" : "Sample Database",
            "table_description" : "Information on customer accounts registered with Piespace. Each account represents a new organization signing up for on-demand pies.",
            "entity_id" : 1,
            "table_name" : "ACCOUNTS",
            "entity_type" : "table",
            "user_type" : "personal",
            "user_id" : 1,
            "database_description" : "Some example data for you to play around with.",
            "user_full_name" : "Abc Xyz",
            "table_display_name" : "Accounts",
            "id" : "12",
            "timestamp" : "2024-09-05T11:59:10.181879Z"
            "vendor" : {
              "endpoint" : "view-logs"
              }
          }
    tags:
     - "source:LOGS_SOURCE"
 -
  sample: |-
    {
          "result_rows" : 2,
          "error" : "Error in query, something is invalid",
          "database_qualified_id" : "database_1",
          "dashboard_description" : "Views, performance, activity, and other data for a particular question.",
          "pulse_id" : 6,
          "cache_hit" : false,
          "user_type" : "personal",
          "dashboard_qualified_id" : "dashboard_5",
          "action_id" : 7,
          "database_description" : "Some example data for you to play around with.",
          "user_email" : "abc.xyz@something.com",
          "query_source" : "dashboard",
          "dashboard_name" : "Question overview",
          "database_name" : "Sample Database",
          "is_native" : false,
          "query" : {
            "constraints" : {
              "max-results" : 10000,
              "max-results-bare-rows" : 2000
            }
          },
          "entity_id" : "306",
          "card_description" : "Most recently downloaded content.",
          "card_id" : 85,
          "running_time_seconds" : 0.169,
          "user_id" : "1",
          "database_id" : 13371337,
          "user_full_name" : "Abc Xyz",
          "card_name" : "Last downloads",
          "started_at" : "2024-09-10T10:37:35.965619Z",
          "card_qualified_id" : "card_85",
          "action_qualified_id" : "action_7",
          "dashboard_id" : 5
          "vendor" : {
            "endpoint" : "query-logs"
            }
        }
  result:
    custom: {}
    message: |-
      {
            "result_rows" : 2,
            "error" : "Error in query, something is invalid",
            "database_qualified_id" : "database_1",
            "dashboard_description" : "Views, performance, activity, and other data for a particular question.",
            "pulse_id" : 6,
            "cache_hit" : false,
            "user_type" : "personal",
            "dashboard_qualified_id" : "dashboard_5",
            "action_id" : 7,
            "database_description" : "Some example data for you to play around with.",
            "user_email" : "abc.xyz@something.com",
            "query_source" : "dashboard",
            "dashboard_name" : "Question overview",
            "database_name" : "Sample Database",
            "is_native" : false,
            "query" : {
              "constraints" : {
                "max-results" : 10000,
                "max-results-bare-rows" : 2000
              }
            },
            "entity_id" : "306",
            "card_description" : "Most recently downloaded content.",
            "card_id" : 85,
            "running_time_seconds" : 0.169,
            "user_id" : "1",
            "database_id" : 13371337,
            "user_full_name" : "Abc Xyz",
            "card_name" : "Last downloads",
            "started_at" : "2024-09-10T10:37:35.965619Z",
            "card_qualified_id" : "card_85",
            "action_qualified_id" : "action_7",
            "dashboard_id" : 5
            "vendor" : {
              "endpoint" : "query-logs"
              }
          }
    tags:
     - "source:LOGS_SOURCE"
