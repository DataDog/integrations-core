# CHANGELOG - haproxy

## 4.5.0 / 2023-03-03

* [Added] Bump versions and update metrics. See [#13925](https://github.com/DataDog/integrations-core/pull/13925). Thanks [wdauchy](https://github.com/wdauchy).

## 4.4.0 / 2022-09-16 / Agent 7.40.0

* [Added] Update HTTP config spec templates. See [#12890](https://github.com/DataDog/integrations-core/pull/12890).

## 4.3.1 / 2022-05-18 / Agent 7.37.0

* [Fixed] Fix extra metrics description example. See [#12043](https://github.com/DataDog/integrations-core/pull/12043).

## 4.3.0 / 2022-05-15

* [Added] Support dynamic bearer tokens (Bound Service Account Token Volume). See [#11915](https://github.com/DataDog/integrations-core/pull/11915).

## 4.2.0 / 2022-04-05 / Agent 7.36.0

* [Added] Add metric_patterns options to filter all metric submission by a list of regexes. See [#11695](https://github.com/DataDog/integrations-core/pull/11695).
* [Fixed] Remove outdated warning in the description for the `tls_ignore_warning` option. See [#11591](https://github.com/DataDog/integrations-core/pull/11591).

## 4.1.0 / 2022-02-19 / Agent 7.35.0

* [Added] Add `pyproject.toml` file. See [#11358](https://github.com/DataDog/integrations-core/pull/11358).
* [Fixed] Fix namespace packaging on Python 2. See [#11532](https://github.com/DataDog/integrations-core/pull/11532).

## 4.0.0 / 2022-02-16

* [Added] Support the new OpenMetrics V2 implementation. See [#11485](https://github.com/DataDog/integrations-core/pull/11485).
* [Changed] Add tls_protocols_allowed option documentation. See [#11251](https://github.com/DataDog/integrations-core/pull/11251).

## 3.3.2 / 2022-01-21 / Agent 7.34.0

* [Fixed] Fix license header dates in autogenerated files. See [#11187](https://github.com/DataDog/integrations-core/pull/11187).

## 3.3.1 / 2022-01-18

* [Fixed] Fix the type of `bearer_token_auth`. See [#11144](https://github.com/DataDog/integrations-core/pull/11144).

## 3.3.0 / 2022-01-08

* [Added] Add support for Haproxy v2.5. See [#10651](https://github.com/DataDog/integrations-core/pull/10651). Thanks [wdauchy](https://github.com/wdauchy).
* [Fixed] Add comment to autogenerated model files. See [#10945](https://github.com/DataDog/integrations-core/pull/10945).
* [Fixed] Fix server agg check status in 2.4. See [#10796](https://github.com/DataDog/integrations-core/pull/10796). Thanks [wdauchy](https://github.com/wdauchy).

## 3.2.0 / 2021-11-13 / Agent 7.33.0

* [Added] Document new include_labels option. See [#10617](https://github.com/DataDog/integrations-core/pull/10617).
* [Added] Document new use_process_start_time option. See [#10601](https://github.com/DataDog/integrations-core/pull/10601).

## 3.1.0 / 2021-10-04 / Agent 7.32.0

* [Added] Add HTTP option to control the size of streaming responses. See [#10183](https://github.com/DataDog/integrations-core/pull/10183).
* [Added] Add allow_redirect option. See [#10160](https://github.com/DataDog/integrations-core/pull/10160).
* [Added] Disable generic tags. See [#10027](https://github.com/DataDog/integrations-core/pull/10027).
* [Fixed] Fix the description of the `allow_redirects` HTTP option. See [#10195](https://github.com/DataDog/integrations-core/pull/10195).

## 3.0.0 / 2021-08-22 / Agent 7.31.0

* [Added] Use `display_default` as a fallback for `default` when validating config models. See [#9739](https://github.com/DataDog/integrations-core/pull/9739).
* [Changed] Remove messages for integrations for OK service checks. See [#9888](https://github.com/DataDog/integrations-core/pull/9888).

## 2.18.1 / 2021-06-07 / Agent 7.29.0

* [Fixed] Fix `collect_aggregates_only` option type in example config. See [#9473](https://github.com/DataDog/integrations-core/pull/9473).

## 2.18.0 / 2021-05-28

* [Added] Support "ignore_tags" configuration. See [#9392](https://github.com/DataDog/integrations-core/pull/9392).
* [Added] Add runtime configuration validation. See [#8924](https://github.com/DataDog/integrations-core/pull/8924).

## 2.17.0 / 2021-03-07 / Agent 7.27.0

* [Added] Add listener stats. See [#8723](https://github.com/DataDog/integrations-core/pull/8723). Thanks [wdauchy](https://github.com/wdauchy).
* [Added] Add metrics for sticktable. See [#8642](https://github.com/DataDog/integrations-core/pull/8642). Thanks [wdauchy](https://github.com/wdauchy).
* [Added] haproxy: prepare v2.4 release. See [#8623](https://github.com/DataDog/integrations-core/pull/8623). Thanks [wdauchy](https://github.com/wdauchy).
* [Added] Add build_info metric. See [#8554](https://github.com/DataDog/integrations-core/pull/8554). Thanks [wdauchy](https://github.com/wdauchy).
* [Fixed] Bump minimum base package version. See [#8443](https://github.com/DataDog/integrations-core/pull/8443).

## 2.16.0 / 2021-01-24 / Agent 7.26.0

* [Added] Revert "Update base package pin (#8426)". See [#8436](https://github.com/DataDog/integrations-core/pull/8436).
* [Fixed] Remove class substitution logic for new OpenMetrics base class. See [#8435](https://github.com/DataDog/integrations-core/pull/8435).

## 2.15.0 / 2021-01-22

* [Added] Update base package pin. See [#8426](https://github.com/DataDog/integrations-core/pull/8426).
* [Fixed] Adding support for v2.3. See [#8325](https://github.com/DataDog/integrations-core/pull/8325). Thanks [wdauchy](https://github.com/wdauchy).

## 2.14.2 / 2021-01-11

* [Fixed] Fix typo for ssl reuse metric. See [#8203](https://github.com/DataDog/integrations-core/pull/8203). Thanks [wdauchy](https://github.com/wdauchy).
* [Fixed] Update prometheus_metrics_prefix documentation. See [#8236](https://github.com/DataDog/integrations-core/pull/8236).

## 2.14.1 / 2020-11-24 / Agent 7.25.0

* [Fixed] Increase robustness of parsing of Unix socket responses in legacy implementation. See [#8080](https://github.com/DataDog/integrations-core/pull/8080).

## 2.14.0 / 2020-10-31 / Agent 7.24.0

* [Added] Sync openmetrics config specs with new option ignore_metrics_by_labels. See [#7823](https://github.com/DataDog/integrations-core/pull/7823).
* [Added] Add ability to dynamically get authentication information. See [#7660](https://github.com/DataDog/integrations-core/pull/7660).

## 2.13.0 / 2020-10-06

* [Added] [doc] Add encoding in log config sample. See [#7708](https://github.com/DataDog/integrations-core/pull/7708).
* [Added] Send bytes.in/out.total metrics to legacy implementation. See [#7722](https://github.com/DataDog/integrations-core/pull/7722).

## 2.12.0 / 2020-09-30

* [Added] Add new implementation to support Prometheus endpoint. See [#7620](https://github.com/DataDog/integrations-core/pull/7620).

## 2.11.0 / 2020-09-21 / Agent 7.23.0

* [Added] Add config spec. See [#7625](https://github.com/DataDog/integrations-core/pull/7625).
* [Added] Refactor check to support new implementation. See [#7587](https://github.com/DataDog/integrations-core/pull/7587).
* [Added] Do not use instance in check method. See [#7534](https://github.com/DataDog/integrations-core/pull/7534).
* [Fixed] Extract version utils. See [#7533](https://github.com/DataDog/integrations-core/pull/7533).

## 2.10.2 / 2020-09-09

* [Fixed] Add regex tags in status metrics. See [#7524](https://github.com/DataDog/integrations-core/pull/7524).
* [Fixed] Fix style for the latest release of Black. See [#7438](https://github.com/DataDog/integrations-core/pull/7438).

## 2.10.1 / 2020-08-10 / Agent 7.22.0

* [Fixed] Update ntlm_domain example. See [#7118](https://github.com/DataDog/integrations-core/pull/7118).

## 2.10.0 / 2020-06-29 / Agent 7.21.0

* [Added] Add note about warning concurrency. See [#6967](https://github.com/DataDog/integrations-core/pull/6967).
* [Fixed] Fix version parsing with haproxy enterprise version. See [#6774](https://github.com/DataDog/integrations-core/pull/6774).

## 2.9.0 / 2020-05-17 / Agent 7.20.0

* [Added] Allow optional dependency installation for all checks. See [#6589](https://github.com/DataDog/integrations-core/pull/6589).

## 2.8.1 / 2020-05-05 / Agent 7.19.2

* [Fixed] Handle empty response from show table. See [#6579](https://github.com/DataDog/integrations-core/pull/6579).

## 2.8.0 / 2020-04-04 / Agent 7.19.0

* [Added] Gather stick-table metrics. See [#6158](https://github.com/DataDog/integrations-core/pull/6158).
* [Fixed] Revert `to_native_string` to `to_string` for integrations. See [#6238](https://github.com/DataDog/integrations-core/pull/6238).

## 2.7.2 / 2020-03-24

* [Fixed] Fix event submission on Python 3. See [#6138](https://github.com/DataDog/integrations-core/pull/6138).
* [Fixed] Update deprecated imports. See [#6088](https://github.com/DataDog/integrations-core/pull/6088).
* [Fixed] Remove logs sourcecategory. See [#6121](https://github.com/DataDog/integrations-core/pull/6121).
* [Fixed] Rename `to_string()` utility to `to_native_string()`. See [#5996](https://github.com/DataDog/integrations-core/pull/5996).

## 2.7.1 / 2020-02-25 / Agent 7.18.0

* [Fixed] Document disable_legacy_service_tag and bump checks_base requirement. See [#5835](https://github.com/DataDog/integrations-core/pull/5835).

## 2.7.0 / 2020-02-22

* [Added] Add an option to skip reporting during restarts. See [#5571](https://github.com/DataDog/integrations-core/pull/5571). Thanks [dd-adn](https://github.com/dd-adn).
* [Deprecated] Deprecate `service` tag. See [#5550](https://github.com/DataDog/integrations-core/pull/5550).

## 2.6.0 / 2020-01-13 / Agent 7.17.0

* [Added] Use lazy logging format. See [#5398](https://github.com/DataDog/integrations-core/pull/5398).
* [Added] Use lazy logging format. See [#5377](https://github.com/DataDog/integrations-core/pull/5377).

## 2.5.1 / 2019-12-13 / Agent 7.16.0

* [Fixed] Handle failure on version endpoint. See [#5208](https://github.com/DataDog/integrations-core/pull/5208).

## 2.5.0 / 2019-12-02

* [Added] Submit version metadata. See [#4851](https://github.com/DataDog/integrations-core/pull/4851).
* [Added] Add auth type to RequestsWrapper. See [#4708](https://github.com/DataDog/integrations-core/pull/4708).

## 2.4.0 / 2019-10-11 / Agent 6.15.0

* [Added] Add option to override KRB5CCNAME env var. See [#4578](https://github.com/DataDog/integrations-core/pull/4578).

## 2.3.0 / 2019-08-24 / Agent 6.14.0

* [Added] Add requests wrapper to haproxy. See [#4219](https://github.com/DataDog/integrations-core/pull/4219).

## 2.2.0 / 2019-06-01 / Agent 6.12.0

* [Added] Add `requests.tot_rate`, `connections.rate`, `connections.tot_rate`, and `requests.intercepted`. See [#3797](https://github.com/DataDog/integrations-core/pull/3797).
* [Added] `collect_aggregates_only` now collects all values when set to `false`. See [#3797](https://github.com/DataDog/integrations-core/pull/3797).

## 2.1.0 / 2019-05-14

* [Added] Adhere to code style. See [#3513](https://github.com/DataDog/integrations-core/pull/3513).

## 2.0.0 / 2019-02-18 / Agent 6.10.0

* [Changed] Only send 'haproxy.backend_hosts' metrics for backend. See [#3073](https://github.com/DataDog/integrations-core/pull/3073).
* [Changed] Put service check behind a flag, false by default. See [#3083](https://github.com/DataDog/integrations-core/pull/3083).
* [Added] Support unicode for Python 3 bindings. See [#2869](https://github.com/DataDog/integrations-core/pull/2869).

## 1.4.0 / 2019-01-04 / Agent 6.9.0

* [Added] Support Python 3. See [#2849](https://github.com/DataDog/integrations-core/pull/2849).
* [Added] tcp scheme support for stats socket. See [#2731](https://github.com/DataDog/integrations-core/pull/2731).
* [Added] Add server_address tag when available. See [#2727](https://github.com/DataDog/integrations-core/pull/2727).

## 1.3.2 / 2018-11-30 / Agent 6.8.0

* [Fixed] Use raw string literals when \ is present. See [#2465](https://github.com/DataDog/integrations-core/pull/2465).

## 1.3.1 / 2018-09-04 / Agent 6.5.0

* [Fixed] Make sure all checks' versions are exposed. See [#1945](https://github.com/DataDog/integrations-core/pull/1945).
* [Fixed] Fix error in case of empty stat info. See [#1944](https://github.com/DataDog/integrations-core/pull/1944).
* [Fixed] Add data files to the wheel package. See [#1727](https://github.com/DataDog/integrations-core/pull/1727).

## 1.3.0 / 2018-06-04

* [Added] Add optional 'active' tag to metrics. See [#1478](https://github.com/DataDog/integrations-core/pull/1478).
* [Changed] Upgrade requests dependency to 2.18.4. See [#1264](https://github.com/DataDog/integrations-core/pull/1264).

## 1.2.1 / 2018-02-13

* [DOC] Adding configuration for log collection in `conf.yaml`

## 1.2.0 / 2018-02-13

* [FEATURE] allows the use of custom HTTP headers when requesting stats. See [#1019](https://github.com/DataDog/integrations-core/pull/1019)

## 1.1.0 / 2018-01-10

* [FEATURE] Enable tagging metrics based on a user-submitted named regex. See [#462](https://github.com/DataDog/integrations-core/issues/462)

## 1.0.2 / 2017-05-11

* [BUGFIX] Sanitize bogus evil CSV with with linebreak in field. See [#379](https://github.com/DataDog/integrations-core/issues/379)

## 1.0.1 / 2017-04-24

* [BUGFIX] handle comma in fields. See [#281](https://github.com/DataDog/integrations-core/issues/281)

## 1.0.0 / 2017-03-22

* [FEATURE] adds haproxy integration.
