{
    "version": 2,
    "created_at": "2025-08-08",
    "last_updated_at": "2025-08-08",
    "title": "ECS Fargate CPU utilization exceeds threshold",
    "description": "CPU usage represents the percentage of CPU resources consumed by an ECS Fargate task relative to its allocated limit. This monitor tracks when CPU utilization exceeds the configured threshold for the specified duration to identify performance bottlenecks that could lead to increased response times, task throttling, and potential service disruptions.",
    "definition": {
        "name": "[ECS Fargate] AWS ECS Task CPU utilization is high",
        "type": "query alert",
        "query": "avg(last_15m):sum:ecs.fargate.cpu.usage{*} by {ecs_cluster,task_arn,ecs_service} / sum:ecs.fargate.cpu.task.limit{*} by {ecs_cluster,task_arn,ecs_service} * 100 > 80",
        "message": "{{#is_warning}}\nAWS ECS Task {{task_arn.name}} in service {{ecs_service.name}} (cluster {{ecs_cluster.name}}) is approaching CPU Utilization threshold\n{{/is_warning}}\n\n{{#is_alert}}\nAWS ECS Task {{task_arn.name}} in service {{ecs_service.name}} (cluster {{ecs_cluster.name}}) has crossed CPU Utilization threshold\n{{/is_alert}}",
        "tags": [],
        "options": {
            "thresholds": {
                "critical": 80
            },
            "notify_audit": false,
            "on_missing_data": "default",
            "include_tags": true,
            "new_group_delay": 300
        }
    },
    "tags": [
        "integration:ecs_fargate"
    ]
}
