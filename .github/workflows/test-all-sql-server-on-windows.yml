name: Test all

on:
  workflow_call:
    inputs:
      repo:
        required: true
        type: string

      python-version:
        required: false
        default: ""
        type: string
      standard:
        required: false
        default: false
        type: boolean
      latest:
        required: false
        default: false
        type: boolean
      minimum-base-package:
        required: false
        default: false
        type: boolean
      test-py2:
        required: false
        default: false
        type: boolean
      test-py3:
        required: false
        default: true
        type: boolean
      agent-image:
        required: false
        default: ""
        type: string
      agent-image-py2:
        required: false
        default: ""
        type: string
      agent-image-windows:
        required: false
        default: ""
        type: string
      agent-image-windows-py2:
        required: false
        default: ""
        type: string
      pytest-args:
        description: "Arguments to pass to pytest"
        required: false
        type: string
        default: ""
      skip-ddev-tests:
        required: false
        default: false
        type: boolean

jobs:
  j756cad4:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-FreeTDS-2019-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  jea989fe:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-FreeTDS-2019-ha)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j7171476:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-FreeTDS-2022-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j5559509:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-FreeTDS-2022-ha)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  jcc7c77e:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-odbc-2019-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j21abb2e:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-odbc-2019-ha)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j15ade1b:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-odbc-2022-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j9574f2b:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-odbc-2022-ha)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j5f35ca6:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-2022-newyork)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  jcb01214:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-linux-2022-tokyo)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  jd8decd4:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-windows-SQLOLEDB-2019-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j4be589b:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-windows-SQLOLEDB-2022-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j0f5d4e2:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-windows-MSOLEDBSQL-2019-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  jea3d085:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-windows-MSOLEDBSQL-2022-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j60cc95d:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-windows-odbc-2019-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
  j753d202:
    uses: ./.github/workflows/test-target.yml
    with:
      job-name: SQL Server on Windows (py3.12-windows-odbc-2022-single)
      target: sqlserver
      platform: windows
      runner: '["windows-2025"]'
      repo: "${{ inputs.repo }}"
      python-version: "${{ inputs.python-version }}"
      standard: ${{ inputs.standard }}
      latest: ${{ inputs.latest }}
      agent-image: "${{ inputs.agent-image }}"
      agent-image-py2: "${{ inputs.agent-image-py2 }}"
      agent-image-windows: "${{ inputs.agent-image-windows }}"
      agent-image-windows-py2: "${{ inputs.agent-image-windows-py2 }}"
      test-py2: ${{ inputs.test-py2 }}
      test-py3: ${{ inputs.test-py3 }}
      minimum-base-package: ${{ inputs.minimum-base-package }}
      pytest-args: ${{ inputs.pytest-args }}
    secrets: inherit
