{"title":"FoundationDB Transactions and Workload","description":null,"widgets":[{"id":7531557369718772,"definition":{"title":"Transactions","type":"group","show_title":true,"layout_type":"ordered","widgets":[{"id":2210132241876772,"definition":{"title":"Transactions Started","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Batch Transactions / Second","formula":"query1"},{"alias":"Default Transactions / Second","formula":"query2"},{"alias":"Immediate Transactions / Second","formula":"query3"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"avg:foundationdb.workload.transactions.started_batch_priority.hz{*}","data_source":"metrics","name":"query1"},{"query":"avg:foundationdb.workload.transactions.started_default_priority.hz{*}","data_source":"metrics","name":"query2"},{"query":"avg:foundationdb.workload.transactions.started_immediate_priority.hz{*}","data_source":"metrics","name":"query3"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":6953092315462984,"definition":{"title":"Transactions Committed","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Commits / Second","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"avg:foundationdb.workload.transactions.committed.hz{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":4772159496539460,"definition":{"type":"note","content":"The numbers of transactions started and committed give an overall idea of the throughput of the database cluster. Started transactions are broken down by type.\n\nA high number of conflicts could indicate a database design issue, while a high number of transactions rejected for being too old suggests the cluster is unable to cope with the workload.","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":8,"y":0,"width":4,"height":4}},{"id":1421721531136720,"definition":{"title":"Transactions Conflicted","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Conflicts / Second","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":false,"queries":[{"query":"avg:foundationdb.workload.transactions.conflicted.hz{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":7399291455390138,"definition":{"title":"Transactions Rejected (Queued Too Long)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Rejections / second","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:foundationdb.workload.transactions.rejected_for_queued_too_long.hz{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":2,"width":4,"height":2}}]},"layout":{"x":0,"y":0,"width":12,"height":5}},{"id":8583239874245352,"definition":{"title":"Operations","type":"group","show_title":true,"layout_type":"ordered","widgets":[{"id":617247425025980,"definition":{"title":"Read Requests","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"alias":"Requests / second","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:foundationdb.workload.operations.read_requests.hz{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","include_zero":true,"label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":8259862090996736,"definition":{"title":"Low Priority Read Requests","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"alias":"Requests / second","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:foundationdb.workload.operations.low_priority_reads.hz{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","include_zero":true,"label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":6259859862527082,"definition":{"title":"Completed Read operations","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"alias":"Reads / second","formula":"query1"}],"queries":[{"query":"avg:foundationdb.workload.operations.reads.hz{*}","data_source":"metrics","name":"query1"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":3689974919495706,"definition":{"title":"Write Operations Completed","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"alias":"Writes / second","formula":"query1"}],"queries":[{"query":"avg:foundationdb.workload.operations.writes.hz{*}","data_source":"metrics","name":"query1"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":1246848430284440,"definition":{"title":"Proxy memory limit errors","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"alias":"Errors / second","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:foundationdb.workload.operations.memory_errors.hz{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","include_zero":true,"label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":8304484655265424,"definition":{"type":"note","content":"Memory errors are requests rejected by proxies because they are reached their memory limit, which indicates they already have too many requests.","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":8,"y":2,"width":4,"height":2}}]},"layout":{"x":0,"y":5,"width":12,"height":5}}],"template_variables":[],"layout_type":"ordered","is_read_only":false,"notify_list":[],"reflow_type":"fixed","id":"6vn-5wq-k3i"}
