name: Octopus Deploy
files:
- name: octopus_deploy.yaml
  options:
  - template: init_config
    options:
    - template: init_config/default
  - template: instances
    options:
    - name: octopus_endpoint
      description: |
        Octopus API endpoint.
        See https://octopus.com/docs/octopus-rest-api/getting-started#authentication for more details.
      value:
        example: http://localhost:80/api
        type: string
      required: true
    - name: spaces
      description: |
        filter your integration by spaces, project groups, and projects.
      value:
        type: object
        properties:
          - name: limit
            description: |
              Maximum number of spaces to be processed.
            type: integer
          - name: include
            type: array
            items:
              anyOf:
                - type: string
                - type: object
          - name: exclude
            type: array
            items:
              type: string
          - name: interval
            type: integer
        example: {}
    - template: instances/default
