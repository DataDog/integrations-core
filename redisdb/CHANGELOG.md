# CHANGELOG - redisdb

## Unreleased

## 5.0.0 / 2023-08-10

***Changed***:

* Bump the minimum base check version. See [#15427](https://github.com/DataDog/integrations-core/pull/15427).

***Added***:

* Update generated config models. See [#15212](https://github.com/DataDog/integrations-core/pull/15212).

***Fixed***:

* Fix types for generated config models. See [#15334](https://github.com/DataDog/integrations-core/pull/15334).

## 4.8.0 / 2023-07-10

***Added***:

* Bump dependencies for Agent 7.47. See [#15145](https://github.com/DataDog/integrations-core/pull/15145).
* Added total connections received and instantaneous kbps metrics. See [#14467](https://github.com/DataDog/integrations-core/pull/14467). Thanks [bmalec](https://github.com/bmalec).

***Fixed***:

* fix the length of key of type stream. See [#14722](https://github.com/DataDog/integrations-core/pull/14722). Thanks [sileht](https://github.com/sileht).
* Bump Python version from py3.8 to py3.9. See [#14701](https://github.com/DataDog/integrations-core/pull/14701).

## 4.7.0 / 2023-05-26 / Agent 7.46.0

***Added***:

* Add ping latency metric. See [#14523](https://github.com/DataDog/integrations-core/pull/14523).

## 4.6.0 / 2023-03-31 / Agent 7.44.0

***Added***:

* Update redis to 4.5.4. See [#14270](https://github.com/DataDog/integrations-core/pull/14270).

## 4.5.3 / 2022-12-09 / Agent 7.42.0

***Fixed***:

* Stop using deprecated `distutils.version` classes. See [#13408](https://github.com/DataDog/integrations-core/pull/13408).

## 4.5.2 / 2022-08-05 / Agent 7.39.0

***Fixed***:

* Dependency updates. See [#12653](https://github.com/DataDog/integrations-core/pull/12653).
* Fix latency measurement to exclude agent load. See [#12505](https://github.com/DataDog/integrations-core/pull/12505).

## 4.5.1 / 2022-05-15 / Agent 7.37.0

***Fixed***:

* Upgrade dependencies. See [#11958](https://github.com/DataDog/integrations-core/pull/11958).

## 4.5.0 / 2022-04-05 / Agent 7.36.0

***Added***:

* Upgrade dependencies. See [#11726](https://github.com/DataDog/integrations-core/pull/11726).
* Add metric_patterns options to filter all metric submission by a list of regexes. See [#11695](https://github.com/DataDog/integrations-core/pull/11695).

## 4.4.0 / 2022-02-19 / Agent 7.35.0

***Added***:

* Add `pyproject.toml` file. See [#11424](https://github.com/DataDog/integrations-core/pull/11424).

***Fixed***:

* Fix namespace packaging on Python 2. See [#11532](https://github.com/DataDog/integrations-core/pull/11532).

## 4.3.2 / 2022-02-01 / Agent 7.34.0

***Fixed***:

* Bump redis dependency to 4.0.2. See [#11247](https://github.com/DataDog/integrations-core/pull/11247).

## 4.3.1 / 2022-01-08

***Fixed***:

* Add comment to autogenerated model files. See [#10945](https://github.com/DataDog/integrations-core/pull/10945).
* Bump redis dependency. See [#9383](https://github.com/DataDog/integrations-core/pull/9383).

## 4.3.0 / 2021-11-13 / Agent 7.33.0

***Added***:

* Add support for monitoring Redis stream keys. See [#10549](https://github.com/DataDog/integrations-core/pull/10549). Thanks [jd](https://github.com/jd).

## 4.2.0 / 2021-10-04 / Agent 7.32.0

***Added***:

* Disable generic tags. See [#10027](https://github.com/DataDog/integrations-core/pull/10027).

## 4.1.0 / 2021-08-22 / Agent 7.31.0

***Added***:

* Add runtime configuration validation. See [#8977](https://github.com/DataDog/integrations-core/pull/8977).

## 4.0.0 / 2021-07-12 / Agent 7.30.0

***Changed***:

* Remove redis_role tag from service check. See [#9540](https://github.com/DataDog/integrations-core/pull/9540).

***Added***:

* Make critical service checks more verbose. See [#9280](https://github.com/DataDog/integrations-core/pull/9280).

***Fixed***:

* Expand E2E tests to account for restrictions in managed Redis environments. See [#9394](https://github.com/DataDog/integrations-core/pull/9394).
* Overrides 'SLOWLOG GET' response callback with fixed/upstream version of `parse_slowlog_get`. See [#9459](https://github.com/DataDog/integrations-core/pull/9459).
* Fix Redis slowlog parsing when no new slowlog entries. See [#9458](https://github.com/DataDog/integrations-core/pull/9458). Thanks [ypisetsky](https://github.com/ypisetsky).

## 3.5.0 / 2021-05-28 / Agent 7.29.0

***Added***:

* added recent_max_input_buffer and recent_max_output_buffer. See [#9321](https://github.com/DataDog/integrations-core/pull/9321). Thanks [yonatan-ess](https://github.com/yonatan-ess).

## 3.4.0 / 2021-04-19 / Agent 7.28.0

***Added***:

* Report io thread metrics. See [#9018](https://github.com/DataDog/integrations-core/pull/9018). Thanks [jlisam](https://github.com/jlisam).
* Support redis 6 cpu metrics. See [#9015](https://github.com/DataDog/integrations-core/pull/9015). Thanks [jlisam](https://github.com/jlisam).

***Fixed***:

* Skip slowlogs if there is an error. See [#9147](https://github.com/DataDog/integrations-core/pull/9147).
* Correct default ssl_cert_reqs. See [#9048](https://github.com/DataDog/integrations-core/pull/9048). Thanks [wbobeirne](https://github.com/wbobeirne).

## 3.3.1 / 2021-03-07 / Agent 7.27.0

***Fixed***:

* Rename config spec example consumer option `default` to `display_default`. See [#8593](https://github.com/DataDog/integrations-core/pull/8593).
* Bump minimum base package version. See [#8443](https://github.com/DataDog/integrations-core/pull/8443).

## 3.3.0 / 2021-01-06 / Agent 7.25.0

***Added***:

* Update redis dependency. See [#8301](https://github.com/DataDog/integrations-core/pull/8301).

## 3.2.0 / 2020-10-31 / Agent 7.24.0

***Added***:

* [doc] Add encoding in log config sample. See [#7708](https://github.com/DataDog/integrations-core/pull/7708).

## 3.1.1 / 2020-09-21 / Agent 7.23.0

***Fixed***:

* Fix style for the latest release of Black. See [#7438](https://github.com/DataDog/integrations-core/pull/7438).
* Handle redis role missing. See [#7413](https://github.com/DataDog/integrations-core/pull/7413).

## 3.1.0 / 2020-08-10 / Agent 7.22.0

***Added***:

* Add auto_conf.yaml spec for redisdb. See [#7161](https://github.com/DataDog/integrations-core/pull/7161).
* Add redis config spec. See [#7091](https://github.com/DataDog/integrations-core/pull/7091).

***Fixed***:

* Update logs config service field to optional. See [#7209](https://github.com/DataDog/integrations-core/pull/7209).
* Refactor instance argument. See [#7018](https://github.com/DataDog/integrations-core/pull/7018).

## 3.0.0 / 2020-06-29 / Agent 7.21.0

***Changed***:

* Collect port and host from same source in _generate_instance_key. See [#6680](https://github.com/DataDog/integrations-core/pull/6680).

***Added***:

* Upgrade redis dependency to support `username` in connection strings. See [#6708](https://github.com/DataDog/integrations-core/pull/6708).

***Fixed***:

* Add flag to enable CLIENT command metrics. See [#6877](https://github.com/DataDog/integrations-core/pull/6877).

## 2.1.1 / 2020-06-11 / Agent 7.20.2

***Fixed***:

* Add flag to enable CLIENT command metrics. See [#6877](https://github.com/DataDog/integrations-core/pull/6877).

## 2.1.0 / 2020-05-17 / Agent 7.20.0

***Added***:

* Allow optional dependency installation for all checks. See [#6589](https://github.com/DataDog/integrations-core/pull/6589).
* Add 'redis.net.connections' metric to count connections by client. See [#6495](https://github.com/DataDog/integrations-core/pull/6495). Thanks [remicalixte](https://github.com/remicalixte).

***Fixed***:

* Reduce slow-log log message. See [#6631](https://github.com/DataDog/integrations-core/pull/6631).
* Use agent 6 signature. See [#6424](https://github.com/DataDog/integrations-core/pull/6424).

## 2.0.2 / 2020-04-04 / Agent 7.19.0

***Fixed***:

* Remove logs sourcecategory. See [#6121](https://github.com/DataDog/integrations-core/pull/6121).

## 2.0.1 / 2020-02-10 / Agent 7.18.0

***Fixed***:

* Handle error in config_get. See [#5676](https://github.com/DataDog/integrations-core/pull/5676).

## 2.0.0 / 2020-02-05

***Changed***:

* Submit `redis.key.length` metric regardless of `warn_on_missing_keys`. See [#5591](https://github.com/DataDog/integrations-core/pull/5591).

***Added***:

* Add aof loading metrics. See [#5431](https://github.com/DataDog/integrations-core/pull/5431). Thanks [tanner-bruce](https://github.com/tanner-bruce).

## 1.15.0 / 2020-01-13 / Agent 7.17.0

***Added***:

* Use lazy logging format. See [#5398](https://github.com/DataDog/integrations-core/pull/5398).
* Use lazy logging format. See [#5377](https://github.com/DataDog/integrations-core/pull/5377).
* Upgrade `redis` to 3.3.11. See [#5150](https://github.com/DataDog/integrations-core/pull/5150).
* Report maxclients. See [#5207](https://github.com/DataDog/integrations-core/pull/5207). Thanks [jd](https://github.com/jd).

## 1.14.0 / 2019-12-02 / Agent 7.16.0

***Added***:

* Add active defragmentation gauges. See [#5022](https://github.com/DataDog/integrations-core/pull/5022).
* Use a stub class for metadata testing. See [#4919](https://github.com/DataDog/integrations-core/pull/4919).

***Fixed***:

* Fix example keys config. See [#4939](https://github.com/DataDog/integrations-core/pull/4939). Thanks [sileht](https://github.com/sileht).

## 1.13.0 / 2019-10-11 / Agent 6.15.0

***Added***:

* Submit version metadata. See [#4705](https://github.com/DataDog/integrations-core/pull/4705).

## 1.12.2 / 2019-10-04

***Fixed***:

* Don't display warning for default keys value. See [#4641](https://github.com/DataDog/integrations-core/pull/4641).

## 1.12.1 / 2019-08-24 / Agent 6.14.0

***Fixed***:

* Always publish a value for missing keys. See [#4386](https://github.com/DataDog/integrations-core/pull/4386).

## 1.12.0 / 2019-06-01 / Agent 6.12.0

***Added***:

* Add redis.mem.overhead and redis.mem.startup. See [#3760](https://github.com/DataDog/integrations-core/pull/3760). Thanks [maximebedard](https://github.com/maximebedard).

## 1.11.0 / 2019-05-14

***Added***:

* Adhere to code style. See [#3562](https://github.com/DataDog/integrations-core/pull/3562).

***Fixed***:

* Adjust latency tracking in redisdb integration. See [#3689](https://github.com/DataDog/integrations-core/pull/3689). Thanks [Firehed](https://github.com/Firehed).

## 1.10.0 / 2019-02-18 / Agent 6.10.0

***Added***:

* Add redis_db tag to redis.key.length. See [#3008](https://github.com/DataDog/integrations-core/pull/3008).

## 1.9.0 / 2019-01-22 / Agent 6.9.0

***Added***:

* Finish Python 3 Support. See [#2951](https://github.com/DataDog/integrations-core/pull/2951).

***Fixed***:

* Only try to decode slowlog command entrypoint. See [#2998](https://github.com/DataDog/integrations-core/pull/2998).

## 1.8.0 / 2018-11-30 / Agent 6.8.0

***Added***:

* Support Python 3. See [#2422](https://github.com/DataDog/integrations-core/pull/2422).

## 1.7.1 / 2018-10-12 / Agent 6.6.0

***Fixed***:

* Handle `host:` command when parsing commandstats output. See [#2356](https://github.com/DataDog/integrations-core/pull/2356).
* Fix multiple db key length. See [#2187](https://github.com/DataDog/integrations-core/pull/2187).

## 1.7.0 / 2018-09-04 / Agent 6.5.0

***Added***:

* Support finding key lengths on any db. See [#1948](https://github.com/DataDog/integrations-core/pull/1948).

***Fixed***:

* Add data files to the wheel package. See [#1727](https://github.com/DataDog/integrations-core/pull/1727).

## 1.6.0 / 2018-06-06

***Added***:

* Add a config option to disable connection cache. See [#1668](https://github.com/DataDog/integrations-core/pull/1668).
* Package `auto_conf.yaml` for appropriate integrations. See [#1664](https://github.com/DataDog/integrations-core/pull/1664).

## 1.5.0 / 2018-05-11

***Added***:

* Hardcode the 6379 port in the Autodiscovery template. See [#1444](https://github.com/DataDog/integrations-core/pull/1444) for more information.

## 1.4.0 / 2018-01-10

***Added***:

* Keys can be expressed as patterns, see [#300](https://github.com/DataDog/integrations-core/issues/300). Thanks [@aliva](https://github.com/aliva).

***Fixed***:

* Skip non-local keys. See  [#798](https://github.com/DataDog/integrations-core/issues/798). Thanks [@chadharvey](https://github.com/chadharvey)

## 1.3.0 / 2017-11-21

***Added***:

* Update auto_conf template to support agent 6 and 5.20+. See [#860](https://github.com/DataDog/integrations-core/issues/860)

## 1.2.0 / 2017-08-28

***Added***:

* Add "redis.net.commands.instantaneous" metric. See [#672](https://github.com/DataDog/integrations-core/issues/672)
* Add "redis.mem.maxmemory" metric. See [#673](https://github.com/DataDog/integrations-core/issues/673), thanks [@endzyme](https://github.com/endzyme)

## 1.1.0 / 2017-07-18

***Added***:

* Add "redis_role:{master,slave}" tag.

## 1.0.0 / 2017-02-22

***Added***:

* Add redisdb integration.
