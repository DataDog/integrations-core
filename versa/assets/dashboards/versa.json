{
  "title": "Versa SD-WAN Overview",
  "description": "[[suggested_dashboards]]",
  "widgets": [
    {
      "id": 1937983187702050,
      "definition": {
        "title": "Overview",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2149395572154170,
            "definition": {
              "type": "note",
              "content": "**Versa SD-WAN Overview & Dashboard**\n\nThis dashboard provides a comprehensive overview of your SD-WAN environment, allowing you to effortlessly monitor the status of your sites, tunnels, and devices. Stay informed about network performance, traffic patterns, and potential issues, to ensure optimal network efficiency and reliability.\n\n**Further reading on NDM**\n\n- Our blog post on [Monitoring Datacenters and network devices with Datadog](https://www.datadoghq.com/blog/datacenter-monitoring-dashboards/)\n- Network Device Monitoring [docs](https://docs.datadoghq.com/network_performance_monitoring/devices) ",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 8249325739946598,
      "definition": {
        "title": "Sites",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1943687279834620,
            "definition": {
              "title": "Top 10 Sites by Total Bandwidth",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.site.bandwidth_tx{$device_namespace,$device_hostname} by {site}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.site.bandwidth_rx{$device_namespace,$device_hostname} by {site}"
                    }
                  ],
                  "formulas": [
                    {
                      "alias": "Total Bandwidth",
                      "formula": "top(query1 + query2, 10, 'mean', 'desc')"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 2
            }
          },
          {
            "id": 7974813190361672,
            "definition": {
              "title": "Site table (Volume, Bandwidth, Availability)",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.site.volume_rx{$device_namespace,$device_hostname} by {device_hostname,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:versa.site.volume_tx{$device_namespace,$device_hostname} by {device_hostname,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "avg:versa.site.bandwidth_rx{$device_namespace,$device_hostname} by {device_hostname,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "avg:versa.site.bandwidth_tx{$device_namespace,$device_hostname} by {device_hostname,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "avg:versa.site.availability{$device_namespace,$device_hostname} by {device_hostname,device_id}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "text_formats": [
                    [],
                    [
                      {
                        "match": {
                          "type": "is",
                          "value": "up"
                        },
                        "palette": "white_on_green"
                      },
                      {
                        "match": {
                          "type": "is",
                          "value": "down"
                        },
                        "palette": "white_on_red"
                      }
                    ]
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 4,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "alias": "Volume RX",
                      "formula": "query2"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Volume TX",
                      "formula": "query3"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Bandwidth RX",
                      "formula": "query4"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Bandwidth TX",
                      "formula": "query5"
                    },
                    {
                      "cell_display_mode": "number",
                      "alias": "Availability %",
                      "conditional_formats": [
                        {
                          "comparator": ">",
                          "value": 90,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": ">",
                          "value": 50,
                          "palette": "white_on_yellow"
                        },
                        {
                          "comparator": "<=",
                          "value": 50,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "query6"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 12,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 4,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 1857807865466825,
      "definition": {
        "title": "Headends",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 489513951732572,
            "definition": {
              "title": "Directors Up",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:versa.device.reachable{type:director,$device_namespace,$device_hostname}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "green_on_white"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 2254207651240089,
            "definition": {
              "title": "Directors Down",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:versa.device.unreachable{type:director,$device_namespace,$device_hostname}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "red_on_white"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 931891232447134,
            "definition": {
              "title": "Controllers Up",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:versa.device.reachable{type:controller,$device_namespace,$device_hostname}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "green_on_white"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 1539462784563171,
            "definition": {
              "title": "Controllers Down",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:versa.device.unreachable{type:controller,$device_namespace,$device_hostname}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "red_on_white"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 9,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 4857178228554875,
            "definition": {
              "title": "CPU Load",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.cpu.usage{(type:director OR type:controller) AND $device_namespace AND $device_hostname} by {device_id,type}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 6924959805282918,
            "definition": {
              "title": "Disk usage",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.disk.usage{(type:director OR type:controller) AND $device_namespace AND $device_hostname} by {device_id,type,partition}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 2,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 1847570889962885,
            "definition": {
              "title": "Memory",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.memory.usage{(type:director OR type:controller) AND $device_namespace AND $device_hostname} by {device_id,type}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 8498531253254278,
            "definition": {
              "title": "Sys Uptime",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.device.uptime{(type:director OR type:controller) AND $device_namespace AND $device_hostname} by {type,device_id}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 4,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 10,
        "width": 12,
        "height": 7,
        "is_column_break": true
      }
    },
    {
      "id": 2021669523016294,
      "definition": {
        "title": "Appliances",
        "background_color": "purple",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1089115146257922,
            "definition": {
              "title": "Devices Up",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:versa.device.reachable{!type:director,!type:controller,$device_namespace,$device_hostname}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "green_on_white"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 293628861115551,
            "definition": {
              "title": "Devices Down",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:versa.device.unreachable{!type:director,!type:controller,$device_namespace,$device_hostname}",
                      "aggregator": "last"
                    }
                  ],
                  "response_format": "scalar",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "red_on_white"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 7574618021374432,
            "definition": {
              "title": "CPU",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.cpu.usage{$device_namespace,$device_hostname ,!type:director,!type:controller} by {device_id}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 6334152719067053,
            "definition": {
              "title": "Appliances",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.device.reachable{!type:director,$device_namespace,$device_hostname , !type:controller} by {device_hostname,device_id,type}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "alias": "status",
                      "conditional_formats": [
                        {
                          "comparator": ">",
                          "value": 0,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": "<=",
                          "value": 0,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 7,
              "y": 0,
              "width": 5,
              "height": 5
            }
          },
          {
            "id": 1049553099213704,
            "definition": {
              "title": "Memory",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.memory.usage{$device_namespace,$device_hostname ,!type:director ,!type:controller} by {device_id}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 2199093683475578,
            "definition": {
              "title": "Disk",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.disk.usage{$device_namespace,$device_hostname,!type:director,!type:controller} by {device_id}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 3,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 17,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 6111342913598089,
      "definition": {
        "title": "Links",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2207008988947940,
            "definition": {
              "title": "Inbound Throughput (bps)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.link.volume_rx{$device_namespace,$device_hostname} by {device_id,site,access_circuit}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 155389330474434,
            "definition": {
              "title": "Outbound Throughput (bps)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.link.bandwidth_tx{$device_namespace,$device_hostname} by {device_id,site,access_circuit}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 5149422755420640,
            "definition": {
              "title": "Inbound Utilization (%)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.link.rx_util{$device_namespace,$device_hostname} by {device_id,site,access_circuit}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 6086460678815693,
            "definition": {
              "title": "Outbound Utilization (%)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.link.tx_util{$device_namespace,$device_hostname} by {device_id,site,access_circuit}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 9,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 5418035373856068,
            "definition": {
              "title": "Interfaces (Throughput (bps), Utilization (%))",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.link.bandwidth_rx{$device_namespace,$device_hostname} by {device_hostname,device_id,site,access_circuit}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.link.bandwidth_tx{$device_namespace,$device_hostname} by {device_hostname,device_id,site,access_circuit}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:versa.link.rx_util{$device_namespace,$device_hostname} by {device_hostname,device_id,site,access_circuit}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "avg:versa.link.tx_util{$device_namespace,$device_hostname} by {device_hostname,device_id,site,access_circuit}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "text_formats": [
                    [],
                    [],
                    [
                      {
                        "match": {
                          "type": "is",
                          "value": "up"
                        },
                        "palette": "white_on_green"
                      },
                      {
                        "match": {
                          "type": "is",
                          "value": "down"
                        },
                        "palette": "white_on_red"
                      },
                      {
                        "match": {
                          "type": "is",
                          "value": "off"
                        },
                        "palette": "black_on_light_red"
                      }
                    ]
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 5,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "alias": "Inbound Throughput",
                      "formula": "query1"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Outbound Throughput",
                      "formula": "query2"
                    },
                    {
                      "cell_display_mode": "number",
                      "alias": "Inbound Utilization",
                      "conditional_formats": [
                        {
                          "comparator": "<=",
                          "value": 50,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": ">",
                          "value": 50,
                          "palette": "white_on_yellow"
                        },
                        {
                          "comparator": ">=",
                          "value": 90,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "query3"
                    },
                    {
                      "cell_display_mode": "number",
                      "alias": "Outbound Utilization",
                      "conditional_formats": [
                        {
                          "comparator": "<=",
                          "value": 50,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": ">",
                          "value": 50,
                          "palette": "white_on_yellow"
                        },
                        {
                          "comparator": ">=",
                          "value": 90,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "query4"
                    },
                    {
                      "alias": "Total Throughput",
                      "cell_display_mode": "bar",
                      "formula": "query1 + query2"
                    },
                    {
                      "alias": "Max Utilization (either direction)",
                      "conditional_formats": [
                        {
                          "comparator": "<",
                          "value": 50,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": ">=",
                          "value": 50,
                          "palette": "white_on_yellow"
                        },
                        {
                          "comparator": ">=",
                          "value": 90,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "max(query3, query4)"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 12,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 23,
        "width": 12,
        "height": 7
      }
    },
    {
      "id": 3808492318589673,
      "definition": {
        "title": "Path SLA Metrics",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 3594132705417076,
            "definition": {
              "title": "SLA Metrics by Local + Remote Site (delay, fwd/rev delay var, fwd/rev loss ratio, pdu loss ratio)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.sla.delay{$device_namespace,$device_hostname} by {local_site,remote_site,local_access_circuit,remote_access_circuit,device_id,forwarding_class}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.sla.fwd_delay_var{$device_namespace,$device_hostname} by {local_site,remote_site,local_access_circuit,remote_access_circuit,device_id,forwarding_class}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:versa.sla.rev_delay_var{$device_namespace,$device_hostname} by {local_site,remote_site,local_access_circuit,remote_access_circuit,device_id,forwarding_class}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "avg:versa.sla.fwd_loss_ratio{$device_namespace,$device_hostname} by {local_site,remote_site,local_access_circuit,remote_access_circuit,device_id,forwarding_class}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query5",
                      "query": "avg:versa.sla.rev_loss_ratio{$device_namespace,$device_hostname} by {local_site,remote_site,local_access_circuit,remote_access_circuit,device_id,forwarding_class}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query6",
                      "query": "avg:versa.sla.pdu_loss_ratio{$device_namespace,$device_hostname} by {local_site,remote_site,local_access_circuit,remote_access_circuit,device_id,forwarding_class}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "text_formats": [
                    [],
                    [],
                    [],
                    [
                      {
                        "match": {
                          "type": "is",
                          "value": "up"
                        },
                        "palette": "white_on_green"
                      }
                    ]
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "alias": "delay",
                      "formula": "query1"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "fwd_delay_var",
                      "formula": "query2"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "rev_delay_var",
                      "formula": "query3"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "fwd_loss_ratio",
                      "formula": "query4"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "rev_loss_ratio",
                      "formula": "query5"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "pdu_loss_ratio",
                      "formula": "query6"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 4
            }
          },
          {
            "id": 6999385581675706,
            "definition": {
              "title": "Top SLA Measurement by delay",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.sla.delay{$device_namespace,$device_hostname} by {device_id,local_site,remote_site,local_access_circuit,remote_access_circuit,device_hostname,forwarding_class}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 12,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 30,
        "width": 12,
        "height": 9
      }
    },
    {
      "id": 5166932986834590,
      "definition": {
        "title": "QoS Metrics",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 3831460218987376,
            "definition": {
              "title": "Path QoS (local site, remote site, volume TX, TX drops, percentage drop)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.qos.volume_tx{$site,$device_namespace,$device_hostname} by {local_site,remote_site,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.qos.total_drop{$site,$device_namespace,$device_hostname} by {local_site,remote_site,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:versa.qos.percent_drop{$site,$device_namespace,$device_hostname} by {local_site,remote_site,device_id}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "formula": "query1"
                    },
                    {
                      "cell_display_mode": "bar",
                      "formula": "query2"
                    },
                    {
                      "cell_display_mode": "bar",
                      "formula": "query3"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 4
            }
          },
          {
            "id": 3665258115609752,
            "definition": {
              "title": "Traffic Volume",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.qos.volume_tx{$device_namespace,$device_hostname, $site}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 3112340488942484,
            "definition": {
              "title": "Percentage Drop (%)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.qos.percent_drop{$device_namespace,$device_hostname, $site}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 2,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 39,
        "width": 12,
        "height": 5
      }
    },
    {
      "id": 8614837194469100,
      "definition": {
        "title": "Tunnels",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 6376822767038620,
            "definition": {
              "title": "Tunnel Utilizations (appliance, local/remote IP, Volume RX/TX)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.tunnel.volume_tx{$device_namespace,$device_hostname} by {appliance,local_ip,remote_ip,vpn_prof_name}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.tunnel.volume_rx{$device_namespace,$device_hostname} by {appliance,local_ip,remote_ip,vpn_prof_name}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "alias": "Volume TX",
                      "formula": "query1"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Volume RX",
                      "formula": "query2"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 4
            }
          },
          {
            "id": 6708211809539018,
            "definition": {
              "title": "Tunnel Volume (TX, RX, Total)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.tunnel.volume_tx{$device_namespace,$device_hostname} by {appliance,local_ip,remote_ip,vpn_prof_name}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.tunnel.volume_rx{$device_namespace,$device_hostname} by {appliance,local_ip,remote_ip,vpn_prof_name}"
                    }
                  ],
                  "formulas": [
                    {
                      "alias": "Volume TX",
                      "formula": "query1"
                    },
                    {
                      "alias": "Volume RX",
                      "formula": "query2"
                    },
                    {
                      "alias": "Volume Total",
                      "formula": "query1 + query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 44,
        "width": 12,
        "height": 5
      }
    },
    {
      "id": 2146084934056988,
      "definition": {
        "title": "Applications and Users",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 4698781026950000,
            "definition": {
              "title": "Top Users by Bandwidth (sites)",
              "title_size": "16",
              "title_align": "left",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.user.bandwidth{$device_namespace,$device_hostname} by {site,user}",
                      "aggregator": "avg"
                    }
                  ],
                  "style": {
                    "palette": "datadog16"
                  },
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ],
              "type": "sunburst",
              "legend": {
                "type": "automatic"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 4
            }
          },
          {
            "id": 5612156549794008,
            "definition": {
              "title": "Top User Bandwidth (per site)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.user.bandwidth{$device_namespace,$device_hostname} by {site,user}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 8,
              "height": 4
            }
          },
          {
            "id": 4089199831316850,
            "definition": {
              "title": "Top Applications by Bandwidth (sites)",
              "title_size": "16",
              "title_align": "left",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.app.bandwidth{$device_namespace,$device_hostname} by {site,app_id}",
                      "aggregator": "avg"
                    }
                  ],
                  "style": {
                    "palette": "datadog16"
                  },
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ],
              "type": "sunburst",
              "legend": {
                "type": "automatic"
              }
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 4,
              "height": 4
            }
          },
          {
            "id": 1183747223959408,
            "definition": {
              "title": "Top Applications by Bandwidth (per site)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.app.bandwidth{$device_namespace,$device_hostname} by {site,app_id}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 4,
              "width": 8,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 49,
        "width": 12,
        "height": 9
      }
    },
    {
      "id": 6310510752903556,
      "definition": {
        "title": "DIA Application Metrics",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 868146667782968,
            "definition": {
              "title": "DIA Application Traffic Usage",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.dia.volume_tx{$device_namespace,$device_hostname} by {site,access_circuit}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.dia.volume_rx{$device_namespace,$device_hostname} by {site,access_circuit}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:versa.dia.bandwidth_tx{$device_namespace,$device_hostname} by {site,access_circuit}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "avg:versa.dia.bandwidth_rx{$device_namespace,$device_hostname} by {site,access_circuit}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "alias": "Volume TX",
                      "formula": "query1"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Volume RX",
                      "formula": "query2"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Bandwidth TX",
                      "formula": "query3"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Bandwidth RX",
                      "formula": "query4"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 4
            }
          },
          {
            "id": 1260741089714376,
            "definition": {
              "title": "DIA Application Traffic Bandwidth (per access circuit)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.dia.bandwidth_rx{$device_namespace,$device_hostname, $site} by {site,access_circuit}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.dia.bandwidth_tx{$device_namespace,$device_hostname, $site} by {site,access_circuit}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1 + query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 58,
        "width": 12,
        "height": 5
      }
    },
    {
      "id": 2867797573402597,
      "definition": {
        "title": "Interfaces",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 8495732616336603,
            "definition": {
              "title": "Inbound Throughput (bps)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.interface.bandwidth{$device_namespace,$device_hostname} by {device_id,site,interface}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 3761648095963762,
            "definition": {
              "title": "Outbound Throughput (bps)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.interface.bandwidth_rx{$device_namespace,$device_hostname} by {device_id,site,interface}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 5205000034452573,
            "definition": {
              "title": "Inbound Utilization (%)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.interface.rx_util{$device_namespace,$device_hostname} by {device_id,site,interface}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 5403848799954680,
            "definition": {
              "title": "Outbound Utilization (%)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.interface.tx_util{$device_namespace,$device_hostname} by {device_id,site,interface}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "order_by": "values",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 9,
              "y": 0,
              "width": 3,
              "height": 3
            }
          },
          {
            "id": 394385377410930,
            "definition": {
              "title": "Interfaces (Throughput (bps), Utilization (%))",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:versa.interface.bandwidth_rx{$device_namespace,$device_hostname} by {device_hostname,interface,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:versa.interface.bandwidth_tx{$device_namespace,$device_hostname} by {device_hostname,interface,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:versa.interface.rx_util{$device_namespace,$device_hostname} by {device_hostname,interface,device_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query4",
                      "query": "avg:versa.interface.tx_util{$device_namespace,$device_hostname} by {device_hostname,interface,device_id}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "text_formats": [
                    [],
                    [],
                    [
                      {
                        "match": {
                          "type": "is",
                          "value": "up"
                        },
                        "palette": "white_on_green"
                      },
                      {
                        "match": {
                          "type": "is",
                          "value": "down"
                        },
                        "palette": "white_on_red"
                      },
                      {
                        "match": {
                          "type": "is",
                          "value": "off"
                        },
                        "palette": "black_on_light_red"
                      }
                    ]
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 5,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "cell_display_mode": "bar",
                      "alias": "Inbound Throughput",
                      "formula": "query1"
                    },
                    {
                      "cell_display_mode": "bar",
                      "alias": "Outbound Throughput",
                      "formula": "query2"
                    },
                    {
                      "cell_display_mode": "number",
                      "alias": "Inbound Utilization",
                      "conditional_formats": [
                        {
                          "comparator": "<=",
                          "value": 50,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": ">=",
                          "value": 50,
                          "palette": "white_on_yellow"
                        },
                        {
                          "comparator": ">=",
                          "value": 90,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "query3"
                    },
                    {
                      "cell_display_mode": "number",
                      "alias": "Outbound Utilization",
                      "conditional_formats": [
                        {
                          "comparator": "<=",
                          "value": 50,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": ">=",
                          "value": 50,
                          "palette": "white_on_yellow"
                        },
                        {
                          "comparator": ">=",
                          "value": 90,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "query4"
                    },
                    {
                      "alias": "Total Throughput",
                      "cell_display_mode": "bar",
                      "formula": "query1 + query2"
                    },
                    {
                      "alias": "Max Utilization (Either Direction)",
                      "conditional_formats": [
                        {
                          "comparator": "<=",
                          "value": 50,
                          "palette": "white_on_green"
                        },
                        {
                          "comparator": ">=",
                          "value": 50,
                          "palette": "white_on_yellow"
                        },
                        {
                          "comparator": ">",
                          "value": 90,
                          "palette": "white_on_red"
                        }
                      ],
                      "formula": "max(query3, query4)"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 12,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 63,
        "width": 12,
        "height": 7
      }
    }
  ],
  "template_variables": [
    {
      "name": "site",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "device_namespace",
      "prefix": "device_namespace",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "device_hostname",
      "prefix": "device_hostname",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}
