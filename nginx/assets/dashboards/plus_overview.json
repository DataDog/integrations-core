{
  "title": "NGINX Plus - Overview",
  "description": "",
  "widgets": [
    {
      "id": 0,
      "definition": {
        "type": "note",
        "content": "# Readme \n\nWith this dashboard, you can get a high-level view of your NGINX Plus deployments and troubleshoot performance issues, including:\n\n- a high-level view of combined end-user activity\n- how often your servers are failing to process seemingly valid requests\n- how long your servers are taking to process client requests\n\n\nTo learn more about our NGINX integration, see:\n\n- Our official [integration documentation](https://docs.datadoghq.com/integrations/nginx/?tab=host).\n\n- Our [blog post](https://www.datadoghq.com/blog/how-to-monitor-nginx/).\n\nYou can clone this dashboard, copy and paste widgets from other out-of-the-box dashboards, and create your own visualizations for your custom applications.\n\n",
        "background_color": "transparent",
        "font_size": "14",
        "text_align": "left",
        "show_tick": false,
        "tick_pos": "50%",
        "tick_edge": "left"
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 4,
        "height": 5
      }
    },
    {
      "id": 1,
      "definition": {
        "title": "Basic Activity Summary",
        "reflow_type": "fixed",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 7,
            "definition": {
              "title": "Nginx host up",
              "title_size": "16",
              "title_align": "center",
              "type": "check_status",
              "check": "nginx.can_connect",
              "grouping": "cluster",
              "group_by": [],
              "tags": ["*"]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 8,
            "definition": {
              "title": "Accepted connections",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "sum:nginx.connections.accepted{*}",
                  "aggregator": "last",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 0
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 9,
            "definition": {
              "title": "Active connections",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "sum:nginx.connections.active{*}",
                  "aggregator": "last",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 2
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 10,
            "definition": {
              "title": "Idle/waiting connections",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "sum:nginx.net.waiting{*}",
                  "aggregator": "last",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 0
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 11,
            "definition": {
              "title": "Dropped connections",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "per_second(sum:nginx.connections.dropped{*})",
                  "aggregator": "last",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "custom_links": [],
              "precision": 2
            },
            "layout": {
              "x": 3,
              "y": 2,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 12,
            "definition": {
              "title": "Total requests",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "sum:nginx.requests.total{*}",
                  "aggregator": "last",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 0
            },
            "layout": {
              "x": 6,
              "y": 2,
              "width": 2,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 4,
        "y": 0,
        "width": 8,
        "height": 5
      }
    },
    {
      "id": 2,
      "definition": {
        "title": "Error Summary",
        "reflow_type": "fixed",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 13,
            "definition": {
              "title": "2xx + 3xx responses per sec",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "q": "per_second(sum:nginx.server_zone.responses.3xx{*}), per_second(sum:nginx.server_zone.responses.2xx{*})",
                  "metadata": [
                    {
                      "expression": "per_second(sum:nginx.server_zone.responses.3xx{*})",
                      "alias_name": "3xx"
                    },
                    {
                      "expression": "per_second(sum:nginx.server_zone.responses.2xx{*})",
                      "alias_name": "2xx"
                    }
                  ],
                  "style": {
                    "palette": "cool",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 14,
            "definition": {
              "title": "4xx + 5xx responses per sec",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "q": "per_second(sum:nginx.server_zone.responses.4xx{*}), per_second(sum:nginx.server_zone.responses.5xx{*})",
                  "metadata": [
                    {
                      "expression": "per_second(sum:nginx.server_zone.responses.4xx{*})",
                      "alias_name": "4xx"
                    },
                    {
                      "expression": "per_second(sum:nginx.server_zone.responses.5xx{*})",
                      "alias_name": "5xx"
                    }
                  ],
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 4,
        "height": 6
      }
    },
    {
      "id": 3,
      "definition": {
        "title": "Performance Summary",
        "reflow_type": "fixed",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 15,
            "definition": {
              "title": "Requests per second",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "sum:nginx.net.request_per_s{*}",
                  "aggregator": "last",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 16,
            "definition": {
              "type": "note",
              "content": "| Color | Meaning |\n| - | - |\n| Green | Low number of requests |\n| Orange | High number of requests |",
              "background_color": "orange",
              "font_size": "14",
              "text_align": "left",
              "show_tick": true,
              "tick_pos": "50%",
              "tick_edge": "left"
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 17,
            "definition": {
              "title": "Request load by host",
              "title_size": "16",
              "title_align": "left",
              "type": "hostmap",
              "requests": {
                "fill": {
                  "q": "avg:nginx.requests.current{*} by {host}"
                }
              },
              "no_metric_hosts": false,
              "no_group_hosts": true,
              "scope": ["$scope"],
              "style": {
                "palette": "green_to_orange",
                "palette_flip": false
              }
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 18,
            "definition": {
              "type": "note",
              "content": "Sampling your request data (**requests** in open source, or **total** in Plus) with a fixed time interval provides you with the number of requests you’re receiving per unit of time—often minutes or seconds. \n\nMonitoring this metric can alert you to spikes in incoming web traffic, whether legitimate or nefarious, or sudden drops, which are usually indicative of problems. A drastic change in requests per second can alert you to problems brewing somewhere in your environment, even if it cannot tell you exactly where those problems lie. Note that all requests are counted the same, regardless of their URLs.\n\n",
              "background_color": "yellow",
              "font_size": "12",
              "text_align": "left",
              "show_tick": true,
              "tick_pos": "50%",
              "tick_edge": "left"
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 4,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 4,
        "y": 0,
        "width": 8,
        "height": 6
      }
    },
    {
      "id": 4,
      "definition": {
        "loading": false,
        "title": true,
        "reflow_type": "fixed",
        "title_text": "Cache",
        "widgets": [
          {
            "id": 19,
            "definition": {
              "title": "Avg bytes hit",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "avg:nginx.cache.hit.bytes{*}",
                  "aggregator": "avg"
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 20,
            "definition": {
              "title": "Bytes hit in cache",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:nginx.cache.hit.bytes{*}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 21,
            "definition": {
              "title": "Bypassed bytes in cached",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:nginx.cache.bypass.bytes{*}, sum:nginx.cache.bypass.bytes_written{*}, sum:nginx.cache.bypass.bytes{*}+sum:nginx.cache.bypass.bytes_written{*}",
                  "metadata": [
                    {
                      "expression": "sum:nginx.cache.bypass.bytes{*}",
                      "alias_name": "Bytes Read"
                    },
                    {
                      "expression": "sum:nginx.cache.bypass.bytes_written{*}",
                      "alias_name": "Bytes Written"
                    },
                    {
                      "expression": "sum:nginx.cache.bypass.bytes{*}+sum:nginx.cache.bypass.bytes_written{*}",
                      "alias_name": "Total"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 22,
            "definition": {
              "title": "Hosts loading cache",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "sum:nginx.cache.cold{*}",
                  "aggregator": "last",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_red",
                      "value": 0
                    },
                    {
                      "comparator": "<=",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 0
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 23,
            "definition": {
              "title": "Cache size",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:nginx.cache.max_size{*}, sum:nginx.cache.size{*}",
                  "metadata": [
                    {
                      "expression": "sum:nginx.cache.max_size{*}",
                      "alias_name": "Max Size - Cache"
                    },
                    {
                      "expression": "sum:nginx.cache.size{*}",
                      "alias_name": "Size - Cache"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 2,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 24,
            "definition": {
              "title": "Missed bytes in cache",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:nginx.cache.miss.bytes{*}, sum:nginx.cache.miss.bytes_written{*}, sum:nginx.cache.miss.bytes{*}+sum:nginx.cache.miss.bytes_written{*}",
                  "metadata": [
                    {
                      "expression": "sum:nginx.cache.miss.bytes{*}",
                      "alias_name": "Bytes Read"
                    },
                    {
                      "expression": "sum:nginx.cache.miss.bytes_written{*}",
                      "alias_name": "Bytes Written"
                    },
                    {
                      "expression": "sum:nginx.cache.miss.bytes{*}+sum:nginx.cache.miss.bytes_written{*}",
                      "alias_name": "Total"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 6,
              "y": 2,
              "width": 6,
              "height": 2
            }
          }
        ],
        "type": "experimental",
        "isShared": false,
        "subtype": "group"
      }
    },
    {
      "id": 5,
      "definition": {
        "loading": false,
        "title": true,
        "reflow_type": "fixed",
        "title_text": "Connections",
        "widgets": [
          {
            "id": 25,
            "definition": {
              "title": "Current connections (idle & active)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:nginx.connections.active{*}, sum:nginx.connections.idle{*}",
                  "metadata": [
                    {
                      "expression": "sum:nginx.connections.active{*}",
                      "alias_name": "Active Connections"
                    },
                    {
                      "expression": "sum:nginx.connections.idle{*}",
                      "alias_name": "Idle Connections"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 26,
            "definition": {
              "title": "Active connections",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:nginx.connections.active{*}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 27,
            "definition": {
              "title": "Dropped connections per second",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "type": "timeseries",
              "requests": [
                {
                  "q": "per_second(sum:nginx.connections.dropped{*})",
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "custom_links": []
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 6,
              "height": 2
            }
          }
        ],
        "type": "experimental",
        "isShared": false,
        "subtype": "group"
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 7
      }
    },
    {
      "id": 6,
      "definition": {
        "loading": false,
        "title": true,
        "reflow_type": "fixed",
        "title_text": "SSL",
        "widgets": [
          {
            "id": 28,
            "definition": {
              "title": "Avg successful ssl handshakes",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "avg:nginx.ssl.handshakes_count{*}.as_count()",
                  "aggregator": "avg",
                  "conditional_formats": [
                    {
                      "comparator": "<=",
                      "palette": "white_on_yellow",
                      "value": 0
                    },
                    {
                      "comparator": ">",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 29,
            "definition": {
              "title": "Avg failed ssl handshakes",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "q": "avg:nginx.ssl.handshakes_failed_count{*}.as_count()",
                  "aggregator": "avg",
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_yellow",
                      "value": 0
                    },
                    {
                      "comparator": "<=",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_links": [],
              "precision": 2
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 30,
            "definition": {
              "title": "Successful ssl handshakes",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:nginx.ssl.handshakes_count{*}.as_count()",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 31,
            "definition": {
              "title": "Failed ssl handshakes",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "legend_layout": "auto",
              "legend_columns": ["avg", "min", "max", "value", "sum"],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:nginx.ssl.handshakes_failed_count{*}.as_count()",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 6,
              "height": 2
            }
          }
        ],
        "type": "experimental",
        "isShared": false,
        "subtype": "group"
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 7
      }
    }
  ],
  "template_variables": [],
  "layout_type": "ordered",
  "is_read_only": true,
  "notify_list": [],
  "reflow_type": "fixed",
  "author_name": "Datadog"
}
