{
    "author_name": "Datadog",
    "description": null,
    "layout_type": "ordered",
    "template_variables": [
        {
            "available_values": [],
            "default": "*",
            "name": "env",
            "prefix": "env"
        },
        {
            "available_values": [],
            "default": "*",
            "name": "service",
            "prefix": "service"
        },
        {
            "available_values": [],
            "default": "*",
            "name": "version",
            "prefix": "version"
        },
        {
            "available_values": [
                "ada",
                "babbage",
                "curie",
                "davinci",
                "gpt-3.5-turbo"
            ],
            "default": "*",
            "name": "model",
            "prefix": "model"
        },
        {
            "available_values": [],
            "default": "*",
            "name": "organization",
            "prefix": "organization"
        }
    ],
    "title": "OpenAI Overview Dashboard",
    "widgets": [
        {
            "definition": {
                "banner_img": "/static/images/integration_dashboard/generic_hero.png",
                "layout_type": "ordered",
                "show_title": true,
                "title": "",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "background_color": "transparent",
                            "content": "Track OpenAI usage, cost and performance. You can use this dashboard to monitor your API requests, token usage and track costs both in aggregate as well as by model. \n",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": false,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 7992422381542136,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "background_color": "transparent",
                            "content": "**Further reading:**\n\n- [Datadog OpenAI Integration Documentation](https://docs.datadoghq.com/integrations/openai/)\n- [Monitor OpenAI with Datadog Blog](placeholder)",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": false,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 2961037249226966,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 127053043424108,
            "layout": {
                "height": 5,
                "width": 6,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "background_color": "vivid_blue",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Usage Overview",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "count:openai.request.duration{$env,$service,$version,$model}.as_count()"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "timeseries_background": {
                                "type": "bars",
                                "yaxis": {}
                            },
                            "title": "Total OpenAI requests",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 3104121683554248,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "percentile",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:trace.openai.request{$env,$service,$version,$model,$organization}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "time": {},
                            "timeseries_background": {
                                "type": "area"
                            },
                            "title": "API Response Time (p95)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 6747939900435518,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "custom_unit": "tokens/req",
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:openai.tokens.total{$env,$service,$model,$version,$organization}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "timeseries_background": {
                                "type": "bars",
                                "yaxis": {}
                            },
                            "title": "Avg Tokens per request",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 4830582785535768,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "autoscale": false,
                            "custom_unit": "$",
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "((query1 / 1000) * 0.0004) + ((query2 / 1000) * 0.002) + ((query3 / 1000) * 0.002) + ((query4 / 1000) * 0.0005) + ((query5 / 1000) * 0.02) + ((query6 / 1000) * 0.03) + ((query7 / 1000) * 0.06) + ((query8 / 1000) * 0.06) + ((query9 / 1000) * 0.12)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "count:openai.tokens.total{model:ada*,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "count:openai.tokens.total{model:gpt-3.5*,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query3",
                                            "query": "count:openai.tokens.total{model:curie*,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query4",
                                            "query": "count:openai.tokens.total{model:babbage*,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query5",
                                            "query": "count:openai.tokens.total{model:davinci*,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query6",
                                            "query": "avg:openai.tokens.prompt{model:gpt-4,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query7",
                                            "query": "avg:openai.tokens.completion{model:gpt-4,$model}"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query8",
                                            "query": "avg:openai.tokens.prompt{model:gpt-4-32k*,$model}"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query9",
                                            "query": "avg:openai.tokens.completion{model:gpt-4-32k*,$model}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "text_align": "center",
                            "time": {},
                            "title": "Estimated Cost (USD)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 748013795200996,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 2
                        }
                    }
                ]
            },
            "id": 1569477937421566,
            "layout": {
                "height": 5,
                "width": 6,
                "x": 6,
                "y": 0
            }
        },
        {
            "definition": {
                "background_color": "vivid_pink",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Usage Trends",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend": {
                                "type": "table"
                            },
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "count:openai.request.duration{$env,$service,$version,$model,$organization} by {model}.as_count()"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Total OpenAI requests by model",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "sunburst"
                        },
                        "id": 3922564564861850,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "count:openai.request.duration{$env,$service,$version,$model,$organization} by {model}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Total OpenAI requests by model",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3873178601866424,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 6,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend": {
                                "type": "table"
                            },
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "count:openai.request.duration{$env,$service,$version,$model,$organization} by {service,organization}.as_count()"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Total OpenAI requests by service, organization",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "sunburst"
                        },
                        "id": 2039085216132136,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 0,
                            "y": 3
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "count:openai.request.duration{$env,$service,$version,$model,$organization} by {service,organization}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Total OpenAI requests by service, organization",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 8824236934769324,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 6,
                            "y": 3
                        }
                    }
                ]
            },
            "id": 2219734989484006,
            "layout": {
                "height": 7,
                "width": 12,
                "x": 0,
                "y": 5
            }
        },
        {
            "definition": {
                "background_color": "vivid_orange",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Token & Cost Usage",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "autoscale": true,
                            "custom_unit": "tokens/req",
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:openai.tokens.total{$env,$service,$model,$version,$organization}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Avg tokens per request",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 2743747829464642,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "custom_unit": "tokens/req",
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:openai.tokens.prompt{$env,$service,$model,$version,$organization}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Avg Prompt Tokens per request",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 5831322105846448,
                        "layout": {
                            "height": 1,
                            "width": 3,
                            "x": 3,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "custom_unit": "tokens/req",
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:openai.tokens.completion{$env,$service,$model,$version,$organization}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Avg Completion Tokens per request",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 6306168078819840,
                        "layout": {
                            "height": 1,
                            "width": 3,
                            "x": 3,
                            "y": 1
                        }
                    },
                    {
                        "definition": {
                            "autoscale": false,
                            "custom_unit": "$",
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "((query1 / 1000) * 0.0004) + ((query2 / 1000) * 0.002) + ((query3 / 1000) * 0.002) + ((query4 / 1000) * 0.0005) + ((query5 / 1000) * 0.02)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "count:openai.tokens.total{model:ada,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "count:openai.tokens.total{model:gpt-3.5*,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query3",
                                            "query": "count:openai.tokens.total{model:curie,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query4",
                                            "query": "count:openai.tokens.total{model:babbage,$model}.as_count()"
                                        },
                                        {
                                            "aggregator": "sum",
                                            "data_source": "metrics",
                                            "name": "query5",
                                            "query": "count:openai.tokens.total{model:davinci,$model}.as_count()"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "text_align": "center",
                            "title": "Estimated Cost (USD)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 2641567174564684,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "background_color": "orange",
                            "content": "OpenAI model pricing (per 1K tokens)\n- **ada**: $0.0004\n- **babbage**: $0.0005\n- **curie**: $0.002\n- **davinci**: $0.02\n- **gpt-3.5-turbo**: $0.002\n- **gpt-4-8k**: $0.03 prompt, $0.06 completion\n- **gpt-4-32k**: $0.06 prompt, $0.12 completion\n\n\n\nhttps://openai.com/pricing (2023-04-12)",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": false,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "top"
                        },
                        "id": 3868770172430520,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "horizontal",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:openai.tokens.total{$model,$service,$env,$version,$organization} by {model}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Tokens usage by model",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6954645267993526,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 0,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "horizontal",
                            "requests": [
                                {
                                    "display_type": "area",
                                    "formulas": [
                                        {
                                            "alias": "Prompt Token Count",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Completion Token Count",
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:openai.tokens.prompt{$model,$service,$env,$version,$organization}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "sum:openai.tokens.completion{$model,$service,$env,$version,$organization}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Tokens usage by Prompt & Completion",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3183551294675350,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 0,
                            "y": 7
                        }
                    }
                ]
            },
            "id": 3080457545117630,
            "layout": {
                "height": 11,
                "width": 6,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "background_color": "vivid_purple",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Performance",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "horizontal",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:openai.request.duration{$service,$model,$env} by {model}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "API response time by model (p95)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 5142128818083950,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "horizontal",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:openai.request.duration{$service,$model,$env} by {service}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "API response time by service (p95)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6080119233023702,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 0,
                            "y": 3
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "horizontal",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:openai.request.duration{$service,$model,$env} by {service}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "API response time by organization (p95)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 7406601465830194,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 0,
                            "y": 6
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "horizontal",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:openai.error{$env,$service,$version,$model,$organization} by {error_type}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Error Count by Type",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1155801614479808,
                        "layout": {
                            "height": 2,
                            "width": 6,
                            "x": 0,
                            "y": 10
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "horizontal",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Response Time/Prompt Token",
                                            "formula": "query1 / query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "p95:openai.request.duration{$service,$model,$env}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:openai.tokens.prompt{$service,$model,$env}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Response Time to Prompt Token Ratio",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 5974438893685674,
                        "layout": {
                            "height": 3,
                            "width": 6,
                            "x": 0,
                            "y": 12
                        }
                    }
                ]
            },
            "id": 1433120172561914,
            "layout": {
                "height": 16,
                "width": 6,
                "x": 6,
                "y": 0
            }
        },
        {
            "definition": {
                "background_color": "vivid_green",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Prompt and completion samples",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "background_color": "green",
                            "content": "Prompts and completions are sampled from the Datadog APM library integrations.\n\nBy default prompts and completions are sampled 100% on all spans. \n\nLogs are sampled at a rate of 10% by default when spans are sampled. \n\nSee the [OpenAI integration docs]() for how to configure this rate.",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "right",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 1451712326328870,
                        "layout": {
                            "height": 4,
                            "width": 2,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "requests": [
                                {
                                    "columns": [
                                        {
                                            "field": "status_line",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "timestamp",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "model",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "prompt",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "choices.0.text",
                                            "width": "auto"
                                        }
                                    ],
                                    "query": {
                                        "data_source": "logs_stream",
                                        "indexes": [],
                                        "query_string": "service:openai $model endpoint:completions",
                                        "storage": "hot"
                                    },
                                    "response_format": "event_list"
                                }
                            ],
                            "title": "Completion Samples",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "list_stream"
                        },
                        "id": 7534464467163062,
                        "layout": {
                            "height": 4,
                            "width": 10,
                            "x": 2,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "requests": [
                                {
                                    "columns": [
                                        {
                                            "field": "status_line",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "timestamp",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "model",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "completion.0.finish_reason",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "messages.0.content",
                                            "width": "auto"
                                        },
                                        {
                                            "field": "completion.0.message.content",
                                            "width": "auto"
                                        }
                                    ],
                                    "query": {
                                        "data_source": "logs_stream",
                                        "indexes": [],
                                        "query_string": "service:openai $model endpoint:chat.completions",
                                        "storage": "hot"
                                    },
                                    "response_format": "event_list"
                                }
                            ],
                            "title": "Chat Completion Samples",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "list_stream"
                        },
                        "id": 1300992561669166,
                        "layout": {
                            "height": 5,
                            "width": 12,
                            "x": 0,
                            "y": 4
                        }
                    }
                ]
            },
            "id": 6645674536071958,
            "layout": {
                "height": 10,
                "is_column_break": true,
                "width": 12,
                "x": 0,
                "y": 28
            }
        }
    ]
}