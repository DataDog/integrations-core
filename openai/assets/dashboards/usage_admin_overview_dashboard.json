{"title":"OpenAI Admin Usage Overview","description":"Comprehensive dashboard for monitoring OpenAI API usage across all services, models, and projects","widgets":[{"id":8499078704982623,"definition":{"type":"image","url":"/static/images/logos/openai_large.svg","url_dark_theme":"/static/images/logos/openai_reversed_large.svg","sizing":"cover","has_background":true,"has_border":true,"vertical_align":"center","horizontal_align":"center"},"layout":{"x":0,"y":0,"width":4,"height":3}},{"id":1,"definition":{"type":"note","content":"# OpenAI Admin Usage Overview\nThis dashboard provides comprehensive monitoring of OpenAI usage across different services for all projects including:\n- **Completions**\n- **Audio Services**\n- **Embeddings And Vector Stores**\n- **Images and Moderations**","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":4,"y":0,"width":8,"height":3}},{"id":6068911808917193,"definition":{"title":"Completions","background_color":"vivid_blue","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":3,"definition":{"title":"Total Completion Requests","show_legend":false,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.num_model_requests{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":4,"definition":{"title":"Input vs Output Tokens","show_legend":true,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.input_tokens{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.output_tokens{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":5,"definition":{"title":"Cached & Audio Tokens","show_legend":true,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.input_cached_tokens{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"purple"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.input_audio_tokens{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"blue"},"display_type":"line"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.output_audio_tokens{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"pink"},"display_type":"line"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":8,"y":0,"width":4,"height":2}}]},"layout":{"x":0,"y":3,"width":12,"height":3}},{"id":6032901899865607,"definition":{"title":"Audio Services","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":7,"definition":{"title":"Speech Generation (Characters)","show_legend":false,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.audio_speeches.characters{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":8,"definition":{"title":"Transcription (Seconds)","show_legend":false,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.audio_transcriptions.seconds{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"blue","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":9,"definition":{"title":"Total Audio Requests","type":"query_value","requests":[{"conditional_formats":[{"comparator":">","value":0,"palette":"green_on_white"}],"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.audio_speeches.num_model_requests{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()","aggregator":"sum"},{"data_source":"metrics","name":"query2","query":"sum:openai.audio_transcriptions.num_model_requests{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1 + query2"}]}],"autoscale":true,"precision":0},"layout":{"x":8,"y":0,"width":4,"height":2}}]},"layout":{"x":0,"y":6,"width":12,"height":3}},{"id":2193703564126644,"definition":{"title":"Embedding and Vector Stores","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":11,"definition":{"title":"Embedding Requests & Tokens","show_legend":true,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.embeddings.num_model_requests{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"purple"},"display_type":"bars"},{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.embeddings.input_tokens{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"formulas":[{"formula":"query1 / 100"}],"style":{"palette":"orange"},"display_type":"line"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":12,"definition":{"title":"Vector Store Usage (Bytes)","show_legend":false,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.vector_stores.usage_bytes{project_id:$project_id}.as_count()"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":13,"definition":{"title":"Code Interpreter Sessions","type":"query_value","requests":[{"conditional_formats":[{"comparator":">","value":0,"palette":"purple_on_white"}],"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.code_interpreter_sessions.num_sessions{project_id:$project_id}.as_count()","aggregator":"sum"}]}],"autoscale":true,"precision":0},"layout":{"x":8,"y":0,"width":4,"height":2}}]},"layout":{"x":0,"y":9,"width":12,"height":3}},{"id":1488470520304589,"definition":{"title":"Images and Moderation","background_color":"vivid_orange","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":15,"definition":{"title":"Image Generation Requests","show_legend":true,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.images.num_model_requests{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id} by {size}.as_count()"}],"style":{"palette":"datadog16"},"display_type":"bars"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":0,"y":0,"width":3,"height":2}},{"id":16,"definition":{"title":"Images Generated","show_legend":true,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.images.images{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id} by {source}.as_count()"}],"style":{"palette":"datadog16"},"display_type":"area"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":3,"y":0,"width":3,"height":2}},{"id":17,"definition":{"title":"Moderation Requests","show_legend":false,"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.moderations.num_model_requests{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()"}],"style":{"palette":"red","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"scale":"linear","include_zero":true}},"layout":{"x":6,"y":0,"width":3,"height":2}},{"id":18,"definition":{"title":"Moderation Tokens","type":"query_value","requests":[{"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white"}],"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.moderations.input_tokens{model:$model,project_id:$project_id,user_id:$user_id,api_key_id:$api_key_id}.as_count()","aggregator":"sum"}]}],"autoscale":true,"precision":0},"layout":{"x":9,"y":0,"width":3,"height":2}}]},"layout":{"x":0,"y":12,"width":12,"height":3}},{"id":5973801688305818,"definition":{"title":"Usage by Project and User","background_color":"vivid_yellow","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":20,"definition":{"title":"Top Projects by Total Requests","type":"toplist","requests":[{"style":{"palette":"datadog16"},"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.num_model_requests{*} by {project_id}.as_count()","aggregator":"sum"},{"data_source":"metrics","name":"query2","query":"sum:openai.embeddings.num_model_requests{*} by {project_id}.as_count()","aggregator":"sum"},{"data_source":"metrics","name":"query3","query":"sum:openai.images.num_model_requests{*} by {project_id}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1 + query2 + query3"}],"sort":{"count":10,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}]},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":21,"definition":{"title":"Top Users by Token Usage","type":"toplist","requests":[{"style":{"palette":"datadog16"},"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.input_tokens{*} by {user_id}.as_count()","aggregator":"sum"},{"data_source":"metrics","name":"query2","query":"sum:openai.completions.output_tokens{*} by {user_id}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1 + query2"}],"sort":{"count":10,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}]},"layout":{"x":3,"y":0,"width":3,"height":3}},{"id":22,"definition":{"title":"Top API Keys by Activity","type":"toplist","requests":[{"style":{"palette":"datadog16"},"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.num_model_requests{*} by {api_key_id}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1"}],"sort":{"count":10,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}]},"layout":{"x":6,"y":0,"width":3,"height":3}},{"id":23,"definition":{"title":"Top Models by Usage","type":"toplist","requests":[{"style":{"palette":"datadog16"},"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:openai.completions.num_model_requests{*} by {model}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1"}],"sort":{"count":10,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}]},"layout":{"x":9,"y":0,"width":3,"height":3}}]},"layout":{"x":0,"y":15,"width":12,"height":4}}],"template_variables":[{"name":"project_id","prefix":"project_id","available_values":[],"default":"*"},{"name":"model","prefix":"model","available_values":[],"default":"*"},{"name":"user_id","prefix":"user_id","available_values":[],"default":"*"},{"name":"api_key_id","prefix":"api_key_id","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}