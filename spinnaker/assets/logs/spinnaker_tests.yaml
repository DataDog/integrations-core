id: spinnaker
tests:
  - sample: "2024-10-27 00:15:44.950  WARN 1 --- [utionAction-353] c.n.s.c.k.op.job.KubectlJobExecutor      : Error from server (Forbidden): customresourcedefinitions.apiextensions.k8s.io is forbidden: User \"system:serviceaccount:spinnaker:default\" cannot list resource \"customresourcedefinitions\" in API group \"apiextensions.k8s.io\" at the cluster scope"
    result:
      custom:
        class_name: "c.n.s.c.k.op.job.KubectlJobExecutor"
        date: 1729988144950
        level: "WARN"
        message: "Error from server (Forbidden): customresourcedefinitions.apiextensions.k8s.io is forbidden: User \"system:serviceaccount:spinnaker:default\" cannot list resource \"customresourcedefinitions\" in API group \"apiextensions.k8s.io\" at the cluster scope"
        thread: "utionAction-353"
      message: "2024-10-27 00:15:44.950  WARN 1 --- [utionAction-353] c.n.s.c.k.op.job.KubectlJobExecutor      : Error from server (Forbidden): customresourcedefinitions.apiextensions.k8s.io is forbidden: User \"system:serviceaccount:spinnaker:default\" cannot list resource \"customresourcedefinitions\" in API group \"apiextensions.k8s.io\" at the cluster scope"
      tags:
        - "source:LOGS_SOURCE"
  - sample: "2024-11-05 12:51:18.696  INFO 1 --- [   scheduling-1] s.k.p.u.r.r.RemotePluginInfoReleaseCache : Cached 0 remote plugin configurations."
    result:
      custom:
        AgentType: "s.k.p.u.r.r.RemotePluginInfoReleaseCache"
        date: 1730811078696
        id: 1.0
        level: "INFO"
        message: "Cached 0 remote plugin configurations."
        thread: "scheduling-1"
      message: "2024-11-05 12:51:18.696  INFO 1 --- [   scheduling-1] s.k.p.u.r.r.RemotePluginInfoReleaseCache : Cached 0 remote plugin configurations."
      tags:
        - "source:LOGS_SOURCE"
  - sample: "3577:C 28 Oct 2024 08:39:10.015 * DB saved on disk"
    result:
      custom:
        UserRole: "C"
        id: 3577.0
        message: "DB saved on disk"
        timestamp: 1730104750015
      message: "3577:C 28 Oct 2024 08:39:10.015 * DB saved on disk"
      tags:
        - "source:LOGS_SOURCE"
  - sample: "192.168.23.146 - - [03/Nov/2024:17:09:44 +0000] \"GET /vendor_A_F~app.js?c849a847267171ef78ea HTTP/1.1\" 200 528277"
    result:
      custom:
        date: 1730653784000
        http:
          method: "GET"
          status_code: 200
          url:
            - "/vendor_A_F~app.js?c849a847267171ef78ea"
            - "/1.1"
        network:
          client:
            ip: "192.168.23.146"
        token_1: 528277
      message: "192.168.23.146 - - [03/Nov/2024:17:09:44 +0000] \"GET /vendor_A_F~app.js?c849a847267171ef78ea HTTP/1.1\" 200 528277"
      tags:
        - "source:LOGS_SOURCE"
  - sample: "2024-11-05 12:56:29.699  INFO 1 --- [   scheduling-1] s.k.p.u.r.r.RemotePluginInfoReleaseCache : Cached 0 remote plugin configurations."
    result:
      custom:
        AgentType: "s.k.p.u.r.r.RemotePluginInfoReleaseCache"
        date: 1730811389699
        id: 1.0
        level: "INFO"
        message: "Cached 0 remote plugin configurations."
        thread: "scheduling-1"
      message: "2024-11-05 12:56:29.699  INFO 1 --- [   scheduling-1] s.k.p.u.r.r.RemotePluginInfoReleaseCache : Cached 0 remote plugin configurations."
      tags:
        - "source:LOGS_SOURCE"

# The `result` field should be left blank to start. Once you submit your log asset files with
# your integration pull-request in a Datadog GitHub repository, Datadog's validations will
# run your raw logs against your pipeline and return the result. If the result output in the
# validation is accurate, take the output and add it to the `result` field in your test YAML file.