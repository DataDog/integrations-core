# The user running dd-agent must have passwordless sudo access for the find
# command to run the postfix check.  Here's an example:
#
# example /etc/sudoers entry:
#          dd-agent ALL=(postfix) NOPASSWD:/usr/bin/find /var/spool/postfix/incoming -type f
#
# Redhat/CentOS/Amazon Linux flavours will need to add:
#          Defaults:dd-agent !requiretty

init_config:
  postfix_user: postfix

# Optional: Set `postqueue: True` to gather mail queue counts using `postqueue -p` without the use of sudo.
# The caveat is that postqueue will gather message counts for only the hold, active, and deferred queues.
# Postqueue binary is ran with set-group ID privileges, so that it can connect to Postfix daemon processes.
# Only `tags` keys will be used from `instances` definition.  
#
#  postqueue: True

instances:
  - directory: /var/spool/postfix
    queues:
      - incoming
      - active
      - deferred
    tags:
      - optional_tag1
      - optional_tag2
  - directory: /var/spool/postfix-2
    queues:
      - incoming
      - active
      - deferred
    tags:
      - optional_tag3
      - optional_tag4
    