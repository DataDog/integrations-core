id: fly-io
tests:
  - sample: >
      {"ddsource":"fly_io","env":"flyenv","event":{"provider":"app"},"fly":{"app":{"instance":"32882401c3294","name":"datadog-agent-example"},"region":"ewr"},"host":"32882401c3294","log":{"level":"info"},"message":"2024-07-17
      15:12:03 UTC | TRACE | INFO | (pkg/trace/info/stats.go:98 in
      LogAndResetStats) | [lang:python lang_version:3.8.19 interpreter:CPython
      tracer_version:2.8.5 endpoint_version:v0.5
      service:fly-io-django-example-app] -> traces received: 2, traces filtered:
      0, traces amount: 7118 bytes, events extracted: 0, events sampled:
      0","timestamp":"2024-07-17T15:12:03.753496132Z"}
    result: null
  - sample: "{\"ddsource\":\"fly_io\",\"env\":\"flyenv\",\"event\":{\"provider\":\"\
      app\"},\"fly\":{\"app\":{\"instance\":\"32882401c3294\",\"name\":\"fly-i\
      o-django-example-app\"},\"region\":\"ewr\"},\"host\":\"32882401c3294\",\
      \"log\":{\"level\":\"info\"},\"message\":\"2024-07-17 15:11:03,197 ERROR
      [django.security.DisallowedHost] [exception.py:124]
      [dd.service=fly-io-django-example-app dd.env=flyenv dd.version=1.0.0
      dd.trace_id=11819940765089042102 dd.span_id=9075026360387080219] - Invalid
      HTTP_HOST header: 'localhost:8000'. You may need to add 'localhost' to
      ALLOWED_HOSTS.\",\"timestamp\":\"2024-07-17T15:11:03.197750866Z\"}"
    result: null

# The `result` field should be left blank to start. Once you submit your log asset files with
# your integration pull-request in a Datadog GitHub repository, Datadog's validations will
# run your raw logs against your pipeline and return the result. If the result output in the
# validation is accurate, take the output and add it to the `result` field in your test YAML file.