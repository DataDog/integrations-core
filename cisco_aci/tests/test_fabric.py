# (C) Datadog, Inc. 2010-2018
# All rights reserved
# Licensed under Simplified BSD License (see LICENSE)

import os
import pytest
import logging
import simplejson as json
from requests import Session, Response

from datadog_checks.cisco_aci.api import SessionWrapper, Api
from datadog_checks.cisco_aci import CiscoACICheck

from datadog_checks.utils.containers import hash_mutable
from common import FIXTURE_LIST_FILE_MAP

log = logging.getLogger('test_cisco_aci')

CHECK_NAME = 'cisco_aci'

FIXTURES_DIR = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'fixtures')
FABRIC_FIXTURES_DIR = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'fixtures', 'fabric')

USERNAME = 'datadog'
PASSWORD = 'datadog'
ACI_URL = 'https://datadoghq.com'
ACI_URLS = [ACI_URL]
CONFIG = {
    'aci_urls': ACI_URLS,
    'username': USERNAME,
    'pwd': PASSWORD,
    'tenant': [
        'DataDog',
    ],
    "tags": ["project:cisco_aci"],
}


@pytest.fixture
def aggregator():
    from datadog_checks.stubs import aggregator
    aggregator.reset()
    return aggregator


class FakeSess(SessionWrapper):
    """ This mock:
     1. Takes the requested path and replace all special characters to underscore
     2. Fetch the corresponding hash from FIXTURE_LIST_FILE_MAP
     3. Returns the corresponding file content
     """
    def make_request(self, path):
        # FIXTURE_LIST_FILE_MAP = {
        #     # Api.get_fabric_pods
        #     '_api_mo_topology_json_query_target_subtree_target_subtree_class_fabricPod': "643d217904f09445fbc9f7b43cd131f0",
        #
        #     # Api.get_fabric_nodes
        #     '_api_mo_topology_json_query_target_subtree_target_subtree_class_fabricNode': "2e82232a722241e59f27ac3742934e7e",
        #
        #     # Api.get_pod_stats
        #     '_api_mo_topology_pod_1_json_rsp_subtree_include_stats_no_scoped_page_size_20': "0d11d458b6d31906696642f74bf016cc",
        #
        #     # Api.get_node_stats
        #     '_api_mo_topology_pod_1_node_201_sys_json_rsp_subtree_include_stats_no_scoped_page_size_20': "bd2db6fd496f3b1ee12ac533e3224c21",
        #     '_api_mo_topology_pod_1_node_102_sys_json_rsp_subtree_include_stats_no_scoped_page_size_20': "38eea560b59819b60a356010e9b3c191",
        #     '_api_mo_topology_pod_1_node_202_sys_json_rsp_subtree_include_stats_no_scoped_page_size_20': "7660dffc9226f865526ffe82fe4694fa",
        #     '_api_mo_topology_pod_1_node_101_sys_json_rsp_subtree_include_stats_no_scoped_page_size_20': "d121d04c8171c3095561ca593dc2de5d",
        #
        #     # Api.get_eth_list
        #     '_api_mo_topology_pod_1_node_102_sys_json_query_target_subtree_target_subtree_class_l1PhysIf': "79af98fe9c1069b329af3b4828712ddd",
        #     '_api_mo_topology_pod_1_node_202_sys_json_query_target_subtree_target_subtree_class_l1PhysIf': "7b06db4060591652e39b305410a03a2a",
        #     '_api_mo_topology_pod_1_node_201_sys_json_query_target_subtree_target_subtree_class_l1PhysIf': "ded65ac48170a7a3d8914950607e4e18",
        #     '_api_mo_topology_pod_1_node_101_sys_json_query_target_subtree_target_subtree_class_l1PhysIf': "dace1ecad6f3d9a50eb8d4a15631ba88",
        #
        #     # Api.get_eth_stats
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_25__json_rsp_subtree_include_stats_no_scoped_page_size_50': "29fd45826b0bb763e5c8b4e92fe53216",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_11__json_rsp_subtree_include_stats_no_scoped_page_size_50': "af35b36a7ed1c5d3e9e64370e779b819",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_40__json_rsp_subtree_include_stats_no_scoped_page_size_50': "9d63c3041a48dec9289e0e4555c49a87",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_12__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f8af6ebf8a9008d3000693a7889edc55",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_10__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0694b681e750f83314f4492ac6ebfa39",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_9__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5f9c17b4985418dceb0375f3c8678663",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_11__json_rsp_subtree_include_stats_no_scoped_page_size_50': "a877f9e9879ecdaa74fc10fc98415c52",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_20__json_rsp_subtree_include_stats_no_scoped_page_size_50': "2d08f2b65ec42f632aa197568616c9df",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_39__json_rsp_subtree_include_stats_no_scoped_page_size_50': "368ad1f728c59d61403654959f02e7e5",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_10__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8dc1ee02fce40ba8ae240d5e161a88f6",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_46__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cf592a4e1c6399ebf0925f01a7b62651",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_21__json_rsp_subtree_include_stats_no_scoped_page_size_50': "6bd529f60a581c84be13249fe668c467",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_22__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cc3ee98ed21b0e4cf6d3057123981358",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_30__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7e603ac928ec642f45601a94420fb4db",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_10__json_rsp_subtree_include_stats_no_scoped_page_size_50': "47378882fc41888f6f23bddf78bf907f",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_52__json_rsp_subtree_include_stats_no_scoped_page_size_50': "abc6410c7411348968803d071541ee3a",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_21__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e6d9d1020ebec6ede2399f9b379db3d9",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_7__json_rsp_subtree_include_stats_no_scoped_page_size_50': "059ee9bd3834a66b3c3f5861608fe368",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_26__json_rsp_subtree_include_stats_no_scoped_page_size_50': "3fea0478e9d12ef2bef175f14163d15f",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_45__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7cff0d95697cf21e69d7137c29e65df9",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_11__json_rsp_subtree_include_stats_no_scoped_page_size_50': "79c41743346ba48ef5c40b7942dc59f2",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_53__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b30e959f0d5f3cae611efc62b4430292",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_44__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5030ace26a4225d8a53073b122114bb5",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_27__json_rsp_subtree_include_stats_no_scoped_page_size_50': "310012038948e6cd47afbb3cad45054d",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_26__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c25e699c9f757dc6b7fdd574ce49ba47",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_2__json_rsp_subtree_include_stats_no_scoped_page_size_50': "eab07e7947c2a3a822aab248c6315f92",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_34__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8a0f90b2c6bd500af62722a13d207a20",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_16__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5d7a62e392e669583e450d28bebf32e3",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_50__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c6fd7a7101806f9cb68b3baa9bd0f82b",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_27__json_rsp_subtree_include_stats_no_scoped_page_size_50': "6fef8e622903fe12fdd1c8849c095509",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_9__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b85c3cc6bc8a0c9e6bb6c1d94e7882a1",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_29__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8e8698fa185e69226b356a4cf2e77a7d",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_34__json_rsp_subtree_include_stats_no_scoped_page_size_50': "3173be2eaf1384d966894ffae62c74f0",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_35__json_rsp_subtree_include_stats_no_scoped_page_size_50': "12531f666a06ff80395f2d12a5379379",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_29__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8c68bd2767e66b897a40100c52187e03",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_8__json_rsp_subtree_include_stats_no_scoped_page_size_50': "24292dd7f226aaa790ba72888c2f4100",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_17__json_rsp_subtree_include_stats_no_scoped_page_size_50': "1e60b21b3e8faf751aadfd9da2c75ff1",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_7__json_rsp_subtree_include_stats_no_scoped_page_size_50': "56456cb4cd430d58542eb6f91df0e34f",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_19__json_rsp_subtree_include_stats_no_scoped_page_size_50': "4a9de3748cf06fd105e574d497e55cb3",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_1__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5abeef5dc54c73540c39d62a6e2a77bd",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_48__json_rsp_subtree_include_stats_no_scoped_page_size_50': "ed8eef187c28d9fcbd18ccecc91c91a3",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_8__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8a68d7acd6469f199b61d9a59a600925",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_14__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c1c5a4fec41324e0699f6351e849f8d1",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_44__json_rsp_subtree_include_stats_no_scoped_page_size_50': "12d5f5e65fbebc8b8d061d7bf06582be",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_3__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5cda376bef1d4d0274b7d2c8007db70e",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_9__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8ddb6e0c7dfc7ac3b743fabe158f76a2",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_24__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d81771f6f4e30ed0e19fe858f1cfd66f",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_18__json_rsp_subtree_include_stats_no_scoped_page_size_50': "417c59253e3515daaa1c5c77274958ff",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_34__json_rsp_subtree_include_stats_no_scoped_page_size_50': "eb0a60abd06c6c6888a3a0694d896d5e",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_1__json_rsp_subtree_include_stats_no_scoped_page_size_50': "927fcd1e001316ede0756ff8269d36d8",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_19__json_rsp_subtree_include_stats_no_scoped_page_size_50': "897a879430edceab050ff62f99f990b6",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_35__json_rsp_subtree_include_stats_no_scoped_page_size_50': "3fef285c055ac257296e7b7e9d0d99ae",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_45__json_rsp_subtree_include_stats_no_scoped_page_size_50': "91823785f83a4dc1926f704cf120359b",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_6__json_rsp_subtree_include_stats_no_scoped_page_size_50': "82edf3105e5c60a2c778cb35aedb645d",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_2__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e22fde3e3e5bf37e4ad41c0227f7acd3",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_36__json_rsp_subtree_include_stats_no_scoped_page_size_50': "971cd5b5cb96fee7663b2c32575d643e",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_14__json_rsp_subtree_include_stats_no_scoped_page_size_50': "55df6c4d6ccb8dca85f2de66381f7caf",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_28__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f27cb9cabd2f1b5198c03ebbd8c08551",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_54__json_rsp_subtree_include_stats_no_scoped_page_size_50': "182c808e8ae2493e815889cb488088e9",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_43__json_rsp_subtree_include_stats_no_scoped_page_size_50': "bf67a8207fd44dc95be472148a1eb188",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_5__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cdcd9cfeee1cdb83883311d87c344b37",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_32__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d96de58612eb1a5189c57fddf11c3cbe",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_21__json_rsp_subtree_include_stats_no_scoped_page_size_50': "4bb497ebffc529c7b2dc82013341bbae",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_30__json_rsp_subtree_include_stats_no_scoped_page_size_50': "a07b97ec1600dcf7290e14c1c4bef9b0",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_29__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f1f6b387eccc300e566d32c3ef9ddec4",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_20__json_rsp_subtree_include_stats_no_scoped_page_size_50': "3b7673a08dfcb78977b89f664eadefe2",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_28__json_rsp_subtree_include_stats_no_scoped_page_size_50': "dfe2c1c8228116f9ab57f679177882a7",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_32__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f6c27908c7e6dcd33e25d632dca2b731",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_18__json_rsp_subtree_include_stats_no_scoped_page_size_50': "05eea58694d8f2a731b9e4a1dc762eb8",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_3__json_rsp_subtree_include_stats_no_scoped_page_size_50': "50d46a8273bad8ccb3ffa0733c3511c9",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_51__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b646eabab7c416db0d772469d9950511",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_22__json_rsp_subtree_include_stats_no_scoped_page_size_50': "836acd4e8abef3aa3677369d6c45f103",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_7__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d34ca8b96c40563f86078331b5f4934c",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_5__json_rsp_subtree_include_stats_no_scoped_page_size_50': "98feaf7bf21c889758b0e63c440fe5aa",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_13__json_rsp_subtree_include_stats_no_scoped_page_size_50': "37976cf8da42381453005e341ed57edc",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_23__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cd43fd4acdc63b1e3b80ca448f37d16d",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_19__json_rsp_subtree_include_stats_no_scoped_page_size_50': "91c6c30710d8766a1b18c7970bfe07c3",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_14__json_rsp_subtree_include_stats_no_scoped_page_size_50': "9c623607d19cd8ba1df07157580bbe7d",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_36__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f23ec48bbe02711ef10ccc8a2addecdc",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_22__json_rsp_subtree_include_stats_no_scoped_page_size_50': "05df362203f2d079d6c975bd34e0ced0",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_15__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b4e10262ba44c169d8ccf61afa3d383f",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_24__json_rsp_subtree_include_stats_no_scoped_page_size_50': "6a927bbf1765276b4bdfb1d9de31990f",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_5__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d4a55e02d7d0c4fcd81652d877df0644",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_10__json_rsp_subtree_include_stats_no_scoped_page_size_50': "768c379447d3fb82d769e31807216858",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_1__json_rsp_subtree_include_stats_no_scoped_page_size_50': "9c3b5f41a01c23450b07c06d52243ec1",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_21__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0420ca4146dc833562e815353871c910",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_28__json_rsp_subtree_include_stats_no_scoped_page_size_50': "1592af41e69b692cb9ea41c2082c6324",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_25__json_rsp_subtree_include_stats_no_scoped_page_size_50': "09307f3bd50af43e2a42115352a9667f",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_1__json_rsp_subtree_include_stats_no_scoped_page_size_50': "9663cbb28348a8cbaf0cd22fd1f37664",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_14__json_rsp_subtree_include_stats_no_scoped_page_size_50': "3cbee8654509c3cd43e50967079d636d",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_37__json_rsp_subtree_include_stats_no_scoped_page_size_50': "73477fd8a36f24ffc7b0a5ff58a0151c",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_40__json_rsp_subtree_include_stats_no_scoped_page_size_50': "512160d3762b1fc5ea0e7d7d652e4c91",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_24__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7f313c9de9389bb7b50d1536bac11ec9",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_11__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5a04c996228a0802911e1b5e2dc381d8",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_49__json_rsp_subtree_include_stats_no_scoped_page_size_50': "92df89955d9aa53c852817af77427e35",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_15__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cb1574172f451af88fc657b5b8326744",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_33__json_rsp_subtree_include_stats_no_scoped_page_size_50': "1a2b5d3742c9866abf4c3b6d248ab331",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_29__json_rsp_subtree_include_stats_no_scoped_page_size_50': "774df6b01df155b4a7e9ead5b3bb6f95",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_6__json_rsp_subtree_include_stats_no_scoped_page_size_50': "ec245c6b5e68d4066b18b62d075de4d4",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_3__json_rsp_subtree_include_stats_no_scoped_page_size_50': "1862d3b380a8f2220ac096d7aef9310a",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_27__json_rsp_subtree_include_stats_no_scoped_page_size_50': "41c11ba1a96d0c0d0f4b3089f26cf948",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_17__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cb6b65dc75a49a5c7d504cded066672c",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_42__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f5c67861c26f888b77a114eb384fd7ed",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_26__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d1211059472f6ff3efb9087a3bf21008",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_25__json_rsp_subtree_include_stats_no_scoped_page_size_50': "a963fd19c5b939826f17e98795384741",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_12__json_rsp_subtree_include_stats_no_scoped_page_size_50': "6b723f4c78e4e9153d56b0d8410da810",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_40__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0d7f07939572bc73ae4282605ca20ebd",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_28__json_rsp_subtree_include_stats_no_scoped_page_size_50': "47ad133793f96281cee2db5286d6d27e",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_41__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c223c78977aa96d4049f4a8263e315d6",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_16__json_rsp_subtree_include_stats_no_scoped_page_size_50': "01dbe25246a232e83b480b325d039964",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_30__json_rsp_subtree_include_stats_no_scoped_page_size_50': "74736ad3c53d4da2da6225f020d0ea07",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_39__json_rsp_subtree_include_stats_no_scoped_page_size_50': "db0a80e48f616964614a911f537e20b3",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_46__json_rsp_subtree_include_stats_no_scoped_page_size_50': "20666ac76c056ba221c188dd849ea5ab",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_23__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7f75758e50ae1da1b1a5088b3d70600f",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_43__json_rsp_subtree_include_stats_no_scoped_page_size_50': "966e2012b2a26cae367719cf4c289418",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_34__json_rsp_subtree_include_stats_no_scoped_page_size_50': "42ba9bb51601fc0dcd87779a4229c533",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_18__json_rsp_subtree_include_stats_no_scoped_page_size_50': "981c85ee885251c23fe84ac8c280813f",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_16__json_rsp_subtree_include_stats_no_scoped_page_size_50': "fef4649d4fae961a0a5761ee30ab73f6",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_1__json_rsp_subtree_include_stats_no_scoped_page_size_50': "fcda3e0d023bd6f48ace2d1007323cbd",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_12__json_rsp_subtree_include_stats_no_scoped_page_size_50': "08ce11dd471b76a5d9716815baec1ae2",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_16__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0c9c8a1bc19a01cd2989dc3c969a07b0",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_16__json_rsp_subtree_include_stats_no_scoped_page_size_50': "4e6bd13fe648763684a1e52c2b5b6fb9",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_48__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b890ec9099cd6dc146f1859adb8d0586",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_49__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8178783b3e17693049f299f040015fef",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_14__json_rsp_subtree_include_stats_no_scoped_page_size_50': "ee314e906f1b6a03c74f674941b6cec3",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_31__json_rsp_subtree_include_stats_no_scoped_page_size_50': "3b1021776ba1702e051084739dfd0dcd",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_6__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b8be72b08d60e236c85e568af0b0dfd2",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_13__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0ac69558dcde5281f3875cc714251816",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_39__json_rsp_subtree_include_stats_no_scoped_page_size_50': "391b0334845ed94bd2f7f0f52c792dcf",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_5__json_rsp_subtree_include_stats_no_scoped_page_size_50': "bdfb722fc02748dce7176d0ce8ea07de",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_47__json_rsp_subtree_include_stats_no_scoped_page_size_50': "a464d8d39e53fb950f807296b415ef05",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_48__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0f4f1dfb81ec9f835b63955609f35653",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_38__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5bcf96443c5b5ca0726de909932e6cd0",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_31__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8ee3aa172b88abaeb72a8d92cfd8e1f8",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_30__json_rsp_subtree_include_stats_no_scoped_page_size_50': "808bdd8ce9c8a62e3a1c9432b9cd2a2d",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_33__json_rsp_subtree_include_stats_no_scoped_page_size_50': "29e52d4c70bccac74f1a4e4f7b29c32e",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_38__json_rsp_subtree_include_stats_no_scoped_page_size_50': "26f89388cc0e2de103e26d6d4ea3d678",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_2__json_rsp_subtree_include_stats_no_scoped_page_size_50': "843f58e15736191a5e58e1afc2eb5e84",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_52__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d9f5892ce5f43fd4d40f87e8afbfc4e4",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_7__json_rsp_subtree_include_stats_no_scoped_page_size_50': "24c2652ea402d34c526a5725b879837a",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_32__json_rsp_subtree_include_stats_no_scoped_page_size_50': "a6f4860ce476b17a4d18014384e8df79",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_8__json_rsp_subtree_include_stats_no_scoped_page_size_50': "26bfabd76a3c7b74961718e820150181",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_42__json_rsp_subtree_include_stats_no_scoped_page_size_50': "db346582f606b821ac63d7c1de29de16",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_32__json_rsp_subtree_include_stats_no_scoped_page_size_50': "468af47d68f6c454058003b213546a3d",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_37__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e0c56f55dc3f88a472d08a66fca8a60c",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_5__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f89a2797577aa3b1e142529ca6c5046e",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_4__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b9d166b082550a60bbf80eb3e32eb31f",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_35__json_rsp_subtree_include_stats_no_scoped_page_size_50': "aba44ad31223120a0872b33766d856ce",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_20__json_rsp_subtree_include_stats_no_scoped_page_size_50': "6c18595e43b00d3e591faaefb05e518d",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_23__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d78862295dbba62424e4a45115e75601",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_30__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c5a11daf28c01cba3689a316fffc7d62",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_15__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d5a35efb3ba5f75ecebe87583ae42b02",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_15__json_rsp_subtree_include_stats_no_scoped_page_size_50': "84fa5ef1c7cb288cc7d8b3d216a2a359",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_22__json_rsp_subtree_include_stats_no_scoped_page_size_50': "54631f3678634a95055946441706e235",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_7__json_rsp_subtree_include_stats_no_scoped_page_size_50': "589f829bb465d344c485960ea9910519",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_4__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e2b6ef195ca3ceb6a7985868b44b2cef",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_29__json_rsp_subtree_include_stats_no_scoped_page_size_50': "25fb8de7707d45adb5547c93647b096a",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_27__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7dbe5688443c0124438db66cc4ae8413",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_35__json_rsp_subtree_include_stats_no_scoped_page_size_50': "472bfc1a0ff05706b83ef45497d62ff3",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_20__json_rsp_subtree_include_stats_no_scoped_page_size_50': "191f10ceb875b1b8f592deff3e71326b",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_26__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e46224a7b610c68baa0798548c3a3f5c",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_31__json_rsp_subtree_include_stats_no_scoped_page_size_50': "3c0a81313d92e361c55ae1d5bc82b024",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_11__json_rsp_subtree_include_stats_no_scoped_page_size_50': "9647dd5867a5e8000c13a813ea3765a5",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_45__json_rsp_subtree_include_stats_no_scoped_page_size_50': "61123225373140dd4bd581621e9b854d",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_26__json_rsp_subtree_include_stats_no_scoped_page_size_50': "876dd4352811765c90169517e290e8c6",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_6__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0826c49f46687d4931b61b718f928ef0",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_3__json_rsp_subtree_include_stats_no_scoped_page_size_50': "66a518765a86e7f2ae488abc45d95d70",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_32__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c6e8ea2770d307b7ca729a3ae5f5f632",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_12__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c3f7c0e63cf5f80a48ab795595be3ab6",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_27__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e34c735548d6b28c0252cf2f0d4c620e",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_23__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d24061eff4081cff59ca1a0ed7c5211f",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_17__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f270e3e2b3ef7e0d23289842e7c5d845",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_47__json_rsp_subtree_include_stats_no_scoped_page_size_50': "8ec2fb1e670274ffc7c80a4e8c0b579a",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_13__json_rsp_subtree_include_stats_no_scoped_page_size_50': "d1bfe6c0c336fa036de9d03b95eb7ea0",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_9__json_rsp_subtree_include_stats_no_scoped_page_size_50': "df7bc44413d19409a2dcca4b60b57eed",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_25__json_rsp_subtree_include_stats_no_scoped_page_size_50': "9006e6d35c66d13426fa04ce73e1ec8b",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_35__json_rsp_subtree_include_stats_no_scoped_page_size_50': "1aaf6555b1102852ff7de4b370cc0d0f",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_46__json_rsp_subtree_include_stats_no_scoped_page_size_50': "a53d71ffbd0982d015e8395e2f5e4e48",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_18__json_rsp_subtree_include_stats_no_scoped_page_size_50': "97c9b38cfda14c9218b0d97ac45e2635",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_4__json_rsp_subtree_include_stats_no_scoped_page_size_50': "784ecd089e2b648809a8e00fd5a11e82",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_2__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c74287938370abba1fbb7deb6f1afcdc",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_33__json_rsp_subtree_include_stats_no_scoped_page_size_50': "ea3bdd6b0a08e2e5227bfc5e9bed1077",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_43__json_rsp_subtree_include_stats_no_scoped_page_size_50': "325ebbb6ef97627d5b9b6cda91f8e1db",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_17__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f4481ba97383eecd355d3a0f330ec602",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_33__json_rsp_subtree_include_stats_no_scoped_page_size_50': "062669633a82d933bda471003dd9e186",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_44__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e12936b89bb76191abac20937042babc",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_20__json_rsp_subtree_include_stats_no_scoped_page_size_50': "84c022cd474b28fb0c93ca6497fbc465",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_23__json_rsp_subtree_include_stats_no_scoped_page_size_50': "fd44e33bc853f309b9103d5d4ede35bb",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_47__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f0ffa4dde0fe109c09872e7d49aeaae4",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_36__json_rsp_subtree_include_stats_no_scoped_page_size_50': "29323d3635c14c2110036b6f46ff4e3c",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_33__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c38b59ed1668a70ac7769f1d05b27a60",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_22__json_rsp_subtree_include_stats_no_scoped_page_size_50': "236cd3ffe852d58ad38dfbe0e8526386",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_19__json_rsp_subtree_include_stats_no_scoped_page_size_50': "595020242506421d68ada87ac012256e",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_31__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7ffce65d2a991de9faa9d3976bf07e1c",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_2__json_rsp_subtree_include_stats_no_scoped_page_size_50': "5b8ffb24387021e123e166ee7a388bde",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_28__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7a5859de7a50c006b2c293a537891ab9",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_41__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0265f64e971b212efa4211dffb9ca963",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_13__json_rsp_subtree_include_stats_no_scoped_page_size_50': "51d1697864fc60fbf06e0838a29d3311",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_37__json_rsp_subtree_include_stats_no_scoped_page_size_50': "87f77f6251a2517a4f65e94b7f79aaee",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_50__json_rsp_subtree_include_stats_no_scoped_page_size_50': "923a62a1814d5c8d9d53e04b88a8638a",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_12__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f72ea212e66461d60982a0fac7c99ab0",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_38__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e35556d42f69f3c3d421893e9e0c4977",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_10__json_rsp_subtree_include_stats_no_scoped_page_size_50': "28becf8a90f91ffea40df5c48656743b",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_34__json_rsp_subtree_include_stats_no_scoped_page_size_50': "97dbf9f15408eecaa3fd4d45ba7dbaab",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_31__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f71145d337d6c9a9b241c1c976ced0d1",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_3__json_rsp_subtree_include_stats_no_scoped_page_size_50': "c73e82f5cdc241fc509a0bbf6d4a7d51",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_53__json_rsp_subtree_include_stats_no_scoped_page_size_50': "b7ca7e3bf57d9bd268742155051c4b81",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_24__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0fe0cd1d847716f3586e58ba3d46a87c",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_54__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f8c5a7073ed0c40fe75c00bc5330863a",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_42__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cc2f4768ee3a0e093c39baab2b83c2fb",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_13__json_rsp_subtree_include_stats_no_scoped_page_size_50': "489238c6f8d6bde0ba86c5388669b2f5",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_6__json_rsp_subtree_include_stats_no_scoped_page_size_50': "ea1adfb208ff0d3fbf46872302471c52",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_8__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e6d339c0b302f35694131b26366b563d",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_36__json_rsp_subtree_include_stats_no_scoped_page_size_50': "64c95055e2de554c02ef651cdd480e02",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_24__json_rsp_subtree_include_stats_no_scoped_page_size_50': "a7f558099bdebc44a11f691c18a7b64c",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_41__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cd70f0e8083993b02aa97bfc482be3b3",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_9__json_rsp_subtree_include_stats_no_scoped_page_size_50': "e49d0a6a4fdc04e0f72f244f7ffc2042",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth1_17__json_rsp_subtree_include_stats_no_scoped_page_size_50': "9f09a35dce91e6170f7b31e02884a578",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_15__json_rsp_subtree_include_stats_no_scoped_page_size_50': "7bb3c44837f66c6a254def67002c459c",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_19__json_rsp_subtree_include_stats_no_scoped_page_size_50': "737c7e36163881e5e54450fd49b43fd0",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_21__json_rsp_subtree_include_stats_no_scoped_page_size_50': "58dca04cc9e1e3d492ac260aac0d1506",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_25__json_rsp_subtree_include_stats_no_scoped_page_size_50': "05d1db1e4a5e62b4056b0aa5958611da",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_4__json_rsp_subtree_include_stats_no_scoped_page_size_50': "fc340063f900f0d3e3b4f5517514d684",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_18__json_rsp_subtree_include_stats_no_scoped_page_size_50': "131494bb85b639cfb048bc27621d1eda",
        #     '_api_mo_topology_pod_1_node_201_sys_phys__eth1_8__json_rsp_subtree_include_stats_no_scoped_page_size_50': "cde31232e5ba774088e9615ce786f15a",
        #     '_api_mo_topology_pod_1_node_101_sys_phys__eth101_1_4__json_rsp_subtree_include_stats_no_scoped_page_size_50': "f8396435d19e4f76835532db423436f3",
        #     '_api_mo_topology_pod_1_node_202_sys_phys__eth1_36__json_rsp_subtree_include_stats_no_scoped_page_size_50': "0d65a35670e5e6911748ffad58aefe97",
        #     '_api_mo_topology_pod_1_node_102_sys_phys__eth1_51__json_rsp_subtree_include_stats_no_scoped_page_size_50': "39eadf19ae6f6506492894d5b7eb451d",
        #
        #     # Api.get_controller_proc_metrics
        #     '_api_node_mo_topology_pod_1_node_1_sys_proc_json_rsp_subtree_include_stats_no_scoped_rsp_subtree_class_procMemHist5min_procCPUHist5min': "da3cc25775b42c6e85bf8e389cde346c",
        #     '_api_node_mo_topology_pod_1_node_2_sys_proc_json_rsp_subtree_include_stats_no_scoped_rsp_subtree_class_procMemHist5min_procCPUHist5min': "363740b68eff24d19f99f62266029e66",
        #     '_api_node_mo_topology_pod_1_node_3_sys_proc_json_rsp_subtree_include_stats_no_scoped_rsp_subtree_class_procMemHist5min_procCPUHist5min': "ee5cd35d0ce16d8d0b7c8057d9d53f37",
        #
        #     # Api.get_spine_proc_metrics
        #     '_api_node_mo_topology_pod_1_node_102_sys_procsys_json_rsp_subtree_include_stats_no_scoped_rsp_subtree_class_procSysMemHist5min_procSysCPUHist5min': "39d31c3f91411cd6018abd79e222d0cf",
        #     '_api_node_mo_topology_pod_1_node_202_sys_procsys_json_rsp_subtree_include_stats_no_scoped_rsp_subtree_class_procSysMemHist5min_procSysCPUHist5min': "37ed36e29dc28fecf6ebc21cd2714477",
        #     '_api_node_mo_topology_pod_1_node_201_sys_procsys_json_rsp_subtree_include_stats_no_scoped_rsp_subtree_class_procSysMemHist5min_procSysCPUHist5min': "b0c46630b68d344089f7209c814e216e",
        #     '_api_node_mo_topology_pod_1_node_101_sys_procsys_json_rsp_subtree_include_stats_no_scoped_rsp_subtree_class_procSysMemHist5min_procSysCPUHist5min': "1df5692a384c4dd76bb6aaeec9e5f922",
        # }
        mock_path = path.replace('/', '_')
        mock_path = mock_path.replace('?', '_')
        mock_path = mock_path.replace('&', '_')
        mock_path = mock_path.replace('=', '_')
        mock_path = mock_path.replace(',', '_')
        mock_path = mock_path.replace('-', '_')
        mock_path = mock_path.replace('.', '_')
        mock_path = mock_path.replace('"', '_')
        mock_path = mock_path.replace('(', '_')
        mock_path = mock_path.replace(')', '_')
        mock_path = mock_path.replace('[', '_')
        mock_path = mock_path.replace(']', '_')
        mock_path = mock_path.replace('|', '_')
        try:
            mock_path = FIXTURE_LIST_FILE_MAP[mock_path]

            mock_path = os.path.join(FABRIC_FIXTURES_DIR, mock_path)
            mock_path += '.txt'

            log.info(os.listdir(FABRIC_FIXTURES_DIR))

            with open(mock_path, 'r') as f:
                return json.loads(f.read())
        except Exception:
            return {"imdata": []}


def mock_send(prepped_request, **kwargs):
    if prepped_request.path_url == '/api/aaaLogin.xml':
        cookie_path = os.path.join(FIXTURES_DIR, 'login_cookie.txt')
        response_path = os.path.join(FIXTURES_DIR, 'login.txt')
        response = Response()
        with open(cookie_path, 'r') as f:
            response.cookies = {'APIC-cookie': f.read()}
        with open(response_path, 'r') as f:
            response.raw = f.read()

    return response


@pytest.fixture
def session_mock():
    session = Session()
    setattr(session, 'send', mock_send)
    fake_session_wrapper = FakeSess(ACI_URL, session, 'cookie')

    return fake_session_wrapper


def test_fabric_end_to_end(aggregator, session_mock):
    check = CiscoACICheck(CHECK_NAME, {}, {})
    api = Api(ACI_URLS, USERNAME, PASSWORD, log=check.log, sessions=[session_mock])
    api._refresh_sessions = False
    check._api_cache[hash_mutable(CONFIG)] = api

    check.check(CONFIG)

    tags000 = ['cisco', 'project:cisco_aci', 'medium:broadcast', 'snmpTrapSt:enable', 'fabric_pod_id:1']
    tags101 = tags000 + ['node_id:101']
    tags102 = tags000 + ['node_id:102']
    tags201 = tags000 + ['node_id:201']
    tags202 = tags000 + ['node_id:202']
    tags = ['fabric_state:active', 'fabric_pod_id:1', 'cisco', 'project:cisco_aci']
    tagsleaf101 = tags + ['switch_role:leaf', 'apic_role:leaf', 'node_id:101']
    tagsleaf102 = tags + ['switch_role:leaf', 'apic_role:leaf', 'node_id:102']
    tagsspine201 = tags + ['switch_role:spine', 'apic_role:spine', 'node_id:201']
    tagsspine202 = tags + ['switch_role:spine', 'apic_role:spine', 'node_id:202']
    hn101 = 'pod-1-node-101'
    hn102 = 'pod-1-node-102'
    hn201 = 'pod-1-node-201'
    hn202 = 'pod-1-node-202'
    metric_name = 'cisco_aci.fabric.port.ingr_total.bytes.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=348576910448.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=261593756524.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=365920898157.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=184416736.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=538866383200.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2750448272939.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=40951085908.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2375501844536591.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=861808554.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=6544736275.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=223494309988.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=213271610129.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=6088216934.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=310112731441.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=282986646729.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=163927500429.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=156170003637.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=484418669518.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=56557060354.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=843153621140.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=659049799003.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=816067993294.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=658681144561.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.cpu.idle.min'
    aggregator.assert_metric(metric_name, value=83.786848, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=92.911296, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=86.315524, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=93.498803, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=85.685484, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=92.499371, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=86.347003, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=93.486493, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=85.575467, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=93.764988, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=85.712484, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=93.505349, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=86.685125, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=93.787802, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=85.80775, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=93.592331, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=86.875946, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=94.04867, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=85.712486, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=93.072061, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=86.072144, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=93.783102, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=85.889029, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=93.796495, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=64.258458, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=62.515851, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=61.886601, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=60.908168, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=63.308805, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=61.950724, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=64.70439, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=62.812022, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=64.88201, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=62.138141, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=65.337735, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=62.392077, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=59.512319, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=68.422392, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=59.588519, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=66.581892, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=59.29878, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=66.844242, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=59.42435, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=71.120142, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=60.621498, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=67.77891, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=60.925973, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=68.634969, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.mem.free.min'
    aggregator.assert_metric(metric_name, value=13867492.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=13928332.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=5512568.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=5445040.0, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.flood'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=720.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1436.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=658.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=860.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1318.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.flood.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=94.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=188.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=94.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=128972.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=31161278.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=14872.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=50788.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=17912.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3384.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2031662.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=539316624.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=976989777.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=368613954.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=702456503.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=218267390.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=94.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=188.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=38102122.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=39593148.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.health.cur'
    aggregator.assert_metric(metric_name, value=72.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=72.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=98.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=99.0, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.cpu.idle.max'
    aggregator.assert_metric(metric_name, value=96.391948, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.448433, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.325758, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.400152, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.387064, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.435343, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.396966, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.382037, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.29256, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.363177, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.432186, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.364095, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=96.663283, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.51295, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.569987, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.614452, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.5012, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.490342, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.445677, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.46286, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.452916, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.611027, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.499874, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=96.529531, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=87.864078, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.677846, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=88.166284, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.827858, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.962012, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.770701, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.831633, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.984694, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.719745, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=88.017374, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=87.965324, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=88.035714, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=88.118307, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=87.630706, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.107417, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.193384, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.364379, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.184365, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.27129, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=87.903431, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.510747, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.244314, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=88.002047, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=87.982613, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.multicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1884382.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=98284267.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3672.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=100145009.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=855.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5652770907.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=2224410566.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=3865435435.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=4030471655.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_total.pkts.rate'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.03, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.03, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=360.595, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.014286, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.014286, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.690476, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=300929.061905, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.02381, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=7275.066667, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.014286, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.047619, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.12381, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.234783, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=480.665217, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=76.082609, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=317.378261, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.05, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.777778, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=314.181481, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=259.740741, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=535.933333, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=480.72963, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.033333, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.018519, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.017857, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.196429, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1.025, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.014286, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.017857, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.014286, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.046429, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=295.413809, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=92.93851, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=246.675923, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=332.215125, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.fault_counter.warn'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/51'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/52'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/53'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/54'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/34'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/35'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/36'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/37'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/38'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/39'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/40'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/41'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/42'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/43'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/44'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/45'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/46'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/47'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/51'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/52'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/53'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/54'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/16'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/18'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/13'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/14'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/20'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/19'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/21'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/22'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/23'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/24'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/25'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/26'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/27'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/28'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/29'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/30'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/31'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/32'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/33'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/34'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/35'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/36'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/3'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/4'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/5'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/6'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/7'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/8'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/9'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/10'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/11'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/12'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/13'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/14'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/15'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/16'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/17'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/18'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/19'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/20'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/21'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/22'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/23'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/24'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/25'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/26'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/27'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/28'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/29'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/30'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/31'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/32'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/33'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/34'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/35'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/36'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/3'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/4'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/5'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/6'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/7'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/8'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/9'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/10'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/11'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/12'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/13'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/14'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/15'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/16'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/17'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/18'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/19'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/20'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/21'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/22'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/23'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/24'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/25'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/26'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/27'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/28'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/29'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/30'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/31'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/32'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.cpu.avg'
    aggregator.assert_metric(metric_name, value=5.099699999999999, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.6183149999999955, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.986987999999997, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.5842289999999934, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=5.004906000000005, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.652297000000004, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.986576999999997, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.6488959999999935, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=5.079667000000001, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.514444999999995, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=5.043931999999998, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.568399999999997, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.930536000000004, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.497870000000006, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.910968999999994, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.510873000000004, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.940123999999997, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.563612000000006, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.955282999999994, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.540270000000007, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=5.002808999999999, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.462749000000002, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.969452000000004, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.465964999999997, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=17.815427, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=19.114099999999993, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=17.931529999999995, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=18.983119000000002, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=17.880464000000003, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=18.782194000000004, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=17.751796999999996, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=19.094292999999993, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=17.698178999999996, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=19.134788999999998, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=17.725645999999998, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=19.067124000000007, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=4.0, tags=['apic_role:controller', 'node_id:3', 'fabric_state:unknown',
                                                           'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-3')
    aggregator.assert_metric(metric_name, value=10.0, tags=['apic_role:controller', 'node_id:1', 'fabric_state:unknown',
                                                            'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-1')
    aggregator.assert_metric(metric_name, value=19.234358, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=17.76097, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=19.010105999999993, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=17.649265, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=18.986099999999993, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=17.444975, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=19.101067999999998, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=17.846044000000006, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=18.921163000000007, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=17.827544000000003, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=19.068934999999996, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=17.649720000000002, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=8.0, tags=['apic_role:controller', 'node_id:2', 'fabric_state:unknown',
                                                           'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-2')

    metric_name = 'cisco_aci.fabric.port.egr_bytes.multicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=236383592.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=236450478.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=547520.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=287182563.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=21312.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=318246201.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=18204.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4488.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=236423309.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=446236358.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1466364460.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1133167391.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=445946184.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1195355049.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1558331294.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=236470350.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=236534244.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=549032.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=127544.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=280084025.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=278551439.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=829143147.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=3015349024.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=2484948057.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=1005106879.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_bytes.multicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=236383592.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=236450478.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=547520.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=287182563.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=21312.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=318246201.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=18204.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4488.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=236423309.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=446236358.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1466364460.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1133167391.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=445946184.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1195355049.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1558331294.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=236470350.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=236534244.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=549032.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=127544.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=280084025.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=278551439.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=829143147.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=3015349024.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=2484948057.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=1005106879.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.cpu.max'
    aggregator.assert_metric(metric_name, value=3.6080520000000007, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.5515670000000057, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.6742420000000067, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.5998479999999944, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.612936000000005, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.564656999999997, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.603033999999994, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.617963000000003, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.7074400000000054, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.636823000000007, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.5678139999999985, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.635904999999994, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=3.336716999999993, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.4870499999999964, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.4300130000000024, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.385548, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.498800000000003, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.5096580000000017, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.5543229999999966, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.5371399999999937, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.547083999999998, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.388972999999993, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.5001259999999945, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.4704689999999943, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=12.135921999999994, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.322153999999998, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=11.833715999999995, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.172141999999994, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.037987999999999, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.229298999999997, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.168367000000003, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.015305999999995, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.280254999999997, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=11.982625999999996, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=12.034676000000005, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=11.964286000000001, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=7.0, tags=['apic_role:controller', 'node_id:3', 'fabric_state:unknown',
                                                           'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-3')
    aggregator.assert_metric(metric_name, value=14.0, tags=['apic_role:controller', 'node_id:1', 'fabric_state:unknown',
                                                            'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-1')
    aggregator.assert_metric(metric_name, value=11.881692999999999, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=12.369293999999996, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.892583000000002, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.806616000000005, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.635621, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.815635, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.728710000000007, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=12.096569000000002, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.489253000000005, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.755685999999997, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.997952999999995, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=12.017387, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=11.0, tags=['apic_role:controller', 'node_id:2', 'fabric_state:unknown',
                                                            'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-2')

    metric_name = 'cisco_aci.fabric.node.mem.avg'
    aggregator.assert_metric(metric_name, value=10559963.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=10491187.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=10747828.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=37859173.0, tags=['apic_role:controller', 'node_id:3',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-3')
    aggregator.assert_metric(metric_name, value=43008145.0, tags=['apic_role:controller', 'node_id:1',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-1')
    aggregator.assert_metric(metric_name, value=10814699.0, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=34463186.0, tags=['apic_role:controller', 'node_id:2',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-2')

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.multicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1884382.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=98284267.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3672.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=100145009.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=855.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5652770907.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=2224410566.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=3865435435.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=4030471655.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_bytes.unicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=370475792067.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=263131271762.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=342315261222.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=14238340.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=14238340.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=242134018.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=344482735664.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2375462007802685.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=72584223945.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2717547044839.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=30785612.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=122270987.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=913331247.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1918138777.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=77293415849.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=330426792155.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=302746138922.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=122246714.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=62665015.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=222183688736.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=212143547054.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=134113229564.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=203653209556.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=91067116.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=14238624.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=7077.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=14238908.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=10568776.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=531249211611.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=172484213872.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30565216.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30780750.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30780464.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=122246714.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=689750718034.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=843245090540.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=694427252279.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=808249335135.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.capacity.apic.fabric_node.utilized'
    aggregator.assert_metric(metric_name, value=0.0, tags=['cisco', 'project:cisco_aci'], hostname='')  # TODO value is not the same -> used to be 2.0

    metric_name = 'cisco_aci.fabric.port.fault_counter.crit'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/51'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/52'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/53'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/54'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/34'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/35'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/36'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/37'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/38'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/39'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/40'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/41'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/42'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/43'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/44'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/45'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/46'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/47'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/51'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/52'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/53'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/54'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/16'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/18'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/13'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/14'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/20'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/19'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/21'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/22'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/23'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/24'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/25'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/26'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/27'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/28'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/29'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/30'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/31'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/32'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/33'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/34'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/35'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/36'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/3'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/4'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/5'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/6'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/7'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/8'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/9'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/10'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/11'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/12'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/13'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/14'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/15'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/16'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/17'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/18'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/19'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/20'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/21'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/22'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/23'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/24'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/25'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/26'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/27'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/28'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/29'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/30'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/31'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/32'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/33'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/34'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/35'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/36'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/3'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/4'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/5'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/6'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/7'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/8'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/9'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/10'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/11'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/12'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/13'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/14'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/15'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/16'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/17'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/18'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/19'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/20'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/21'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/22'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/23'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/24'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/25'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/26'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/27'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/28'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/29'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/30'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/31'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/32'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.mem.free.max'
    aggregator.assert_metric(metric_name, value=13903716.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=13975396.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=5531456.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=5480244.0, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.health.min'
    aggregator.assert_metric(metric_name, value=72.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=72.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=98.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=99.0, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_drop_pkts.errors'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_total.bytes.rate'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=12.69, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=12.69, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=57725.02, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.057143, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.057143, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=905.104762, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=455461817.719048, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=854.752381, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=536243.27619, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.085714, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=18.252381, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=35.319048, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=294.643478, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=609002.547826, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=17891.591304, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=82382.26087, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=19.111538, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=76.155556, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=43222.107407, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=44725.892593, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=91797.314815, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=127111.525926, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=14.1, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5.259259, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5.071429, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=545.053571, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=797.571429, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.057143, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5.107143, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=4.085714, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=17.746429, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=41358.029538, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=21604.055876, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=42458.313431, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=89949.365917, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_total.pkts.rate'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=363.5, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.154545, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=7641.245455, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.618182, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=310442.886364, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=127.525532, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=280.691304, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=244.494589, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=160.540741, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=89.862963, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=334.822222, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=401.2, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=583.388889, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3.353571, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.571429, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=61.586206, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=306.708934, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=312.642784, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=255.925206, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.unicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=348576910354.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=261593756336.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=365920898063.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=184287764.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=538835221922.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2750448258067.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=40951035120.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2375501844518679.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=861805170.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=6542704613.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=222953108982.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=212196336085.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5719602980.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=309410271266.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=282668234330.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=163927500335.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=156170003449.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=484380566541.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=56517467206.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=837500850233.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=656825388437.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=812202557859.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=654650672906.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.mem.min'
    aggregator.assert_metric(metric_name, value=10534296.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=10462616.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=10737028.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=37835708.0, tags=['apic_role:controller', 'node_id:3',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-3')
    aggregator.assert_metric(metric_name, value=42962460.0, tags=['apic_role:controller', 'node_id:1',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-1')
    aggregator.assert_metric(metric_name, value=10788240.0, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=34432104.0, tags=['apic_role:controller', 'node_id:2',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-2')

    metric_name = 'cisco_aci.fabric.node.mem.free.avg'
    aggregator.assert_metric(metric_name, value=13878048.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=13946824.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=5520655.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=5453784.0, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.health.max'
    aggregator.assert_metric(metric_name, value=72.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=72.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=98.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=99.0, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_bytes.unicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=370475792067.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=263131271762.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=342315261222.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=14238340.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=14238340.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=242134018.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=344482735664.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2375462007802685.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=72584223945.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2717547044839.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=30785612.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=122270987.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=913331247.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1918138777.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=77293415849.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=330426792155.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=302746138922.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=122246714.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=62665015.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=222183688736.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=212143547054.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=134113229564.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=203653209556.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=91067116.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=14238624.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=7077.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=14238908.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=10568776.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=531249211611.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=172484213872.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30565216.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30780750.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30780464.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=122246714.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=689750718034.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=843245090540.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=694427252279.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=808249335135.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_drop_pkts.buffer.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.cpu.min'
    aggregator.assert_metric(metric_name, value=16.213151999999994, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=7.088704000000007, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=13.684476000000004, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=6.501197000000005, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=14.314515999999998, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=7.5006290000000035, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=13.652997, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=6.513507000000004, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=14.424532999999997, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=6.235011999999998, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=14.287515999999997, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=6.494651000000005, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=13.314875, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=6.212198000000001, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=14.192250000000001, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=6.4076689999999985, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=13.124054000000001, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=5.951329999999999, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=14.287514000000002, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=6.927938999999995, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=13.927856000000006, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=6.2168980000000005, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=14.110971000000006, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=6.203505000000007, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=35.741541999999995, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=37.484149, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=38.113399, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=39.091832, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=36.691195, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=38.049276, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=35.295609999999996, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=37.187978, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=35.117990000000006, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=37.861859, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=34.662265000000005, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=37.607923, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=3.0, tags=['apic_role:controller', 'node_id:3', 'fabric_state:unknown',
                                                           'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-3')
    aggregator.assert_metric(metric_name, value=10.0, tags=['apic_role:controller', 'node_id:1', 'fabric_state:unknown',
                                                            'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-1')
    aggregator.assert_metric(metric_name, value=40.487681, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=31.577607999999998, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=40.411481, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=33.418108000000004, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=40.70122, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=33.155758000000006, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=40.57565, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=28.879858, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=39.378502, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=32.221090000000004, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=39.074027, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=31.365031000000002, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=5.0, tags=['apic_role:controller', 'node_id:2', 'fabric_state:unknown',
                                                           'fabric_pod_id:1', 'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-2')

    metric_name = 'cisco_aci.fabric.port.ingr_total.bytes.rate'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=90611.92381, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1434.072727, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=980405.281818, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=426.390909, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=470253298.663636, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=9446.706753, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=38348.052174, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=40133.308116, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=11900.614815, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=19401.951852, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=88043.459259, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=73281.118519, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=101114.177778, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=782.496429, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=364.992857, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=10014.876235, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=42435.540018, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=85132.918634, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=43235.18282, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_total.pkts'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3191.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=40.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1601321.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=58421.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=16.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=5494.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=804.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3117.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=6.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=2475.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=2224.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=4491.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3611.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=42.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=2990.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=900.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=2516.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=4159.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.mem.max'
    aggregator.assert_metric(metric_name, value=10570520.0, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=10509680.0, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=10755916.0, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=37901052.0, tags=['apic_role:controller', 'node_id:3',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-3')
    aggregator.assert_metric(metric_name, value=43199760.0, tags=['apic_role:controller', 'node_id:1',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-1')
    aggregator.assert_metric(metric_name, value=10823444.0, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=34637280.0, tags=['apic_role:controller', 'node_id:2',
                                                                  'fabric_state:unknown', 'fabric_pod_id:1',
                                                                  'cisco', 'project:cisco_aci'],
                             hostname='pod-1-node-2')

    metric_name = 'cisco_aci.fabric.port.egr_bytes.flood'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_drop_pkts.buffer'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_bytes.flood.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3196.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3196.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1632.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3069384.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=5334816.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=8725392.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3067140.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=826.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5323724.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=2992.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=2992.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1428.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.unicast.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=348576910354.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=261593756336.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=365920898063.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=184287764.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=538835221922.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2750448258067.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=40951035120.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2375501844518679.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=861805170.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=6542704613.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=222953108982.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=212196336085.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=5719602980.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=309410271266.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=282668234330.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=163927500335.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=156170003449.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=484380566541.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=56517467206.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=837500850233.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=656825388437.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=812202557859.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=654650672906.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_total.bytes.cum'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=370712178855.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=263367725436.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=342315810374.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=14238340.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=14238340.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=242134018.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=344769918227.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2375462007823997.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=72902470146.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2717547063043.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=30785612.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=122270987.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4488.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1149754556.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1918138777.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=77742721591.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=331898491431.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=303888031705.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=122246714.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=511678339.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=223379044611.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=213707202072.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=134349702906.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=203889746792.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=91617576.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=14238624.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=7077.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=14238908.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=10696320.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=531529295636.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=172762765311.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30565216.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30780750.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=30780464.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=122246714.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=690579861181.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=846260439564.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=696912200336.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=809254442014.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.node.cpu.idle.avg'
    aggregator.assert_metric(metric_name, value=94.9003, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.381685, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.013012, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.415771, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=94.995094, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.347703, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.013423, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.351104, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=94.920333, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.485555, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=94.956068, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.4316, tags=tagsleaf101, hostname=hn101)
    aggregator.assert_metric(metric_name, value=95.069464, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.50213, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.089031, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.489127, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.059876, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.436388, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.044717, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.45973, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=94.997191, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.537251, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.030548, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=95.534035, tags=tagsleaf102, hostname=hn102)
    aggregator.assert_metric(metric_name, value=82.184573, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=80.8859, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=82.06847, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=81.016881, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=82.119536, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=81.217806, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=82.248203, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=80.905707, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=82.301821, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=80.865211, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=82.274354, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=80.932876, tags=tagsspine202, hostname=hn202)
    aggregator.assert_metric(metric_name, value=80.765642, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=82.23903, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=80.989894, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=82.350735, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=81.0139, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=82.555025, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=80.898932, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=82.153956, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=81.078837, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=82.172456, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=80.931065, tags=tagsspine201, hostname=hn201)
    aggregator.assert_metric(metric_name, value=82.35028, tags=tagsspine201, hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_total.pkts'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3393.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=32.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=99534.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=5117425.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1076.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3046.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2657.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1306.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=978.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=2400.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3240.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=4750.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=33.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=9.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=594.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=3043.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=4105.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=2440.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.multicast'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1942.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=1861.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=2104.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=3024.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.ingr_bytes.unicast'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=631473.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4416.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=12005285.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=383.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=7778795911.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=79624.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=481448.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=433572.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=96126.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=241147.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=453923.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=572700.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=830768.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3720.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=117645.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=393777.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=1633496.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=368236.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_bytes.unicast'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=511910.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=8533.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2398311184.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4593.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=4279557.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=425.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=3692.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=7009700.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=189526.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=826893.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=425.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=347116.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=396212.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=758598.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=770134.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=423.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=3842.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=406856.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=260037.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=405394.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=1661743.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    metric_name = 'cisco_aci.fabric.port.egr_bytes.multicast'
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/43'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/44'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/45'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/46'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/47'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=744.0, tags=tags101 + ['port:eth1/48'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=2004.0, tags=tags101 + ['port:eth1/49'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=1432.0, tags=tags101 + ['port:eth1/50'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/1'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/2'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/3'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/4'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/5'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/6'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/7'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/8'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/9'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/10'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/11'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/12'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/13'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/14'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/15'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/16'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/17'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/18'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/19'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/20'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/21'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/22'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/23'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/24'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/25'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/26'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/27'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/28'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/29'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/30'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/31'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/32'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/33'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/34'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/35'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/36'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/37'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/38'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/39'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/40'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/41'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags101 + ['port:eth101/1/42'], hostname=hn101)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/33'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=560.0, tags=tags102 + ['port:eth1/48'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=864.0, tags=tags102 + ['port:eth1/49'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1580.0, tags=tags102 + ['port:eth1/50'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/1'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/2'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/3'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/4'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/15'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/17'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/5'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/6'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1318.0, tags=tags102 + ['port:eth1/7'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/8'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/9'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/10'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/11'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=0.0, tags=tags102 + ['port:eth1/12'], hostname=hn102)
    aggregator.assert_metric(metric_name, value=1006.0, tags=tags202 + ['port:eth1/1'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=896.0, tags=tags202 + ['port:eth1/2'], hostname=hn202)
    aggregator.assert_metric(metric_name, value=1196.0, tags=tags201 + ['port:eth1/1'], hostname=hn201)
    aggregator.assert_metric(metric_name, value=620.0, tags=tags201 + ['port:eth1/2'], hostname=hn201)

    for m in aggregator.not_asserted():
        print(m)

    # Assert coverage for this check on this instance
    aggregator.assert_all_metrics_covered()
