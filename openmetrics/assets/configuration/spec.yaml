name: OpenMetrics
files:
  - name: openmetrics.yaml
    options:
    - template: init_config
      options:
        - template: init_config/openmetrics
    - template: instances
      options:
        - template: instances/openmetrics
          overrides:
            namespace.hidden: false
            metrics.required: true
            metrics.hidden: false
            extra_metrics.hidden: true
            openmetrics_endpoint.required: false
            tag_by_endpoint.example: false
            tag_by_endpoint.hidden: false
            tag_by_endpoint.enabled: true
        - name: target_info_enabled
          description: |
            Whether to enable scraping for the OpenMetrics target_info metric type. When enabled,
            this collects metadata about the target being scraped, such as instance labels and other identifying details.
          value:
            example: false
            type: boolean
        - template: instances/openmetrics_legacy_base
          hidden: true
          overrides:
            prometheus_url.required: false
