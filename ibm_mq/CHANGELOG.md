# CHANGELOG - IBM MQ

## 4.1.0 / 2023-05-26

***Added***: 

* Tag queue metrics by usage. See [#14606](https://github.com/DataDog/integrations-core/pull/14606).


## 4.0.3 / 2023-01-25 / Agent 7.43.0

***Fixed***: 

* Allow setting the try basic auth value from config in all cases. See [#13781](https://github.com/DataDog/integrations-core/pull/13781).


## 4.0.2 / 2023-01-20

***Fixed***: 

* Prevent unnecessary non-SSL connection attempts. See [#13559](https://github.com/DataDog/integrations-core/pull/13559).


## 4.0.1 / 2022-12-09 / Agent 7.42.0

***Fixed***: 

* Add messaging to service checks. See [#13355](https://github.com/DataDog/integrations-core/pull/13355).


## 4.0.0 / 2022-10-28 / Agent 7.41.0

***Changed***: 

* Don't set any default algorithm for `ssl_cipher_spec`. See [#13013](https://github.com/DataDog/integrations-core/pull/13013).

***Added***: 

* Add `queue_manager_process` option. See [#13107](https://github.com/DataDog/integrations-core/pull/13107).

***Fixed***: 

* Add back channels_to_skip for channel status metrics. See [#13113](https://github.com/DataDog/integrations-core/pull/13113).
* Update SSL connection configs used for determining SSL auth. See [#12974](https://github.com/DataDog/integrations-core/pull/12974).


## 3.22.1 / 2022-08-05 / Agent 7.39.0

***Fixed***: 

* Dependency updates. See [#12653](https://github.com/DataDog/integrations-core/pull/12653).


## 3.22.0 / 2022-05-15 / Agent 7.37.0

***Added***: 

* Add `collect_reset_queue_metrics` option. See [#11818](https://github.com/DataDog/integrations-core/pull/11818).


## 3.21.0 / 2022-04-05 / Agent 7.36.0

***Added***: 

* Add option to not try normal connection. See [#11748](https://github.com/DataDog/integrations-core/pull/11748).
* Add metric_patterns options to filter all metric submission by a list of regexes. See [#11695](https://github.com/DataDog/integrations-core/pull/11695).

***Fixed***: 

* Report critical queue manager service check when connection fails. See [#11737](https://github.com/DataDog/integrations-core/pull/11737).


## 3.20.0 / 2022-03-16

***Added***: 

* Add `auto_discover_channels` option. See [#11678](https://github.com/DataDog/integrations-core/pull/11678).

***Fixed***: 

* Ensure PCFExecute disconnects. See [#11677](https://github.com/DataDog/integrations-core/pull/11677).
* Improve debug logs. See [#11637](https://github.com/DataDog/integrations-core/pull/11637).


## 3.19.1 / 2022-03-01 / Agent 7.35.0

***Fixed***: 

* Fix unique list items and min mapping properties config validations . See [#11574](https://github.com/DataDog/integrations-core/pull/11574).


## 3.19.0 / 2022-02-19

***Added***: 

* Add `pyproject.toml` file. See [#11370](https://github.com/DataDog/integrations-core/pull/11370).

***Fixed***: 

* Fix namespace packaging on Python 2. See [#11532](https://github.com/DataDog/integrations-core/pull/11532).


## 3.18.0 / 2022-02-01

***Added***: 

* Support host override. See [#11223](https://github.com/DataDog/integrations-core/pull/11223).

***Fixed***: 

* Do not allow for empty values in configuration. See [#11138](https://github.com/DataDog/integrations-core/pull/11138).
* Improve log message. See [#11125](https://github.com/DataDog/integrations-core/pull/11125).


## 3.17.0 / 2022-01-08 / Agent 7.34.0

***Added***: 

* Add Windows support to IBM MQ. See [#10737](https://github.com/DataDog/integrations-core/pull/10737).

***Fixed***: 

* Add comment to autogenerated model files. See [#10945](https://github.com/DataDog/integrations-core/pull/10945).


## 3.16.1 / 2021-10-04 / Agent 7.32.0

***Fixed***: 

* ibm mq queue pattern should have precedence over autodiscover. See [#10247](https://github.com/DataDog/integrations-core/pull/10247).


## 3.16.0 / 2021-09-27

***Added***: 

* Add support for queue status and last put/get time metrics. See [#10129](https://github.com/DataDog/integrations-core/pull/10129).


## 3.15.0 / 2021-09-20

***Added***: 

* Disable generic tags. See [#10027](https://github.com/DataDog/integrations-core/pull/10027).

***Fixed***: 

* Fix mypy tests. See [#10134](https://github.com/DataDog/integrations-core/pull/10134).
* Stop emitting incorrect queue warning. See [#10017](https://github.com/DataDog/integrations-core/pull/10017).
* Add debug lines about discovered queues. See [#9969](https://github.com/DataDog/integrations-core/pull/9969).
* Add try-catch on queue closure. See [#9955](https://github.com/DataDog/integrations-core/pull/9955).


## 3.14.1 / 2021-08-22 / Agent 7.31.0

***Fixed***: 

* Do not store previously discovered queues. See [#9821](https://github.com/DataDog/integrations-core/pull/9821).
* Fix typos in log lines. See [#9907](https://github.com/DataDog/integrations-core/pull/9907).


## 3.14.0 / 2021-08-13

***Added***: 

* Add `timeout` option. See [#9896](https://github.com/DataDog/integrations-core/pull/9896).

***Fixed***: 

* Use dedicated instance logger for connection messages. See [#9887](https://github.com/DataDog/integrations-core/pull/9887).
* Do not submit critical service check when there are no messages. See [#9703](https://github.com/DataDog/integrations-core/pull/9703).


## 3.13.3 / 2021-07-15 / Agent 7.30.0

***Fixed***: 

* Add debug line when there are no messages available. See [#9702](https://github.com/DataDog/integrations-core/pull/9702).


## 3.13.2 / 2021-06-09

***Fixed***: 

* Properly close internal reply queues. See [#9488](https://github.com/DataDog/integrations-core/pull/9488).


## 3.13.1 / 2021-06-01 / Agent 7.29.0

***Fixed***: 

* Don't emit any warnings if NO_MSG_AVAILABLE is received. See [#9452](https://github.com/DataDog/integrations-core/pull/9452).


## 3.13.0 / 2021-05-25

***Added***: 

* Add runtime configuration validation. See [#8935](https://github.com/DataDog/integrations-core/pull/8935).

***Fixed***: 

* Try SSL connection when host not found. See [#9404](https://github.com/DataDog/integrations-core/pull/9404).
* Don't emit warnings if there are no messages. See [#9400](https://github.com/DataDog/integrations-core/pull/9400).


## 3.12.0 / 2021-03-07 / Agent 7.27.0

***Added***: 

* Add flag to convert endianness. See [#8601](https://github.com/DataDog/integrations-core/pull/8601).

***Fixed***: 

* Use SSL authentication if SSL params are provided. See [#8531](https://github.com/DataDog/integrations-core/pull/8531).
* Bump minimum base package version. See [#8443](https://github.com/DataDog/integrations-core/pull/8443).


## 3.11.1 / 2021-01-25 / Agent 7.26.0

***Fixed***: 

* Better explain ssl_key_repository_location. See [#8417](https://github.com/DataDog/integrations-core/pull/8417).


## 3.11.0 / 2020-11-19 / Agent 7.25.0

***Added***: 

* Add new queue stats metrics for IBM MQ. See [#8032](https://github.com/DataDog/integrations-core/pull/8032).


## 3.10.0 / 2020-10-31 / Agent 7.24.0

***Added***: 

* [doc] Add encoding in log config sample. See [#7708](https://github.com/DataDog/integrations-core/pull/7708).


## 3.9.0 / 2020-09-21 / Agent 7.23.0

***Added***: 

* Support Certificate Label and login/password for SSL conf. See [#7202](https://github.com/DataDog/integrations-core/pull/7202).

***Fixed***: 

* Raise exception on connection error. See [#7563](https://github.com/DataDog/integrations-core/pull/7563).


## 3.8.2 / 2020-09-10

***Fixed***: 

* Try normal connection before SSL connection. See [#7554](https://github.com/DataDog/integrations-core/pull/7554).
* Improve error reporting when pymqi is not installed. See [#7048](https://github.com/DataDog/integrations-core/pull/7048).
* Fix style for the latest release of Black. See [#7438](https://github.com/DataDog/integrations-core/pull/7438).


## 3.8.1 / 2020-08-10 / Agent 7.22.0

***Fixed***: 

* Update logs config service field to optional. See [#7209](https://github.com/DataDog/integrations-core/pull/7209).


## 3.8.0 / 2020-07-23

***Added***: 

* IBM MQ metadata. See [#6979](https://github.com/DataDog/integrations-core/pull/6979).
* Collect metrics from Statistics Messages. See [#6945](https://github.com/DataDog/integrations-core/pull/6945).

***Fixed***: 

* Avoid shadowing depth_percent function. See [#7132](https://github.com/DataDog/integrations-core/pull/7132).


## 3.7.0 / 2020-06-29 / Agent 7.21.0

***Added***: 

* Add MacOS Support. See [#6927](https://github.com/DataDog/integrations-core/pull/6927).

***Fixed***: 

* Refactor to make encoding more consistent. See [#6995](https://github.com/DataDog/integrations-core/pull/6995).
* Ensure bytes for ssl connection. See [#6913](https://github.com/DataDog/integrations-core/pull/6913).
* Fix template specs typos. See [#6912](https://github.com/DataDog/integrations-core/pull/6912).
* Move metrics collection logic to separate files. See [#6752](https://github.com/DataDog/integrations-core/pull/6752).


## 3.6.0 / 2020-05-17 / Agent 7.20.0

***Added***: 

* Allow optional dependency installation for all checks. See [#6589](https://github.com/DataDog/integrations-core/pull/6589).


## 3.5.1 / 2020-04-08 / Agent 7.19.0

***Fixed***: 

* Don't import pymqi unconditionally. See [#6286](https://github.com/DataDog/integrations-core/pull/6286).


## 3.5.0 / 2020-04-04

***Added***: 

* Apply config specs to IBM MQ. See [#5903](https://github.com/DataDog/integrations-core/pull/5903).

***Fixed***: 

* Update deprecated imports. See [#6088](https://github.com/DataDog/integrations-core/pull/6088).
* Remove logs sourcecategory. See [#6121](https://github.com/DataDog/integrations-core/pull/6121).


## 3.4.0 / 2020-03-11

***Added***: 

* Add `connection_name` configuration. See [#6015](https://github.com/DataDog/integrations-core/pull/6015).
* Add configuration option for the Channel Definition API version. See [#5905](https://github.com/DataDog/integrations-core/pull/5905).
* Upgrade pymqi to 1.10.1. See [#5955](https://github.com/DataDog/integrations-core/pull/5955).

***Fixed***: 

* IBM MQ refactor. See [#5902](https://github.com/DataDog/integrations-core/pull/5902).


## 3.3.1 / 2020-01-17 / Agent 7.17.0

***Fixed***: 

* Fix metric type and missing metrics in metadata.csv. See [#5470](https://github.com/DataDog/integrations-core/pull/5470).


## 3.3.0 / 2020-01-13

***Added***: 

* Use lazy logging format. See [#5398](https://github.com/DataDog/integrations-core/pull/5398).
* Use lazy logging format. See [#5377](https://github.com/DataDog/integrations-core/pull/5377).
* Add channel metrics. See [#5116](https://github.com/DataDog/integrations-core/pull/5116).


## 3.2.1 / 2019-09-18 / Agent 6.15.0

***Fixed***: 

* Improve IBM MQ docs and logging. See [#4540](https://github.com/DataDog/integrations-core/pull/4540).
* Fix duplicate service checks. See [#4525](https://github.com/DataDog/integrations-core/pull/4525).


## 3.2.0 / 2019-08-21 / Agent 6.14.0

***Added***: 

* Add channel_status_mapping config. See [#4395](https://github.com/DataDog/integrations-core/pull/4395).


## 3.1.1 / 2019-07-29

***Fixed***: 

* Fix ibm_mq e2e import issue. See [#4140](https://github.com/DataDog/integrations-core/pull/4140).


## 3.1.0 / 2019-07-04 / Agent 6.13.0

***Added***: 

* Add ibm_mq.channel.count metric and ibm_mq.channel.status service check. See [#3958](https://github.com/DataDog/integrations-core/pull/3958).

***Fixed***: 

* Use MQCMD_INQUIRE_Q instead of queue.inquire. See [#3997](https://github.com/DataDog/integrations-core/pull/3997).


## 3.0.0 / 2019-06-20

***Changed***: 

* [ibm_mq] fix queue auto discovery to include any type in addition to qmodel and included regex matching on queue names. See [#3893](https://github.com/DataDog/integrations-core/pull/3893).


## 2.0.0 / 2019-04-16 / Agent 6.12.0

***Changed***: 

* Breaking change: Change host tag for mq_host. Dashboards and monitors may be affected. See [#3608](https://github.com/DataDog/integrations-core/pull/3608).

***Added***: 

* Adhere to code style. See [#3519](https://github.com/DataDog/integrations-core/pull/3519).

***Fixed***: 

* fix queue_manager variable naming of IBM MQ. See [#3592](https://github.com/DataDog/integrations-core/pull/3592).


## 1.2.0 / 2019-03-29 / Agent 6.11.0

***Added***: 

* Add ability to add additional tags to queues matching a regex. See [#3399](https://github.com/DataDog/integrations-core/pull/3399).
* adds channel metrics. See [#3360](https://github.com/DataDog/integrations-core/pull/3360).

***Fixed***: 

* fix ssl variable naming for IBM MQ. See [#3312](https://github.com/DataDog/integrations-core/pull/3312).


## 1.1.0 / 2019-02-18 / Agent 6.10.0

***Added***: 

* Autodiscover queues. See [#3061](https://github.com/DataDog/integrations-core/pull/3061).


## 1.0.1 / 2019-01-04 / Agent 6.9.0

***Fixed***: 

* Fix Oldest Message Age. See [#2859][1].


## 1.0.0 / 2018-12-09 / Agent 6.8.0

***Added***: 

* IBM MQ Integration. See [#2154][2].


[1]: https://github.com/DataDog/integrations-core/pull/2859
[2]: https://github.com/DataDog/integrations-core/pull/2154
