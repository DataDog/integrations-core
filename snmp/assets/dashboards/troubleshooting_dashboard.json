{
    "author_name": "Datadog",
    "description": null,
    "layout_type": "ordered",
    "template_variables": [
        {
            "available_values": [],
            "default": "*",
            "name": "Host",
            "prefix": "host"
        }
    ],
    "title": "NDM Troubleshooting Dashboard",
    "widgets": [
        {
            "definition": {
                "background_color": "white",
                "layout_type": "ordered",
                "show_title": true,
                "title": "NDM Troubleshooting Dashboard",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "background_color": "transparent",
                            "content": "This is a high level overview of the health of your network devices monitoring. You can track health and performance of your running agents, as well as SNMP, Traps and NetFlow integrations.\n\n**Further reading on NDM**\n\n- Our blog post on [Monitoring Datacenters and network devices with Datadog](https://www.datadoghq.com/blog/datacenter-monitoring-dashboards/)\n- Our blog post on [Monitoring network devices with SNMP](https://www.datadoghq.com/blog/monitor-snmp-with-datadog/)\n- Network Device Monitoring [docs](https://docs.datadoghq.com/network_performance_monitoring/devices) ",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": false,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "top"
                        },
                        "id": 3628964508547190,
                        "layout": {
                            "height": 4,
                            "width": 6,
                            "x": 0,
                            "y": 0
                        }
                    }
                ]
            },
            "id": 2663583616845740,
            "layout": {
                "height": 5,
                "width": 6,
                "x": 0,
                "y": 0
            }
        },
        {
            "definition": {
                "background_color": "pink",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Overview",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 0,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "last",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:snmp.devices_monitored{agent_host:$Host.value}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Devices monitored",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 5448907116074094,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.snmp.submitted_metrics{agent_host:$Host.value}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Submitted metrics",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 3962787759927314,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "compute": {
                                                "aggregation": "count"
                                            },
                                            "data_source": "logs",
                                            "group_by": [],
                                            "indexes": [
                                                "*"
                                            ],
                                            "name": "query1",
                                            "search": {
                                                "query": "source:snmp-traps"
                                            }
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Traps indexed",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 6115005518968934,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query3"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "compute": {
                                                "aggregation": "count"
                                            },
                                            "data_source": "network_device_flows",
                                            "group_by": [],
                                            "indexes": [
                                                "*"
                                            ],
                                            "name": "query3",
                                            "search": {
                                                "query": ""
                                            }
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Flows indexed",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 3547436194124732,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 2
                        }
                    }
                ]
            },
            "id": 4997228044177920,
            "layout": {
                "height": 5,
                "width": 6,
                "x": 6,
                "y": 0
            }
        },
        {
            "definition": {
                "background_color": "blue",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Agents",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "has_search_bar": "auto",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "alias": "CPU",
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query1",
                                            "limit": {
                                                "count": 50,
                                                "order": "desc"
                                            }
                                        },
                                        {
                                            "alias": "MEMORY",
                                            "cell_display_mode": "bar",
                                            "formula": "(query2 / query3) * 100",
                                            "number_format": {
                                                "unit": {
                                                    "type": "canonical_unit",
                                                    "unit_name": "percent"
                                                }
                                            }
                                        },
                                        {
                                            "alias": "DISK",
                                            "cell_display_mode": "bar",
                                            "formula": "(query4 / query5) * 100",
                                            "number_format": {
                                                "unit": {
                                                    "type": "canonical_unit",
                                                    "unit_name": "percent"
                                                }
                                            }
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:system.cpu.user{$Host} by {host}"
                                        },
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:system.mem.used{$Host} by {host}"
                                        },
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query3",
                                            "query": "avg:system.mem.total{$Host} by {host}"
                                        },
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query4",
                                            "query": "avg:system.disk.used{$Host} by {host}"
                                        },
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query5",
                                            "query": "avg:system.disk.total{$Host} by {host}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Running agents",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_table"
                        },
                        "id": 7022637295997678,
                        "layout": {
                            "height": 4,
                            "width": 4,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [
                                {
                                    "display_type": "error dashed",
                                    "value": "y = 100"
                                }
                            ],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "top(query1, 50, 'mean', 'desc')"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:system.cpu.user{$Host} by {host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "blue"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "CPU",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3003257047015150,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [
                                {
                                    "display_type": "error dashed",
                                    "value": "y = 100"
                                }
                            ],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "top((query1 / query2) * 100, 50, 'mean', 'desc')"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:system.mem.used{$Host} by {host}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:system.mem.total{$Host} by {host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "blue"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Memory",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3478725624423596,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.agent.running{$Host} by {version}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "blue"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Running versions",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3765410346567274,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.agent.started{$Host} by {version}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "blue"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Agent Restarts",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 5753872191409390,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 2
                        }
                    }
                ]
            },
            "id": 7775029902313268,
            "layout": {
                "height": 5,
                "width": 12,
                "x": 0,
                "y": 5
            }
        },
        {
            "definition": {
                "background_color": "green",
                "layout_type": "ordered",
                "show_title": true,
                "title": "SNMP",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "last",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:snmp.device.reachable{agent_host:$Host.value}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Devices reachable",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 1777355458473480,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**Why are my devices unreachable ?**\n\nAn unreachable device means that the agent cannot connect to it. \n-  Try loosening ACLs/firewall rules for your devices. You can check connectivity from the Agent host to a network device by using the integrated `agent snmp walk` command.",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "75%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 7875957059726684,
                        "layout": {
                            "height": 4,
                            "width": 3,
                            "x": 3,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "custom_links": [
                                {
                                    "is_hidden": true,
                                    "override_label": "traces"
                                },
                                {
                                    "is_hidden": true,
                                    "override_label": "profiles"
                                },
                                {
                                    "label": "Device performance",
                                    "link": "https://app.datadoghq.com/dash/integration/30409/network-device-monitoring?tpl_var_snmp_device[0]={{snmp_device}}&tpl_var_snmp_host[0]={{snmp_host}}&live=true&from_ts={{timestamp_start}}&to_ts={{timestamp_end}}"
                                }
                            ],
                            "has_search_bar": "auto",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "alias": "Status",
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [
                                                {
                                                    "comparator": ">",
                                                    "palette": "black_on_light_green",
                                                    "value": 0
                                                },
                                                {
                                                    "comparator": "<=",
                                                    "palette": "black_on_light_red",
                                                    "value": 0
                                                }
                                            ],
                                            "formula": "query1",
                                            "limit": {
                                                "count": 500,
                                                "order": "asc"
                                            }
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:snmp.device.reachable{*} by {snmp_host,snmp_device,snmp_profile}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Device status",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_table"
                        },
                        "id": 5449853565034480,
                        "layout": {
                            "height": 8,
                            "width": 6,
                            "x": 6,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 0,
                            "requests": [
                                {
                                    "conditional_formats": [
                                        {
                                            "comparator": ">=",
                                            "palette": "red_on_white",
                                            "value": 1
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "last",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:snmp.device.unreachable{agent_host:$Host.value}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Devices unreachable",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 780110642340810,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**Any python integration usage ?**\n\nYou can use a more recent and faster SNMP integration, to benefit from the newest features of the Network Device Monitoring product.\n\n[Follow this guide to migrate from the python integration to the core check.](https://docs.datadoghq.com/network_monitoring/devices/guide/migrating-to-snmp-core-check)",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "right",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 792699600428684,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 0,
                            "requests": [
                                {
                                    "conditional_formats": [
                                        {
                                            "comparator": ">=",
                                            "palette": "black_on_light_yellow",
                                            "value": 1
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "default_zero(query1)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "last",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:snmp.devices_monitored{loader:python,agent_host:$Host.value}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Devices monitored using python integration",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 7163614881507442,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 0,
                            "requests": [
                                {
                                    "conditional_formats": [
                                        {
                                            "comparator": ">",
                                            "palette": "black_on_light_yellow",
                                            "value": 0
                                        }
                                    ],
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "last",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:snmp.devices_monitored{snmp_profile:generic-router,agent_host:$Host.value}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Devices monitored using generic profile",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 6148374944546170,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 0,
                            "y": 6
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**Why are my devices matched to the generic router profile ?**\n\nSome devices may not be supported out of the box and will default to the generic router profile, which may miss some metrics.\n\n[Follow this guide to create a custom SNMP profile for your network devices.](https://docs.datadoghq.com/fr/network_monitoring/devices/guide/build-ndm-profile/)",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 8897893996896618,
                        "layout": {
                            "height": 2,
                            "width": 3,
                            "x": 3,
                            "y": 6
                        }
                    },
                    {
                        "definition": {
                            "custom_links": [
                                {
                                    "is_hidden": true,
                                    "override_label": "traces"
                                },
                                {
                                    "is_hidden": true,
                                    "override_label": "profiles"
                                },
                                {
                                    "label": "Device performance",
                                    "link": "https://app.datadoghq.com/dash/integration/30409/network-device-monitoring?tpl_var_snmp_device[0]={{snmp_device}}&tpl_var_snmp_host[0]={{snmp_host}}&live=true&from_ts={{timestamp_start}}&to_ts={{timestamp_end}}"
                                }
                            ],
                            "has_search_bar": "auto",
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "alias": "Check duration",
                                            "cell_display_mode": "bar",
                                            "conditional_formats": [],
                                            "formula": "query1",
                                            "limit": {
                                                "count": 500,
                                                "order": "desc"
                                            }
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.snmp.check_duration{agent_host:$Host.value} by {snmp_host,snmp_device,snmp_profile}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Check duration",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_table"
                        },
                        "id": 735654265082152,
                        "layout": {
                            "height": 8,
                            "width": 6,
                            "x": 0,
                            "y": 8
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**Abnormal check duration/interval ?**\n\n- Try increasing number of check runners in your `datadog.yaml` config\n- You can also increase the `oid_batch_size` in SNMP conf. Be careful, as a high value can lead to timeouts on some network devices.",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 7849039364315490,
                        "layout": {
                            "height": 2,
                            "width": 6,
                            "x": 6,
                            "y": 8
                        }
                    },
                    {
                        "definition": {
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.snmp.check_duration{*} by {snmp_host}"
                                        }
                                    ],
                                    "response_format": "scalar",
                                    "style": {
                                        "palette": "dog_classic"
                                    }
                                }
                            ],
                            "show_legend": false,
                            "title": "Check duration",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "distribution",
                            "xaxis": {
                                "include_zero": true,
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            },
                            "yaxis": {
                                "include_zero": true,
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 4206875433855820,
                        "layout": {
                            "height": 2,
                            "width": 6,
                            "x": 6,
                            "y": 10
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Duration",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Interval",
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.snmp.check_duration{agent_host:$Host.value} by {agent_host}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:datadog.snmp.check_interval{agent_host:$Host.value} by {agent_host}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "green"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Average check duration and interval",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 5001526233424088,
                        "layout": {
                            "height": 2,
                            "width": 6,
                            "x": 6,
                            "y": 12
                        }
                    },
                    {
                        "definition": {
                            "custom_links": [
                                {
                                    "is_hidden": true,
                                    "override_label": "traces"
                                },
                                {
                                    "is_hidden": true,
                                    "override_label": "profiles"
                                },
                                {
                                    "label": "Device performance",
                                    "link": "https://app.datadoghq.com/dash/integration/30409/network-device-monitoring?tpl_var_snmp_device[0]={{snmp_device}}&tpl_var_snmp_host[0]={{snmp_host}}&live=true&from_ts={{timestamp_start}}&to_ts={{timestamp_end}}"
                                }
                            ],
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Check duration",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Average check duration",
                                            "formula": "query2",
                                            "style": {
                                                "palette": "warm",
                                                "palette_index": 5
                                            }
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.snmp.check_duration{agent_host:$Host.value} by {snmp_device,snmp_host}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:datadog.snmp.check_duration{agent_host:$Host.value}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "green"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Average check duration by SNMP device",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 6160580379144472,
                        "layout": {
                            "height": 2,
                            "width": 6,
                            "x": 6,
                            "y": 14
                        }
                    },
                    {
                        "definition": {
                            "custom_links": [
                                {
                                    "is_hidden": true,
                                    "override_label": "traces"
                                },
                                {
                                    "is_hidden": true,
                                    "override_label": "profiles"
                                },
                                {
                                    "label": "Device performance",
                                    "link": "https://app.datadoghq.com/dash/integration/30409/network-device-monitoring?tpl_var_snmp_device[0]={{snmp_device}}&tpl_var_snmp_host[0]={{snmp_host}}&from_ts={{timestamp_start}}&to_ts={{timestamp_end}}"
                                }
                            ],
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.snmp.submitted_metrics{agent_host:$Host.value} by {snmp_device,snmp_host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "green"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Submitted metrics by device",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 5801694486858972,
                        "layout": {
                            "height": 2,
                            "width": 6,
                            "x": 0,
                            "y": 16
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**No metrics are collected ?**\n\n- Try loosening ACLs/firewall rules for your devices. You can check connectivity from the agent host to a network device by using the integrated `agent snmp walk` command.\n- Check connectivity between the Agent host and Datadog.",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 4718119505230002,
                        "layout": {
                            "height": 2,
                            "width": 6,
                            "x": 6,
                            "y": 16
                        }
                    },
                    {
                        "definition": {
                            "autoscale": true,
                            "precision": 2,
                            "requests": [
                                {
                                    "formulas": [
                                        {
                                            "formula": "count_not_null(query1)"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "aggregator": "avg",
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:snmp.devices_monitored{agent_host:$Host.value,autodiscovery_subnet:*} by {autodiscovery_subnet}"
                                        }
                                    ],
                                    "response_format": "scalar"
                                }
                            ],
                            "title": "Autodiscovery subnets",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "query_value"
                        },
                        "id": 5659283089795536,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 18
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:snmp.devices_monitored{agent_host:$Host.value} by {autodiscovery_subnet}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "green"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Devices autodiscovered",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 3939913409583366,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 18
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "You can find more information on how to setup network devices autodiscovery using the Datadog agent in the following article. \n\n[Collect SNMP Metrics From Your Network Devices](https://docs.datadoghq.com/network_monitoring/devices/snmp_metrics/?tab=snmpv2#autodiscovery)",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 7889780943665434,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 18
                        }
                    }
                ]
            },
            "id": 1819147315966742,
            "layout": {
                "height": 21,
                "width": 12,
                "x": 0,
                "y": 10
            }
        },
        {
            "definition": {
                "background_color": "orange",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Traps",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "compute": {
                                                "aggregation": "count"
                                            },
                                            "data_source": "logs",
                                            "group_by": [],
                                            "indexes": [
                                                "*"
                                            ],
                                            "name": "query1",
                                            "search": {
                                                "query": "source:snmp-traps"
                                            }
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "orange"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Traps indexed",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 2416305919884594,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:go_expvar.snmp_traps.packets{*} by {host}.as_rate()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "orange"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Traps received",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 8643554569953074,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "0"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:go_expvar.logs_agent.logs_sent{*} by {host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "orange"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Traps sent",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 5435340318203252,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "0"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:go_expvar.snmp_traps.packets{*} by {host}.as_rate()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "No enrichment",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 4342268029773172,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "0"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:go_expvar.snmp_traps.packets{*} by {host}.as_rate()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Traps packets auth error (TODO)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 3191723162528076,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "markers": [],
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "0"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:go_expvar.snmp_traps.packets{*} by {host}.as_rate()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "red"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Format failed",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": true,
                                "label": "",
                                "max": "auto",
                                "min": "auto",
                                "scale": "linear"
                            }
                        },
                        "id": 8068148940340026,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 2
                        }
                    }
                ]
            },
            "id": 5474701659400592,
            "layout": {
                "height": 1,
                "is_column_break": true,
                "width": 12,
                "x": 0,
                "y": 31
            }
        },
        {
            "definition": {
                "background_color": "purple",
                "layout_type": "ordered",
                "show_title": true,
                "title": "Netflow",
                "type": "group",
                "widgets": [
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Raw flows received by agent",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Flows sent by agent to backend",
                                            "formula": "query2"
                                        },
                                        {
                                            "alias": "Flows stored in backend",
                                            "formula": "query3"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.netflow.aggregator.flows_received{$Host} by {host}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "sum:datadog.netflow.aggregator.flows_flushed{$Host} by {host}.as_count()"
                                        },
                                        {
                                            "compute": {
                                                "aggregation": "count"
                                            },
                                            "data_source": "network_device_flows",
                                            "group_by": [],
                                            "indexes": [
                                                "*"
                                            ],
                                            "name": "query3",
                                            "search": {
                                                "query": ""
                                            }
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Netflow flows received, flushed and stored in Datadog",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 2668407055310816,
                        "layout": {
                            "height": 2,
                            "width": 7,
                            "x": 0,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**Why is there a difference between the number of received flow and sent to Datadog ?**\n\nNetflow flows are aggregated agent side, with a default flush time of 5 mins. It means that if two flows with the same source, destination and protocol are collected within 5 mins, they will appear as one in the NDM UI. \n",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "top"
                        },
                        "id": 2155094662673870,
                        "layout": {
                            "height": 2,
                            "width": 5,
                            "x": 7,
                            "y": 0
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query3"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query3",
                                            "query": "sum:datadog.netflow.traffic.packets{$Host} by {listener_port,exporter_ip}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "NetFlow packets per Exporter IP",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 1581438962270510,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query3"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "compute": {
                                                "aggregation": "count"
                                            },
                                            "data_source": "network_device_flows",
                                            "group_by": [
                                                {
                                                    "facet": "@exporter.ip",
                                                    "limit": 10,
                                                    "sort": {
                                                        "aggregation": "count",
                                                        "order": "desc"
                                                    }
                                                }
                                            ],
                                            "indexes": [
                                                "*"
                                            ],
                                            "name": "query3",
                                            "search": {
                                                "query": ""
                                            }
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "NetFlow flows indexed by Exporter IP",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 94895140851006,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "alias": "Gap",
                                            "formula": "query2 - query3"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "sum:datadog.netflow.aggregator.flows_flushed{$Host}.as_count()"
                                        },
                                        {
                                            "compute": {
                                                "aggregation": "count"
                                            },
                                            "data_source": "network_device_flows",
                                            "group_by": [],
                                            "indexes": [
                                                "*"
                                            ],
                                            "name": "query3",
                                            "search": {
                                                "query": ""
                                            }
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Gap in Flows (Agent Flushed - Stored in Datadog)",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 5931787176867662,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 2
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.netflow.aggregator.flows_contexts{$Host} by {host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Flow contexts",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 5636371141448454,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Duration",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Interval",
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.netflow.aggregator.flush_duration{$Host} by {host}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:datadog.netflow.aggregator.flush_interval{$Host} by {host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Flush duration and interval",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 562795752102848,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.netflow.aggregator.flows_flushed{$Host} by {host}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Flows flushed",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 2983214365183878,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 4
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**What is NetFlow port rollup ?**\n\nNetFlow flows with a source or destination port that is detected as ephemeral will be aggregated together. To detect these ephemeral ports we keep a record of every source / destination port combinaison seen in the last 5 minutes. If a specific source port is associated to more than 10 different destination ports during that time, the destination port will be marked as ephemeral and all flows with this source port will be aggregated.\n\n  ",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "right",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "center"
                        },
                        "id": 8998029467490578,
                        "layout": {
                            "height": 3,
                            "width": 4,
                            "x": 0,
                            "y": 6
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Current store size",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "New store size",
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.netflow.aggregator.port_rollup.current_store_size{$Host} by {host}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:datadog.netflow.aggregator.port_rollup.new_store_size{$Host} by {host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Port rollup",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3862271101257530,
                        "layout": {
                            "height": 3,
                            "width": 8,
                            "x": 4,
                            "y": 6
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.netflow.traffic.bytes{$Host} by {host}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Bytes received",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3338699430806034,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 9
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.netflow.traffic.packets{$Host} by {host}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Packets received",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 3045968110036954,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 9
                        }
                    },
                    {
                        "definition": {
                            "background_color": "white",
                            "content": "**No packets received ?**\n\n- Check your NetFlow exporter configuration and ensure it is sending flows to the right port.\n- Check NetFlow server listening port, ensure it is using an unprivileged port (> 1024) or allow the Datadog agent to listen on privileged ports.\n",
                            "font_size": "14",
                            "has_padding": true,
                            "show_tick": true,
                            "text_align": "left",
                            "tick_edge": "left",
                            "tick_pos": "50%",
                            "type": "note",
                            "vertical_align": "top"
                        },
                        "id": 1108502935304848,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 9
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Decoded",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Processed",
                                            "formula": "query2"
                                        },
                                        {
                                            "alias": "Decoded - processed",
                                            "formula": "query1 - query2",
                                            "style": {
                                                "palette": "red"
                                            }
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.netflow.decoder.messages{$Host} by {host}.as_count()"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "sum:datadog.netflow.processor.flows{$Host} by {host}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Flows decoded vs  processed",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 439388606056846,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 11
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "line",
                                    "formulas": [
                                        {
                                            "alias": "Length",
                                            "formula": "query1"
                                        },
                                        {
                                            "alias": "Capacity",
                                            "formula": "query2"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "avg:datadog.netflow.aggregator.input_buffer.length{$Host} by {host}"
                                        },
                                        {
                                            "data_source": "metrics",
                                            "name": "query2",
                                            "query": "avg:datadog.netflow.aggregator.input_buffer.capacity{$Host} by {host}"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "Input buffer length and capacity",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries",
                            "yaxis": {
                                "include_zero": false
                            }
                        },
                        "id": 7376343243995186,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 4,
                            "y": 11
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.netflow.aggregator.hash_collisions{$Host} by {host}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "title": "Hash collisions",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 6036396658807928,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 8,
                            "y": 11
                        }
                    },
                    {
                        "definition": {
                            "legend_columns": [
                                "avg",
                                "min",
                                "max",
                                "value",
                                "sum"
                            ],
                            "legend_layout": "auto",
                            "requests": [
                                {
                                    "display_type": "bars",
                                    "formulas": [
                                        {
                                            "formula": "query1"
                                        }
                                    ],
                                    "queries": [
                                        {
                                            "data_source": "metrics",
                                            "name": "query1",
                                            "query": "sum:datadog.netflow.processor.flowsets{$Host} by {host}.as_count()"
                                        }
                                    ],
                                    "response_format": "timeseries",
                                    "style": {
                                        "line_type": "solid",
                                        "line_width": "normal",
                                        "palette": "purple"
                                    }
                                }
                            ],
                            "show_legend": true,
                            "time": {},
                            "title": "NetFlows FlowSets",
                            "title_align": "left",
                            "title_size": "16",
                            "type": "timeseries"
                        },
                        "id": 2384985967892864,
                        "layout": {
                            "height": 2,
                            "width": 4,
                            "x": 0,
                            "y": 13
                        }
                    }
                ]
            },
            "id": 2504847901545020,
            "layout": {
                "height": 16,
                "width": 12,
                "x": 0,
                "y": 32
            }
        }
    ]
}