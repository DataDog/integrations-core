# Environmental monitoring (temperature, fan, power supply)
metrics:
  - MIB: CISCO-ENVMON-MIB
    table:
      OID: 1.3.6.1.4.1.9.9.13.1.3
      name: ciscoEnvMonTemperatureStatusTable
    symbols:
      - OID: 1.3.6.1.4.1.9.9.13.1.3.1.3
        name: ciscoEnvMonTemperatureStatusValue
    metric_tags:
      - tag: temp_state
        symbol:
          OID: 1.3.6.1.4.1.9.9.13.1.3.1.6
          name: ciscoEnvMonTemperatureState
        mapping:
          1: normal
          2: warning
          3: critical
          4: shutdown
          5: not_present
          6: not_functioning
      - tag: temp_index
        index: 1

  - MIB: CISCO-ENVMON-MIB
    table:
      OID: 1.3.6.1.4.1.9.9.13.1.5
      name: ciscoEnvMonSupplyStatusTable
    symbols:
      - OID: 1.3.6.1.4.1.9.9.13.1.5.1.3
        name: ciscoEnvMonSupplyState
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.9.9.13.1.5.1.4
          name: ciscoEnvMonSupplySource
        tag: power_source
        mapping:
          1: unknown
          2: ac
          3: dc
          4: external_power_supply
          5: internal_redundant
      - symbol:
          OID: 1.3.6.1.4.1.9.9.13.1.5.1.2
          name: ciscoEnvMonSupplyStatusDescr
        tag: power_status_descr

  - MIB: CISCO-ENVMON-MIB
    table:
      OID: 1.3.6.1.4.1.9.9.13.1.4
      name: ciscoEnvMonFanStatusTable
    symbols:
      - OID: 1.3.6.1.4.1.9.9.13.1.4.1.3
        name: ciscoEnvMonFanState
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.9.9.13.1.4.1.1
          name: ciscoEnvMonFanStatusIndex
        tag: fan_status_index

