extends:
  - _base.yaml
  - _generic-host-resources-base.yaml
  - _generic-ucd.yaml
#  - dell.yaml  # TODO: check hierarchy
#  - if32-mib.yaml  # TODO: later (https://datadoghq.atlassian.net/browse/NDM-1933)

metadata:
  device:
    fields:
      vendor:
        value: "dell"

sysobjectid:
  - 1.3.6.1.4.1.674.11000.5000.100.2.*      # OS10 family
  - 1.3.6.1.4.1.674.11000.5000.100.2.1.1    # s6000on
  - 1.3.6.1.4.1.674.11000.5000.100.2.1.9    # s4128Ton
  - 1.3.6.1.4.1.674.11000.5000.100.2.1.20   # s5232Fon
  - 1.3.6.1.4.1.674.11000.5000.100.2.1.21   # s5248Fon

metrics:
  - MIB: HOST-RESOURCES-MIB
    table:
      OID: 1.3.6.1.2.1.25.3.3
      name: hrProcessorTable
    symbols:
      - OID: 1.3.6.1.2.1.25.3.3.1.2
        name: cpu.usage
    metric_tags:
      - tag: hr_processor_frw_id
        column:
          OID: 1.3.6.1.2.1.25.3.3.1.1
          name: hrProcessorFrwID
  - MIB: HOST-RESOURCES-MIB
    symbol:
      name: memory.total
      OID: 1.3.6.1.2.1.25.2.3.1.5.1
  - MIB: HOST-RESOURCES-MIB
    symbol:
      name: memory.used
      OID: 1.3.6.1.2.1.25.2.3.1.6.1
  - MIB: DELLEMC-OS10-CHASSIS-MIB
    symbol:
      name: os10ChassisTemp
      OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.3.1.11
  - MIB: DELLEMC-OS10-CHASSIS-MIB
    table:
      OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.4
      name: os10CardTable
    symbols:
      - OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.4.1.5
        name: os10CardTemp
    metric_tags:
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.4.1.3
          name: os10CardDescription
        tag: os10_card_description
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.4.1.9
          name: os10CardServiceTag
        tag: os10_card_service_tag
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.4.1.4
          name: os10CardStatus
        tag: os10_card_status
        mapping:
          1: up
          2: down
          3: testing
          4: unknown
          5: dormant
          6: not_present
          7: lower_layer_down
          8: failed
  - MIB: DELLEMC-OS10-CHASSIS-MIB
    table:
      OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.2.1
      name: os10PowerSupplyTable
    symbols:
      - name: os10PowerSupply
        constant_value_one: true
    metric_tags:
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.2.1.1.4
          name: os10PowerSupplyOperStatus
        tag: os10_power_supply_oper_status
        mapping:
          1: up
          2: down
          3: testing
          4: unknown
          5: dormant
          6: not_present
          7: lower_layer_down
          8: failed
  - MIB: DELLEMC-OS10-CHASSIS-MIB
    table:
      OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.2.2
      name: os10FanTrayTable
    symbols:
      - name: os10FanTray
        constant_value_one: true
    metric_tags:
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.2.2.1.4
          name: os10FanTrayOperStatus
        tag: os10_fan_tray_oper_status
        mapping:
          1: up
          2: down
          3: testing
          4: unknown
          5: dormant
          6: not_present
          7: lower_layer_down
          8: failed
  - MIB: DELLEMC-OS10-CHASSIS-MIB
    table:
      OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.2.3
      name: os10FanTable
    symbols:
      - name: os10Fan
        constant_value_one: true
    metric_tags:
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.2.3.1.7
          name: os10FanOperStatus
        tag: os10_fan_oper_status
        mapping:
          1: up
          2: down
          3: testing
          4: unknown
          5: dormant
          6: not_present
          7: lower_layer_down
          8: failed
  - MIB: DELLEMC-OS10-BGP4V2-MIB
    table:
      OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2
      name: os10bgp4V2PeerTable
    symbols:
      - name: os10bgp4V2Peer
        constant_value_one: true
    metric_tags:
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.2
          name: os10bgp4V2PeerLocalAddrType
        tag: os10bgp4_v2_peer_local_addr_type
        mapping:
          0: unknown
          1: ipv4
          2: ipv6
          3: ipv4z
          4: ipv6z
          16: dns
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.3
          name: os10bgp4V2PeerLocalAddr
        tag: os10bgp4_v2_peer_local_addr
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.4
          name: os10bgp4V2PeerRemoteAddrType
        tag: os10bgp4_v2_peer_remote_addr_type
        mapping:
          0: unknown
          1: ipv4
          2: ipv6
          3: ipv4z
          4: ipv6z
          16: dns
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.5
          name: os10bgp4V2PeerRemoteAddr
        tag: os10bgp4_v2_peer_remote_addr
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.6
          name: os10bgp4V2PeerLocalPort
        tag: os10bgp4_v2_peer_local_port
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.7
          name: os10bgp4V2PeerLocalAs
        tag: os10bgp4_v2_peer_local_as
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.8
          name: os10bgp4V2PeerLocalIdentifier
        tag: os10bgp4_v2_peer_local_identifier
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.9
          name: os10bgp4V2PeerRemotePort
        tag: os10bgp4_v2_peer_remote_port
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.10
          name: os10bgp4V2PeerRemoteAs
        tag: os10bgp4_v2_peer_remote_as
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.11
          name: os10bgp4V2PeerRemoteIdentifier
        tag: os10bgp4_v2_peer_remote_identifier
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.14
          name: os10bgp4V2PeerDescription
        tag: os10bgp4_v2_peer_description
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.12
          name: os10bgp4V2PeerAdminStatus
        tag: os10bgp4_v2_peer_admin_status
        mapping:
          1: halted
          2: running
      - column:
          OID: 1.3.6.1.4.1.674.11000.5000.200.1.1.2.1.13
          name: os10bgp4V2PeerState
        tag: os10bgp4_v2_peer_state
        mapping:
          1: idle
          2: connect
          3: active
          4: opensent
          5: openconfirm
          6: established
metric_tags:
  - OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.3.1.6
    symbol: os10ChassisHwRev
    tag: os10_chassis_hw_rev
  - OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.3.1.7
    symbol: os10ChassisServiceTag
    tag: os10_chassis_service_tag
  - OID: 1.3.6.1.4.1.674.11000.5000.100.4.1.1.3.1.8
    symbol: os10ChassisExpServiceCode
    tag: os10_chassis_exp_service_code
