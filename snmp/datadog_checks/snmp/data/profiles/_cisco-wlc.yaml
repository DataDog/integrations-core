# Base profile for Cisco Wireless LAN Controllers

device:
  vendor: "cisco"

metrics:
  # Connected APs metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.2.1
      name: bsnAPTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.2.1.1.6
        name: bsnAPOperationStatus # 1 : associated, 2 : disassociating, 3 : downloading
      - OID: 1.3.6.1.4.1.14179.2.2.1.1.37
        name: bsnAPAdminStatus # 1: enable, 2: disable
    metric_tags:
      - tag: ap_name
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.3
          name: bsnAPName
      - tag: ap_location
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.4
          name: bsnAPLocation
      - tag: ap_ip_address
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.19
          name: bsnApIpAddress

  # Connected APs 802.11 interfaces metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.2.2
      name: bsnAPIfTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.2.2.1.12
        name: bsnAPIfOperStatus # 1 : down, 2 : up
      - OID: 1.3.6.1.4.1.14179.2.2.2.1.34
        name: bsnAPIfAdminStatus # 1 : enable, 2 : disable
      - OID: 1.3.6.1.4.1.14179.2.2.2.1.15
        name: bsnApIfNoOfUsers
        forced_type: gauge
    metric_tags:
      - tag: slot_id
        column:
          OID: 1.3.6.1.4.1.14179.2.2.2.1.1
          name: bsnAPIfSlotId
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.3
          name: bsnAPName
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 5
        tag: ap_name
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.4
          name: bsnAPLocation
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 5
        tag: ap_location
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.19
          name: bsnApIpAddress
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 5
        tag: ap_ip_address

  # Load metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.2.13
      name: bsnAPIfLoadParametersTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.1
        name: bsnAPIfLoadRxUtilization
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.2
        name: bsnAPIfLoadTxUtilization
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.24
        name: bsnAPIfPoorSNRClients
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.3
        name: bsnAPIfLoadChannelUtilization
    metric_tags:
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.2.1.1
          name: bsnAPIfSlotId
        table: bsnAPIfTable
        tag: slot_id
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.3
          name: bsnAPName
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 5
        tag: ap_name
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.4
          name: bsnAPLocation
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 5
        tag: ap_location
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.19
          name: bsnApIpAddress
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 5
        tag: ap_ip_address

  # WLAN Metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.1.1
      name: bsnDot11EssTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.1.1.1.6
        name: bsnDot11EssAdminStatus # 0 : disabled, 1 : enabled
      - OID: 1.3.6.1.4.1.14179.2.1.1.1.60 # 1 : active, 2 : notInService, 3 : notReady
        name: bsnDot11EssRowStatus
      - OID: 1.3.6.1.4.1.14179.2.1.1.1.38
        name: bsnDot11EssNumberOfMobileStations
        forced_type: gauge
    metric_tags:
      - tag: wlan_index
        column:
          OID: 1.3.6.1.4.1.14179.2.1.1.1.1
          name: bsnDot11EssIndex
      - tag: ssid
        column:
          OID: 1.3.6.1.4.1.14179.2.1.1.1.2
          name: bsnDot11EssSsid
