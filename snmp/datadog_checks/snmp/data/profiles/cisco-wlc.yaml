# Profile for cisco Wireless LAN Controllers

extends:
  - _base.yaml
  - _cisco-generic.yaml

device:
  vendor: "cisco"

sysobjectid:
  - 1.3.6.1.4.1.9.1.818  # ciscoNMWLCE
  - 1.3.6.1.4.1.9.1.828  # ciscoAirWlc2106K9
  - 1.3.6.1.4.1.9.1.1069 # cisco5500Wlc
  - 1.3.6.1.4.1.9.1.1295 # cisco7500Wlc
  - 1.3.6.1.4.1.9.1.1615 # cisco8500WLC
  - 1.3.6.1.4.1.9.1.1631 # ciscoVirtualWlc TODO : CHECK ME
  - 1.3.6.1.4.1.9.1.1645 # cisco5760wlc
  - 1.3.6.1.4.1.9.1.1926 # ciscoWlcCt5508K9
  - 1.3.6.1.4.1.9.1.1927 # ciscoWlcCt2504K9
  - 1.3.6.1.4.1.9.1.2170 # cisco5520WLC
  - 1.3.6.1.4.1.9.1.2171 # cisco8540Wlc
  - 1.3.6.1.4.1.9.1.2427 # cisco3504WLC
  - 1.3.6.1.4.1.9.1.2530 # ciscoC980040K9
  - 1.3.6.1.4.1.9.1.2531 # ciscoAIRCT9880K9
  - 1.3.6.1.4.1.9.1.2669 # ciscoC980080K9
  - 1.3.6.1.4.1.9.1.2825 # ciscoCMeWlc
  - 1.3.6.1.4.1.9.1.2860 # ciscoC9800LCK9
  - 1.3.6.1.4.1.9.1.2861 # ciscoC9800LFK9

metadata:
  # TODO: review this


metrics:

  # Connected APs metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.2.1
      name: bsnAPTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.2.1.1.6
        name: bsnAPOperationStatus # 1 : associated, 2 : disassociating, 3 : downloading
    metric_tags:
      - tag: ap_name
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.3
          name: bsnAPName
      - tag: ap_location
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.4
          name: bsnAPLocation
      - tag: ip_address
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.19
          name: bsnApIpAddress

  # Connected APs 802.11 interfaces metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.2.2
      name: bsnAPIfTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.2.2.1.12
        name: bsnAPIfOperStatus # 1 : down, 2 : up
      - OID: 1.3.6.1.4.1.14179.2.2.2.1.15
        name: bsnApIfNoOfUsers
    metric_tags:
      - tag: slot_id
        column:
          OID: 1.3.6.1.4.1.14179.2.2.2.1.1
          name: bsnAPIfSlotId
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.3
          name: bsnAPName
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 6
        tag: ap_name
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.4
          name: bsnAPLocation
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 6
        tag: ap_location
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.19
          name: bsnApIpAddress
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 6
        tag: ip_address

  # Load metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.2.13
      name: bsnAPIfLoadParametersTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.1
        name: bsnAPIfLoadRxUtilization
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.2
        name: bsnAPIfLoadTxUtilization
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.24
        name: bsnAPIfPoorSNRClients
      - OID: 1.3.6.1.4.1.14179.2.2.13.1.3
        name: bsnAPIfLoadChannelUtilization
    metric_tags:
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.2.1.1
          name: bsnAPIfSlotId
        table: bsnAPIfTable
        tag: slot_id
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.3
          name: bsnAPName
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 6
        tag: ap_name
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.4
          name: bsnAPLocation
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 6
        tag: ap_location
      - MIB: AIRESPACE-WIRELESS-MIB
        column:
          OID: 1.3.6.1.4.1.14179.2.2.1.1.19
          name: bsnApIpAddress
        table: bsnAPTable
        index_transform: # Keep only MAC address index
          - start: 0
            end: 6
        tag: ip_address

  # WLAN Metrics

  - MIB: AIRESPACE-WIRELESS-MIB
    table:
      OID: 1.3.6.1.4.1.14179.2.1.1
      name: bsnDot11EssTable
    symbols:
      - OID: 1.3.6.1.4.1.14179.2.1.1.1.6
        name: bsnDot11EssAdminStatus # 0 : disabled, 1 : enabled
      - OID: 1.3.6.1.4.1.14179.2.1.1.1.38
        name: bsnDot11EssNumberOfMobileStations
    metric_tags:
      - tag: wlan_index
        column:
          OID: 1.3.6.1.4.1.14179.2.1.1.1.1
          name: bsnDot11EssIndex
      - tag: ssid
        column:
          OID: 1.3.6.1.4.1.14179.2.1.1.1.2
          name: bsnDot11EssSsid
