# Profile for Cisco Nexus devices

sysobjectid: 1.3.6.1.4.1.9.12.3.1.3.*

metrics:
  - MIB: CISCO-ENTITY-SENSOR-MIB
    table: entSensorValueTable
    symbols:
      - entSensorValue
    metric_tags:
      - tag: sensor_type
        column: entSensorType
      - tag: sensor_id
        index: 1

  - MIB: CISCO-ENTITY-FRU-CONTROL-MIB
    table: cefcFRUPowerStatusTable
    symbols:
      - cefcFRUPowerAdminStatus
      - cefcFRUPowerOperStatus
      - cefcFRUCurrent
    metric_tags:
      - tag: fru
        index: 1

  - MIB: CISCO-PROCESS-MIB
    table: cpmCPUTotalTable
    symbols:
      # cpmCPUTotalMonIntervalValue is not listed in the 9k and 7k docs,
      # but it is listed on 3k. => Is it an oversight?
      # cpmCPUTotalMonIntervalValue is superseding cpmCPUTotal5secRev, so
      # we may want to use the latter for maximum compatibility.
      - cpmCPUTotalMonIntervalValue
      - cpmCPUMemoryUsed
      - cpmCPUMemoryFree
    metric_tags:
      - tag: cpu
        index: 1

  # Table 'cieIfPacketStatsTable' is not supported on 3k,
  # and symbols listed here aren't listed in the 9k docs.
  # - MIB: CISCO-IF-EXTENSION-MIB
  #   table: cieIfPacketStatsTable
  #   forced_type: gauge
  #   symbols:
  #     - cieIfLastInTime
  #     - cieIfLastOutTime
  #     - cieIfInputQueueDrops
  #     - cieIfOutputQueueDrops
  #   metric_tags:
  #     - tag: interface
  #       column: ifName
  #       MIB: IF-MIB
  #       table: ifXTable

  - MIB: CISCO-IF-EXTENSION-MIB
    table: cieIfInterfaceTable
    forced_type: monotonic_count
    symbols:
      - cieIfResetCount
    metric_tags:
      - tag: interface
        column: ifName
        MIB: IF-MIB
        table: ifXTable

  - MIB: IF-MIB
    table: ifTable
    forced_type: monotonic_count
    symbols:
      - ifInErrors
      - ifInDiscards
      - ifOutErrors
      - ifOutDiscards
    metric_tags:
      - tag: interface
        column: ifDescr

  - MIB: IF-MIB
    table: ifTable
    symbols:
      - ifAdminStatus
      - ifOperStatus
    metric_tags:
      - tag: interface
        column: ifDescr

  - MIB: IF-MIB
    table: ifXTable
    forced_type: monotonic_count
    symbols:
      - ifHCInOctets
      - ifHCInUcastPkts
      - ifHCInMulticastPkts
      - ifHCInBroadcastPkts
      - ifHCOutOctets
      - ifHCOutUcastPkts
      - ifHCOutMulticastPkts
      - ifHCOutBroadcastPkts
    metric_tags:
      - tag: interface
        column: ifName

  - MIB: TCP-MIB
    symbol: tcpActiveOpens
    forced_type: monotonic_count

  - MIB: TCP-MIB
    symbol: tcpPassiveOpens
    forced_type: monotonic_count

  - MIB: TCP-MIB
    symbol: tcpAttemptFails
    forced_type: monotonic_count

  - MIB: TCP-MIB
    symbol: tcpEstabResets
    forced_type: monotonic_count

  - MIB: TCP-MIB
    symbol: tcpCurrEstab

  - MIB: TCP-MIB
    symbol: tcpHCInSegs
    forced_type: monotonic_count

  - MIB: TCP-MIB
    symbol: tcpHCOutSegs
    forced_type: monotonic_count

  - MIB: TCP-MIB
    symbol: tcpRetransSegs
    forced_type: monotonic_count

  - MIB: TCP-MIB
    symbol: tcpInErrs
    forced_type: monotonic_count

  # Not listed in 7k/9k docs -- is it an oversight?
  # tcpOutRsts is listed in RFC2012 ("SNMPv2 MIB for TCP", 1996).
  - MIB: TCP-MIB
    symbol: tcpOutRsts
    forced_type: monotonic_count

  - MIB: UDP-MIB
    symbol: udpHCInDatagrams
    forced_type: monotonic_count

  - MIB: UDP-MIB
    symbol: udpNoPorts
    forced_type: monotonic_count

  - MIB: UDP-MIB
    symbol: udpInErrors
    forced_type: monotonic_count

  - MIB: UDP-MIB
    symbol: udpHCOutDatagrams
    forced_type: monotonic_count
