# Generic Resource metrics for devices

# Currently covers basic uptime and system process count along with storage stats
# TODO: add device table

metrics:
  #
  # General System Information
  #
  - MIB: HOST-RESOURCES-MIB
    symbol: hrSystemUptime
  - MIB: HOST-RESOURCES-MIB
    symbol: hrSystemNumUsers
  - MIB: HOST-RESOURCES-MIB
    symbol: hrSystemProcesses
  - MIB: HOST-RESOURCES-MIB
    symbol: hrSystemMaxProcesses

  #
  # Storage Devices
  #
  - MIB: HOST-RESOURCES-MIB
    table:
      OID: 1.3.6.1.2.1.25.2.3
      name: hrStorageTable
    symbols:
      - OID: 1.3.6.1.2.1.25.2.3.1.4
        name: hrStorageAllocationUnits
      - OID: 1.3.6.1.2.1.25.2.3.1.5
        name: hrStorageSize
      - OID: 1.3.6.1.2.1.25.2.3.1.6
        name: hrStorageUsed
      - OID: 1.3.6.1.2.1.25.2.3.1.7
        name: hrStorageAllocationFailures
    metric_tags:
    - column:
        OID: 1.3.6.1.2.1.25.2.3.1.3
        name: hrStorageDescr
        table: hrStorageTable
      tag: hrStorageDescr
    - column:
        OID: 1.3.6.1.2.1.25.2.3.1.2
        name: hrStorageType
        table: hrStorageTable
      tag: hrStorageType

  #
  # Processor Load
  #
  - MIB: HOST-RESOURCES-MIB
    table:
      OID: 1.3.6.1.2.1.25.3.3
      name: hrProcessorTable
    symbols:
      - OID: 1.3.6.1.2.1.25.3.3.1.2
        name: hrProcessorLoad
    metric_tags:
      - tag: processorid
        column: hrProcessorFrwID
      - column:
          OID: 1.3.6.1.2.1.25.3.2.1.3
          name: hrDeviceDescr
          table: hrDeviceTable
        tag: hrDevice