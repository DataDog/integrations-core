# CHANGELOG - ClickHouse

## 2.8.2 / 2023-01-20

* [Fixed] Make service check tests unitary. Add metadata entrypoint. See [#13753](https://github.com/DataDog/integrations-core/pull/13753).

## 2.8.1 / 2022-12-09 / Agent 7.42.0

* [Fixed] Update dependencies. See [#13478](https://github.com/DataDog/integrations-core/pull/13478).

## 2.8.0 / 2022-08-05 / Agent 7.39.0

* [Added] Add active parts metric and support clickhouse 22. See [#12104](https://github.com/DataDog/integrations-core/pull/12104). Thanks [spanneberg](https://github.com/spanneberg).
* [Fixed] Dependency updates. See [#12653](https://github.com/DataDog/integrations-core/pull/12653).

## 2.7.0 / 2022-04-05 / Agent 7.36.0

* [Added] Upgrade dependencies. See [#11726](https://github.com/DataDog/integrations-core/pull/11726).
* [Added] Add metric_patterns options to filter all metric submission by a list of regexes. See [#11695](https://github.com/DataDog/integrations-core/pull/11695).

## 2.6.0 / 2022-02-19 / Agent 7.35.0

* [Added] Add `pyproject.toml` file. See [#11327](https://github.com/DataDog/integrations-core/pull/11327).
* [Fixed] Fix namespace packaging on Python 2. See [#11532](https://github.com/DataDog/integrations-core/pull/11532).
* [Fixed] Remove unused `metric_prefix` in init_config. See [#11464](https://github.com/DataDog/integrations-core/pull/11464).

## 2.5.1 / 2022-01-08 / Agent 7.34.0

* [Fixed] Add comment to autogenerated model files. See [#10945](https://github.com/DataDog/integrations-core/pull/10945).

## 2.5.0 / 2021-11-13 / Agent 7.33.0

* [Added] Update dependencies. See [#10580](https://github.com/DataDog/integrations-core/pull/10580).
* [Added] Add runtime configuration validation. See [#8895](https://github.com/DataDog/integrations-core/pull/8895).

## 2.4.1 / 2021-10-12 / Agent 7.32.0

* [Fixed] Bump base package requirements. See [#10390](https://github.com/DataDog/integrations-core/pull/10390).

## 2.4.0 / 2021-10-04

* [Added] Sync configs with new option and bump base requirement. See [#10315](https://github.com/DataDog/integrations-core/pull/10315).
* [Added] Update dependencies. See [#10228](https://github.com/DataDog/integrations-core/pull/10228).
* [Fixed] Add server as generic tag. See [#10100](https://github.com/DataDog/integrations-core/pull/10100).

## 2.3.0 / 2021-08-22 / Agent 7.31.0

* [Added] Add support for Clickhouse v21. See [#9235](https://github.com/DataDog/integrations-core/pull/9235).

## 2.2.1 / 2021-07-12 / Agent 7.30.0

* [Fixed] Bump base package dependency. See [#9666](https://github.com/DataDog/integrations-core/pull/9666).

## 2.2.0 / 2021-05-28 / Agent 7.29.0

* [Added] Upgrade ClickHouse dependencies. See [#9344](https://github.com/DataDog/integrations-core/pull/9344).

## 2.1.0 / 2021-04-19 / Agent 7.28.0

* [Added] Support Clickhouse metrics v20. See [#8779](https://github.com/DataDog/integrations-core/pull/8779).

## 2.0.2 / 2021-03-07 / Agent 7.27.0

* [Fixed] Rename config spec example consumer option `default` to `display_default`. See [#8593](https://github.com/DataDog/integrations-core/pull/8593).
* [Fixed] Bump minimum base package version. See [#8443](https://github.com/DataDog/integrations-core/pull/8443).

## 2.0.1 / 2021-01-25 / Agent 7.26.0

* [Fixed] Remove `calculate_text_stack_trace` setting to allow the use of read-only accounts. See [#6637](https://github.com/DataDog/integrations-core/pull/6637). Thanks [TheMcGoose](https://github.com/TheMcGoose).

## 2.0.0 / 2020-10-31 / Agent 7.24.0

* [Added] [doc] Add encoding in log config sample. See [#7708](https://github.com/DataDog/integrations-core/pull/7708).
* [Changed] QueryManager - Prevent queries leaking between check instances. See [#7750](https://github.com/DataDog/integrations-core/pull/7750).

## 1.4.0 / 2020-09-21 / Agent 7.23.0

* [Added] Add config specs to clickhouse. See [#7433](https://github.com/DataDog/integrations-core/pull/7433).
* [Fixed] Use database config template in existing specs. See [#7548](https://github.com/DataDog/integrations-core/pull/7548).
* [Fixed] Fix style for the latest release of Black. See [#7438](https://github.com/DataDog/integrations-core/pull/7438).

## 1.3.2 / 2020-07-09 / Agent 7.22.0

* [Fixed] Update `can_connect` service check status on each check run. See [#7006](https://github.com/DataDog/integrations-core/pull/7006). Thanks [isaachui](https://github.com/isaachui).

## 1.3.1 / 2020-06-19 / Agent 7.21.0

* [Fixed] Submit `can_connect` service check on each check run. See [#6926](https://github.com/DataDog/integrations-core/pull/6926).

## 1.3.0 / 2020-05-17 / Agent 7.20.0

* [Added] Allow optional dependency installation for all checks. See [#6589](https://github.com/DataDog/integrations-core/pull/6589).

## 1.2.0 / 2020-04-04 / Agent 7.19.0

* [Added] Add `ddev test` option to verify support of new metrics. See [#6141](https://github.com/DataDog/integrations-core/pull/6141).
* [Added] Add new metrics: `cache_dictionary.update_queue.batches`, `cache_dictionary.update_queue.keys` . See [#5976](https://github.com/DataDog/integrations-core/pull/5976).
* [Fixed] Remove logs sourcecategory. See [#6121](https://github.com/DataDog/integrations-core/pull/6121).

## 1.1.0 / 2020-02-22 / Agent 7.18.0

* [Added] Add newly-documented metrics. See [#5795](https://github.com/DataDog/integrations-core/pull/5795).
* [Added] Add new metric for tracking MySQL connections. See [#5700](https://github.com/DataDog/integrations-core/pull/5700).

## 1.0.1 / 2020-01-24 / Agent 7.17.0

* [Fixed] Fix config. See [#5551](https://github.com/DataDog/integrations-core/pull/5551).

## 1.0.0 / 2019-12-18

* [Added] Add ClickHouse integration. See [#4957](https://github.com/DataDog/integrations-core/pull/4957).
