name: Kubevirt API
files:
  - name: kubevirt_api.yaml
    options:
      - template: init_config
        options:
          - template: init_config/openmetrics
      - template: instances
        options:
          - name: kubevirt_api_metrics_endpoint
            description: |
              URL to the KubeVirt API Service /metrics endpoint.
            value:
              display_default: null
              example: https://virt-api.kubevirt.svc/metrics
              type: string
          - name: kubevirt_api_healthz_endpoint
            description: |
              URL to check the KubeVirt API /healthz endpoint.
            value:
              display_default: null
              example: https://virt-api.kubevirt.svc/healthz
              type: string
          - template: instances/openmetrics
            overrides:
              openmetrics_endpoint.required: false
              openmetrics_endpoint.hidden: true
