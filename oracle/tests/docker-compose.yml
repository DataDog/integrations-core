version: '3.5'

services:
  oracle:
    image: ${ORACLE_IMAGE}
    ports:
      - 1521:1521
      - 8080:8080
    volumes:
      # keep db data to skip initialisation and speed up local iterations
      - ${LOCAL_TMP_DIR}/data:/u01/app/oracle
      # expose the instant client to the host
      - ${LOCAL_TMP_DIR}/instant-client:/instant-client
      # initial fixtures
      - ${RESOURCES_DIR}:/docker-entrypoint-initdb.d
    shm_size: '1024mb'
    environment:
      - WEB_CONSOLE=false
