# CHANGELOG - vsphere

## 3.6.2 / 2019-01-10

* [Fixed] Fix tags normalization. See [#2918][1].

## 3.6.1 / 2019-01-04

* [Fixed] Demote critical log levels to error. See [#2795][2].

## 3.6.0 / 2018-11-29

* [Added] Add option to collect cluster, datacenter and datastore metrics. See [#2655][3].

## 3.5.0 / 2018-11-21

* [Added] Handle unicode characters in vSphere object names. See [#2596][4].

## 3.4.0 / 2018-10-31

* [Added] Add option to use guest hostname instead of VM name. See [#2479][5].
* [Added] Upgrade requests. See [#2481][6].
* [Fixed] Fix "insufficient permission" error message formatting. See [#2480][7].

## 3.3.1 / 2018-09-19

* [Fixed] Fix batch implementation logic. See [#2265][8].

## 3.3.0 / 2018-09-17

* [Added]  Add ability to filter metrics by collection level. See [#2226][9].
* [Changed] Precompute list of metric IDs to improve performance. See [#2221][10].

## 3.2.0 / 2018-09-11

* [Fixed] Handle missing attributes in property collector result. See [#2205][11].
* [Fixed] Make the metadata cache thread safe. See [#2212][12].
* [Fixed] Make the connection list thread safe. See [#2201][13].
* [Fixed] Check that objects queue is initialized before processing it, and process it entirely. See [#2192][14].
* [Changed] Rewrite the Mor cache. See [#2173][15].

## 3.1.0 / 2018-09-06

* [Changed] Downgrade pyvmomi to v6.5.0.2017.5-1. See [#2180][16].

## 3.0.0 / 2018-09-04

* [Changed] Upgrade pyvmomi to 6.7.0. See [#2153][17].
* [Changed] Make first level cache thread safe. See [#2146][18].

## 2.4.0 / 2018-08-30

* [Fixed] Control size of the thread pool job queue. See [#2131][19].
* [Changed] Make the cache configuration thread safe. See [#2125][20].
* [Changed] Removed unused `_clean` method, added more unit tests. See [#2120][21].

## 2.3.1 / 2018-08-28

* [Fixed]  Fix `KeyError` due to race condition on the cache. See [#2099][22].

## 2.3.0 / 2018-08-21

* [Fixed] Drastically improve check performance by reducing number of calls to vSphere API. See [#2039][23].
* [Fixed] Retry connection once on failure, and correctly send CRITICAL service check if the connection still cannot be made. See [#2060][24].
* [Fixed] fix race condition and keyerror. See [#1893][25].
* [Changed] Add data files to the wheel package. See [#1727][26].

## 2.2.0 / 2018-06-20

* [Changed] Bump requests to 2.19.1. See [#1743][27].

## 2.1.0 / 2018-05-11

* [FEATURE] Add custom tag support for service checks.

## 2.0.0 / 2018-02-28

* [FEATURE] Run with Agent versions >= 6. See [#1098][28].
* [FEATURE] Add custom tag support. See [#1178][29].

## 1.0.4 / 2017-10-10

* [BUGFIX] Fix a possible leak of the vSphere password in the collector logs. See [#722][30].

## 1.0.3 / 2017-08-28

* [BUGFIX] Fix case where metrics metadata don't contain what we expect.

## 1.0.2 / 2017-07-18

* [SANITY] Import `Timer` helper from `utils.timer` instead of deprecated `util`. See [#484][31]

## 1.0.1 / 2017-06-05

* [BUGFIX] Fix case where returned data series are empty. See [#346][32]

## 1.0.0 / 2017-03-22

* [FEATURE] adds vsphere integration.

<!--- The following link definition list is generated by PimpMyChangelog --->
[1]: https://github.com/DataDog/integrations-core/pull/2918
[2]: https://github.com/DataDog/integrations-core/pull/2795
[3]: https://github.com/DataDog/integrations-core/pull/2655
[4]: https://github.com/DataDog/integrations-core/pull/2596
[5]: https://github.com/DataDog/integrations-core/pull/2479
[6]: https://github.com/DataDog/integrations-core/pull/2481
[7]: https://github.com/DataDog/integrations-core/pull/2480
[8]: https://github.com/DataDog/integrations-core/pull/2265
[9]: https://github.com/DataDog/integrations-core/pull/2226
[10]: https://github.com/DataDog/integrations-core/pull/2221
[11]: https://github.com/DataDog/integrations-core/pull/2205
[12]: https://github.com/DataDog/integrations-core/pull/2212
[13]: https://github.com/DataDog/integrations-core/pull/2201
[14]: https://github.com/DataDog/integrations-core/pull/2192
[15]: https://github.com/DataDog/integrations-core/pull/2173
[16]: https://github.com/DataDog/integrations-core/pull/2180
[17]: https://github.com/DataDog/integrations-core/pull/2153
[18]: https://github.com/DataDog/integrations-core/pull/2146
[19]: https://github.com/DataDog/integrations-core/pull/2131
[20]: https://github.com/DataDog/integrations-core/pull/2125
[21]: https://github.com/DataDog/integrations-core/pull/2120
[22]: https://github.com/DataDog/integrations-core/pull/2099
[23]: https://github.com/DataDog/integrations-core/pull/2039
[24]: https://github.com/DataDog/integrations-core/pull/2060
[25]: https://github.com/DataDog/integrations-core/pull/1893
[26]: https://github.com/DataDog/integrations-core/pull/1727
[27]: https://github.com/DataDog/integrations-core/pull/1743
[28]: https://github.com/DataDog/integrations-core/issues/1098
[29]: https://github.com/DataDog/integrations-core/issues/1178
[30]: https://github.com/DataDog/integrations-core/issues/722
[31]: https://github.com/DataDog/integrations-core/issues/484
[32]: https://github.com/DataDog/integrations-core/issues/346
