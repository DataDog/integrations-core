# CHANGELOG - pgbouncer

## 4.3.1 / 2022-12-09

* [Fixed] Do not install psycopg2-binary on arm macs. See [#13343](https://github.com/DataDog/integrations-core/pull/13343).

## 4.3.0 / 2022-08-05 / Agent 7.39.0

* [Added] Add per-client/server metrics. See [#12350](https://github.com/DataDog/integrations-core/pull/12350). Thanks [jcoleman](https://github.com/jcoleman).

## 4.2.1 / 2022-05-15 / Agent 7.37.0

* [Fixed] Handle errors for individual rows. See [#11993](https://github.com/DataDog/integrations-core/pull/11993).

## 4.2.0 / 2022-04-05 / Agent 7.36.0

* [Added] Add metric_patterns options to filter all metric submission by a list of regexes. See [#11695](https://github.com/DataDog/integrations-core/pull/11695).

## 4.1.0 / 2022-02-19 / Agent 7.35.0

* [Added] Add `pyproject.toml` file. See [#11414](https://github.com/DataDog/integrations-core/pull/11414).
* [Fixed] Fix namespace packaging on Python 2. See [#11532](https://github.com/DataDog/integrations-core/pull/11532).

## 4.0.0 / 2022-01-08 / Agent 7.34.0

* [Fixed] Add comment to autogenerated model files. See [#10945](https://github.com/DataDog/integrations-core/pull/10945).
* [Changed] Add `server` default group for all monitor special cases. See [#10976](https://github.com/DataDog/integrations-core/pull/10976).

## 3.2.0 / 2021-11-13 / Agent 7.33.0

* [Added] Add runtime configuration validation. See [#8968](https://github.com/DataDog/integrations-core/pull/8968).

## 3.1.0 / 2021-09-06 / Agent 7.32.0

* [Added] Add max_client_conn metric. See [#10033](https://github.com/DataDog/integrations-core/pull/10033). Thanks [JordanP](https://github.com/JordanP).

## 3.0.0 / 2021-08-22 / Agent 7.31.0

* [Changed] Remove messages for integrations for OK service checks. See [#9888](https://github.com/DataDog/integrations-core/pull/9888).

## 2.0.0 / 2021-07-12 / Agent 7.30.0

* [Changed] Upgrade psycopg2-binary to 2.8.6. See [#9535](https://github.com/DataDog/integrations-core/pull/9535).

## 1.12.2 / 2021-03-07 / Agent 7.27.0

* [Fixed] Bump minimum base package version. See [#8443](https://github.com/DataDog/integrations-core/pull/8443).

## 1.12.1 / 2020-12-11 / Agent 7.25.0

* [Fixed] Make pgbouncer more reslient. See [#8124](https://github.com/DataDog/integrations-core/pull/8124).

## 1.12.0 / 2020-10-31 / Agent 7.24.0

* [Added] [doc] Add encoding in log config sample. See [#7708](https://github.com/DataDog/integrations-core/pull/7708).

## 1.11.0 / 2020-09-21 / Agent 7.23.0

* [Added] Add config spec. See [#7589](https://github.com/DataDog/integrations-core/pull/7589).
* [Fixed] Upgrade isort. See [#7539](https://github.com/DataDog/integrations-core/pull/7539).
* [Fixed] Fix style for the latest release of Black. See [#7438](https://github.com/DataDog/integrations-core/pull/7438).

## 1.10.0 / 2020-05-17 / Agent 7.20.0

* [Added] Allow optional dependency installation for all checks. See [#6589](https://github.com/DataDog/integrations-core/pull/6589).
* [Fixed] Support more recent version in metadata. See [#6634](https://github.com/DataDog/integrations-core/pull/6634).

## 1.9.0 / 2020-04-01 / Agent 7.19.0

* [Added] Adding maxwait_us, total_wait_time, and avg_wait_time metrics. See [#6180](https://github.com/DataDog/integrations-core/pull/6180). Thanks [blaines](https://github.com/blaines).
* [Added] Add pgbouncer version metadata. See [#5761](https://github.com/DataDog/integrations-core/pull/5761).
* [Added] Refactor check code. See [#5737](https://github.com/DataDog/integrations-core/pull/5737).
* [Fixed] Update deprecated imports. See [#6088](https://github.com/DataDog/integrations-core/pull/6088).
* [Fixed] Remove logs sourcecategory. See [#6121](https://github.com/DataDog/integrations-core/pull/6121).

## 1.8.0 / 2019-12-02 / Agent 7.16.0

* [Added] Upgrade psycopg2-binary to 2.8.4. See [#4840](https://github.com/DataDog/integrations-core/pull/4840).

## 1.7.0 / 2019-07-04 / Agent 6.13.0

* [Added] Add logs section. See [#3961](https://github.com/DataDog/integrations-core/pull/3961).

## 1.6.0 / 2019-05-14 / Agent 6.12.0

* [Fixed] Use name instead of db to identify databases from SHOW DATABASES. See [#3459](https://github.com/DataDog/integrations-core/pull/3459). Thanks [joekohlsdorf](https://github.com/joekohlsdorf).
* [Added] Upgrade psycopg2-binary to 2.8.2. See [#3649](https://github.com/DataDog/integrations-core/pull/3649).
* [Added] Adhere to code style. See [#3554](https://github.com/DataDog/integrations-core/pull/3554).

## 1.5.0 / 2019-02-18 / Agent 6.10.0

* [Added] Add support for database metrics. See [#2777](https://github.com/DataDog/integrations-core/pull/2777). Thanks [joekohlsdorf](https://github.com/joekohlsdorf).
* [Added] Support Python 3. See [#3039](https://github.com/DataDog/integrations-core/pull/3039).

## 1.4.0 / 2019-01-04 / Agent 6.9.0

* [Added] Bump psycopg2-binary version to 2.7.5. See [#2799](https://github.com/DataDog/integrations-core/pull/2799).

## 1.3.1 / 2018-11-30 / Agent 6.8.0

* [Fixed] Failure to reconnect to PGBouncer when using database URL. See [#2587](https://github.com/DataDog/integrations-core/pull/2587). Thanks [VSpike](https://github.com/VSpike).

## 1.3.0 / 2018-08-07 / Agent 6.5.0

* [Added] Add the ability to specify 'use_cached' connections in config. See [#2000](https://github.com/DataDog/integrations-core/pull/2000). Thanks [kellydunn](https://github.com/kellydunn).
* [Changed] Rename dependency psycopg2 to pyscopg2-binary. See [#1842](https://github.com/DataDog/integrations-core/pull/1842).
* [Changed] Add data files to the wheel package. See [#1727](https://github.com/DataDog/integrations-core/pull/1727).

## 1.2.1 / 2018-06-07

* [Security] Update psycopg2 for security fixes. See [#1538](https://github.com/DataDog/integrations-core/pull/1538).

## 1.2.0 / 2018-05-11

* [FEATURE] Added custom tag support to service check.

## 1.1.0 / 2018-02-13

* [FEATURE] Added new metrics for PGBouncer 1.8 `SHOW STATS` and `SHOW POOLS` See [#1016](https://github.com/DataDog/integrations-core/issues/1016)

## 1.0.2 / [2017-11-21]

* [BUGFIX] Fixed newest versions failing checks due to extra field. See [#735](https://github.com/DataDog/integrations-core/issues/735)

## 1.0.1 / 2017-04-24

* [DEPENDENCY] bump psycopg2 to 2.7.1. See [#295](https://github.com/DataDog/integrations-core/issues/295)

## 1.0.0 / 2017-03-22

* [FEATURE] adds pgbouncer integration.
