init_config:

instances:

    ## @param stats_url - string - required
    ## The admin endpoint to connect to. It must be accessible:
    ## https://www.envoyproxy.io/docs/envoy/latest/operations/admin
    ## Add a `?usedonly` on the end if you wish to ignore
    ## unused metrics instead of reporting them as `0`.
    #
  - stats_url: http://localhost:80/stats

    ## @param metric_whitelist - list of strings - optional
    ## Whitelist metrics using regular expressions.
    ## The filtering occurs before tag extraction, so you have the option
    ## to have certain tags decide whether or not to keep or ignore metrics.
    ## For an exhaustive list of all metrics and tags, see:
    ## https://github.com/DataDog/integrations-core/blob/master/envoy/datadog_checks/envoy/metrics.py
    ##
    ## If you surround patterns by quotes, be sure to escape backslashes with an extra backslash.
    #
    # metric_whitelist:
    #   - cluster\.(in|out)\..*

    ## @param metric_blacklist - list of strings - optional
    ## Blacklist metrics using regular expressions.
    ## The filtering occurs before tag extraction, so you have the option
    ## to have certain tags decide whether or not to keep or ignore metrics.
    ## For an exhaustive list of all metrics and tags, see:
    ## https://github.com/DataDog/integrations-core/blob/master/envoy/datadog_checks/envoy/metrics.py
    ##
    ## If you surround patterns by quotes, be sure to escape backslashes with an extra backslash.
    #
    # metric_blacklist:
    #   - ^http\..*

    ## @param cache_metrics - boolean - optional - default: true
    ## Results are cached by default to decrease CPU utilization, at
    ## the expense of some memory. Disable by setting this to false.
    #
    # cache_metrics: true

    ## @param username - string - optional
    ## The username to use if services are behind basic auth.
    ## Note: The Envoy admin endpoint does not support auth until:
    ## https://github.com/envoyproxy/envoy/issues/2763
    ## For an alternative, see:
    ## https://gist.github.com/ofek/6051508cd0dfa98fc6c13153b647c6f8
    #
    # username: <USERNAME>

    ## @param password - string - optional
    ## The password to use if services are behind basic or NTLM auth.
    ## Note: The Envoy admin endpoint does not support auth until:
    ## https://github.com/envoyproxy/envoy/issues/2763
    ## For an alternative, see:
    ## https://gist.github.com/ofek/6051508cd0dfa98fc6c13153b647c6f8
    #
    # password: <PASSWORD>

    ## @param skip_proxy - boolean - optional - default: false
    ## If set to true, this makes the check bypass any proxy
    ## settings enabled and attempt to reach services directly.
    #
    # skip_proxy: false

    ## @param tls_verify - boolean - optional - default: true
    ## Instructs the check to validate the TLS certificate of services.
    #
    # tls_verify: true

    ## @param tls_ignore_warning - boolean - optional - default: false
    ## If `tls_verify` is disabled, security warnings are logged by the check.
    ## Disable those by setting `tls_ignore_warning` to true.
    #
    # tls_ignore_warning: false

    ## @param tls_cert - string - optional
    ## The path to a single file in PEM format containing a certificate as well as any
    ## number of CA certificates needed to establish the certificateâ€™s authenticity for
    ## use when connecting to services. It may also contain an unencrypted private key to use.
    #
    # tls_cert: <CERT_PATH>

    ## @param tls_private_key - string - optional
    ## The unencrypted private key to use for `tls_cert` when connecting to services. This is
    ## required if `tls_cert` is set and it does not already contain a private key.
    #
    # tls_private_key: <PRIVATE_KEY_PATH>

    ## @param tls_ca_cert - string - optional
    ## The path to a file of concatenated CA certificates in PEM format or a directory
    ## containing several CA certificates in PEM format. If a directory, the directory
    ## must have been processed using the c_rehash utility supplied with OpenSSL. See:
    ## https://www.openssl.org/docs/manmaster/man3/SSL_CTX_load_verify_locations.html
    #
    # tls_ca_cert: <CA_CERT_PATH>

    ## @param headers - list of key:value elements - optional
    ## The headers parameter allows you to send specific headers with every request.
    ## You can use it for explicitly specifying the host header or adding headers for
    ## authorization purposes.
    ##
    ## This overrides any default headers.
    #
    # headers:
    #   Host: <ALTERNATIVE_HOSTNAME>
    #   X-Auth-Token: <AUTH_TOKEN>

    ## @param timeout - integer - optional - default: 10
    ## The timeout for connecting to services.
    #
    # timeout: 10

    ## @param log_requests - boolean - optional - default: false
    ## Whether or not to debug log the HTTP(S) requests made, including the method and URL.
    #
    # log_requests: false

    ## @param persist_connections - boolean - optional - default: false
    ## Whether or not to persist cookies and use connection pooling for increased performance.
    #
    # persist_connections: false

    ## @param tags - list of key:value string - optional
    ## List of tags to attach to every metric and service check emitted by this integration.
    ##
    ## Learn more about tagging at https://docs.datadoghq.com/tagging
    #
    # tags:
    #   - <KEY_1>:<VALUE_1>
    #   - <KEY_2>:<VALUE_2>


## Log Section (Available for Agent >=6.0)
##
## type - mandatory - Type of log input source (tcp / udp / file / windows_event)
## port / path / channel_path - mandatory - Set port if type is tcp or udp. Set path if type is file. Set channel_path if type is windows_event
## service - mandatory - Name of the service that generated the log
## source  - mandatory - Attribute that defines which Integration sent the logs
## sourcecategory - optional - Multiple value attribute. Used to refine the source attribute
## tags: - optional - Add tags to the collected logs
##
## Discover Datadog log collection: https://docs.datadoghq.com/logs/log_collection/
#
# logs:
#   - type: file
#     path: /var/log/envoy.log
#     source: envoy
#     service: envoy
