id: argo_workflows
tests:
 -
   sample: |-
        time=\"2024-03-05T15:28:44.902Z\" level=info msg=\"Configuration:\nartifactRepository:\n  s3:\n    accessKeySecret:\n      key: accesskey\n      name: my-minio-cred\n    bucket: my-bucket\n    endpoint: minio:9000\n    insecure: true\n    secretKeySecret:\n      key: secretkey\n      name: my-minio-cred\ncolumns:\n- key: workflows.argoproj.io/completed\n  name: Workflow Completed\n  type: label\nexecutor:\n  name: \"\"\n  resources:\n    requests:\n      cpu: 10m\n      memory: 64Mi\nimages:\n  docker/whalesay:v3.5.4:\n    cmd:\n    - cowsay\ninitialDelay: 0s\nlinks:\n- name: Workflow Link\n  scope: workflow\n  url: http://logging-facility?namespace=${metadata.namespace}&workflowName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Pod Link\n  scope: pod\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Pod Logs Link\n  scope: pod-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Event Source Logs Link\n  scope: event-source-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Sensor Logs Link\n  scope: sensor-logs\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\n- name: Completed Workflows\n  scope: workflow-list\n  url: http://workflows?label=workflows.argoproj.io/completed=true\nmetricsConfig:\n  enabled: true\n  path: /metrics\n  port: 9090\nnamespaceParallelism: 10\nnodeEvents: {}\npodSpecLogStrategy: {}\nretentionPolicy:\n  completed: 10\n  errored: 3\n  failed: 3\nsso:\n  clientId:\n    key: \"\"\n  clientSecret:\n    key: \"\"\n  issuer: \"\"\n  redirectUrl: \"\"\n  sessionExpiry: 0s\ntelemetryConfig: {}\n\"
   result:
     custom:
       level: info
       timestamp: 1709652524902
     message: "\"Configuration:\\nartifactRepository:\\n  s3:\\n    accessKeySecret:\\n      key: accesskey\\n      name: my-minio-cred\\n    bucket: my-bucket\\n    endpoint: minio:9000\\n    insecure: true\\n    secretKeySecret:\\n      key: secretkey\\n      name: my-minio-cred\\ncolumns:\\n- key: workflows.argoproj.io/completed\\n  name: Workflow Completed\\n  type: label\\nexecutor:\\n  name: \\\"\\\"\\n  resources:\\n    requests:\\n      cpu: 10m\\n      memory: 64Mi\\nimages:\\n  docker/whalesay:v3.5.4:\\n    cmd:\\n    - cowsay\\ninitialDelay: 0s\\nlinks:\\n- name: Workflow Link\\n  scope: workflow\\n  url: http://logging-facility?namespace=${metadata.namespace}&workflowName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\\n- name: Pod Link\\n  scope: pod\\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\\n- name: Pod Logs Link\\n  scope: pod-logs\\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\\n- name: Event Source Logs Link\\n  scope: event-source-logs\\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\\n- name: Sensor Logs Link\\n  scope: sensor-logs\\n  url: http://logging-facility?namespace=${metadata.namespace}&podName=${metadata.name}&startedAt=${status.startedAt}&finishedAt=${status.finishedAt}\\n- name: Completed Workflows\\n  scope: workflow-list\\n  url: http://workflows?label=workflows.argoproj.io/completed=true\\nmetricsConfig:\\n  enabled: true\\n  path: /metrics\\n  port: 9090\\nnamespaceParallelism: 10\\nnodeEvents: {}\\npodSpecLogStrategy: {}\\nretentionPolicy:\\n  completed: 10\\n  errored: 3\\n  failed: 3\\nsso:\\n  clientId:\\n    key: \\\"\\\"\\n  clientSecret:\\n    key: \\\"\\\"\\n  issuer: \\\"\\\"\\n  redirectUrl: \\\"\\\"\\n  sessionExpiry: 0s\\ntelemetryConfig: {}\\n\""
     status: "info"
     tags:
       - "source:LOGS_SOURCE"
     timestamp: 1709652524902
     trace_id: "f9171cbc-d40e-4bb8-912a-8781b387cd97"
 -
   sample: |-
     I0305 15:28:44.902685       1 leaderelection.go:248] attempting to acquire leader lease argo/workflow-controller...
   result:
     custom:
      level: "I"
      logger:
        thread_id: 1
        lineno: 248
        name: "leaderelection.go"
      timestamp: 1711380524902
     message: "taskrun done : hello-task-run \n"
     status: "info"
     tags:
       - "source:LOGS_SOURCE"
     timestamp: 1711380524902
     trace_id: "f9171cbc-d40e-4bb8-912a-8781b387cd97"
